/*! For license information please see main.352785b5.js.LICENSE.txt */
(()=>{var e={834:(e,t,n)=>{var r=n(260)("jsonp");e.exports=function(e,t,n){"function"==typeof t&&(n=t,t={});t||(t={});var o,a,l=t.prefix||"__jp",c=t.name||l+i++,u=t.param||"callback",d=null!=t.timeout?t.timeout:6e4,h=encodeURIComponent,f=document.getElementsByTagName("script")[0]||document.head;d&&(a=setTimeout((function(){p(),n&&n(new Error("Timeout"))}),d));function p(){o.parentNode&&o.parentNode.removeChild(o),window[c]=s,a&&clearTimeout(a)}return window[c]=function(e){r("jsonp got",e),p(),n&&n(null,e)},e=(e+=(~e.indexOf("?")?"&":"?")+u+"="+h(c)).replace("?&","?"),r('jsonp req "%s"',e),(o=document.createElement("script")).src=e,f.parentNode.insertBefore(o,f),function(){window[c]&&p()}};var i=0;function s(){}},260:(e,t,n)=>{function r(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!==typeof process&&"env"in process&&(e={NODE_ENV:"production",PUBLIC_URL:"/youtube-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DEBUG),e}(t=e.exports=n(703)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,s=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(s=i))})),e.splice(s,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=r,t.useColors=function(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(r())},703:(e,t,n)=>{var r;function i(e){function n(){if(n.enabled){var e=n,i=+new Date,s=i-(r||i);e.diff=s,e.prev=r,e.curr=i,r=i;for(var o=new Array(arguments.length),a=0;a<o.length;a++)o[a]=arguments[a];o[0]=t.coerce(o[0]),"string"!==typeof o[0]&&o.unshift("%O");var l=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;l++;var i=t.formatters[r];if("function"===typeof i){var s=o[l];n=i.call(e,s),o.splice(l,1),l--}return n})),t.formatArgs.call(e,o),(n.log||t.log||console.log.bind(console)).apply(e,o)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"===typeof t.init&&t.init(n),n}(t=e.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"===typeof e?e:"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(850),t.names=[],t.skips=[],t.formatters={}},850:e=>{var t=1e3,n=60*t,r=60*n,i=24*r,s=365.25*i;function o(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,a){a=a||{};var l,c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var o=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!o)return;var a=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*s;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*r;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===c&&!1===isNaN(e))return a.long?o(l=e,i,"day")||o(l,r,"hour")||o(l,n,"minute")||o(l,t,"second")||l+" ms":function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=r)return Math.round(e/r)+"h";if(e>=n)return Math.round(e/n)+"m";if(e>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var O,M=Object.assign;function V(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var U=!1;function F(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function z(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case k:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case j:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function $(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ge=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Se=null;function Ee(e){if(e=mi(e)){if("function"!==typeof _e)throw Error(s(280));var t=e.stateNode;t&&(t=vi(t),_e(e.stateNode,e.type,t))}}function ke(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Ce(){if(xe){var e=xe,t=Se;if(Se=xe=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Te(e,t){return e(t)}function Ie(){}var Ne=!1;function je(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Te(e,t,n)}finally{Ne=!1,(null!==xe||null!==Se)&&(Ie(),Ce())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=vi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Le=!1;if(u)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(eu){Le=!1}function De(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Pe=!1,Oe=null,Me=!1,Ve=null,Ue={onError:function(e){Pe=!0,Oe=e}};function Fe(e,t,n,r,i,s,o,a,l){Pe=!1,Oe=null,De.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,Ze=i.unstable_UserBlockingPriority,et=i.unstable_NormalPriority,tt=i.unstable_LowPriority,nt=i.unstable_IdlePriority,rt=null,it=null;var st=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ot(e)/at|0)|0},ot=Math.log,at=Math.LN2;var lt=64,ct=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ut(a):0!==(s&=o)&&(r=ut(s))}else 0!==(o=n&~i)?r=ut(o):0!==s&&(r=ut(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,_t,xt,St,Et,kt=!1,Ct=[],Tt=null,It=null,Nt=null,jt=new Map,Rt=new Map,Lt=[],At="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":jt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Pt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=mi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ot(e){var t=pi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void Et(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=mi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Vt(e,t,n){Mt(e)&&n.delete(t)}function Ut(){kt=!1,null!==Tt&&Mt(Tt)&&(Tt=null),null!==It&&Mt(It)&&(It=null),null!==Nt&&Mt(Nt)&&(Nt=null),jt.forEach(Vt),Rt.forEach(Vt)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Ft(t,e)}if(0<Ct.length){Ft(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Ft(Tt,e),null!==It&&Ft(It,e),null!==Nt&&Ft(Nt,e),jt.forEach(t),Rt.forEach(t),n=0;n<Lt.length;n++)(r=Lt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Lt.length&&null===(n=Lt[0]).blockedOn;)Ot(n),null===n.blockedOn&&Lt.shift()}var Bt=b.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=yt,s=Bt.transition;Bt.transition=null;try{yt=1,Kt(e,t,n,r)}finally{yt=i,Bt.transition=s}}function qt(e,t,n,r){var i=yt,s=Bt.transition;Bt.transition=null;try{yt=4,Kt(e,t,n,r)}finally{yt=i,Bt.transition=s}}function Kt(e,t,n,r){if(Ht){var i=Qt(e,t,n,r);if(null===i)Fr(e,t,r,Gt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Pt(Tt,e,t,n,r,i),!0;case"dragenter":return It=Pt(It,e,t,n,r,i),!0;case"mouseover":return Nt=Pt(Nt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return jt.set(s,Pt(jt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Rt.set(s,Pt(Rt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<At.indexOf(e)){for(;null!==i;){var s=mi(i);if(null!==s&&bt(s),null===(s=Qt(e,t,n,r))&&Fr(e,t,r,Gt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Fr(e,t,r,null,n)}}var Gt=null;function Qt(e,t,n,r){if(Gt=null,null!==(e=pi(e=be(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case $e:return 1;case Ze:return 4;case et:case tt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,$t=null;function Zt(){if($t)return $t;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function en(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function tn(){return!0}function nn(){return!1}function rn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?tn:nn,this.isPropagationStopped=nn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tn)},persist:function(){},isPersistent:tn}),t}var sn,on,an,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=rn(ln),un=M({},ln,{view:0,detail:0}),dn=rn(un),hn=M({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==an&&(an&&"mousemove"===e.type?(sn=e.screenX-an.screenX,on=e.screenY-an.screenY):on=sn=0,an=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),fn=rn(hn),pn=rn(M({},hn,{dataTransfer:0})),mn=rn(M({},un,{relatedTarget:0})),gn=rn(M({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=rn(M({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),yn=rn(M({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Sn(){return xn}var En=rn(M({},un,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=en(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?en(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?en(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),kn=rn(M({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=rn(M({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Tn=rn(M({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=rn(M({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Nn=[9,13,27,32],jn=u&&"CompositionEvent"in window,Rn=null;u&&"documentMode"in document&&(Rn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Rn,An=u&&(!jn||Rn&&8<Rn&&11>=Rn),Dn=String.fromCharCode(32),Pn=!1;function On(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function zn(e,t,n,r){ke(r),0<(t=Br(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Bn=null,Hn=null;function Wn(e){Dr(e,0)}function qn(e){if(G(gi(e)))return e}function Kn(e,t){if("change"===e)return t}var Gn=!1;if(u){var Qn;if(u){var Yn="oninput"in document;if(!Yn){var Xn=document.createElement("div");Xn.setAttribute("oninput","return;"),Yn="function"===typeof Xn.oninput}Qn=Yn}else Qn=!1;Gn=Qn&&(!document.documentMode||9<document.documentMode)}function Jn(){Bn&&(Bn.detachEvent("onpropertychange",$n),Hn=Bn=null)}function $n(e){if("value"===e.propertyName&&qn(Hn)){var t=[];zn(t,Hn,e,be(e)),je(Wn,t)}}function Zn(e,t,n){"focusin"===e?(Jn(),Hn=n,(Bn=t).attachEvent("onpropertychange",$n)):"focusout"===e&&Jn()}function er(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(Hn)}function tr(e,t){if("click"===e)return qn(t)}function nr(e,t){if("input"===e||"change"===e)return qn(t)}var rr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ir(e,t){if(rr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!rr(e[i],t[i]))return!1}return!0}function sr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function or(e,t){var n,r=sr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sr(r)}}function ar(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ar(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function lr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function cr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ur(e){var t=lr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ar(n.ownerDocument.documentElement,n)){if(null!==r&&cr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=or(n,s);var o=or(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dr=u&&"documentMode"in document&&11>=document.documentMode,hr=null,fr=null,pr=null,mr=!1;function gr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;mr||null==hr||hr!==Q(r)||("selectionStart"in(r=hr)&&cr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},pr&&ir(pr,r)||(pr=r,0<(r=Br(fr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hr)))}function vr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var yr={animationend:vr("Animation","AnimationEnd"),animationiteration:vr("Animation","AnimationIteration"),animationstart:vr("Animation","AnimationStart"),transitionend:vr("Transition","TransitionEnd")},wr={},br={};function _r(e){if(wr[e])return wr[e];if(!yr[e])return e;var t,n=yr[e];for(t in n)if(n.hasOwnProperty(t)&&t in br)return wr[e]=n[t];return e}u&&(br=document.createElement("div").style,"AnimationEvent"in window||(delete yr.animationend.animation,delete yr.animationiteration.animation,delete yr.animationstart.animation),"TransitionEvent"in window||delete yr.transitionend.transition);var xr=_r("animationend"),Sr=_r("animationiteration"),Er=_r("animationstart"),kr=_r("transitionend"),Cr=new Map,Tr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Cr.set(e,t),l(t,[e])}for(var Nr=0;Nr<Tr.length;Nr++){var jr=Tr[Nr];Ir(jr.toLowerCase(),"on"+(jr[0].toUpperCase()+jr.slice(1)))}Ir(xr,"onAnimationEnd"),Ir(Sr,"onAnimationIteration"),Ir(Er,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(kr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Ar(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if(Fe.apply(this,arguments),Pe){if(!Pe)throw Error(s(198));var u=Oe;Pe=!1,Oe=null,Me||(Me=!0,Ve=u)}}(r,t,void 0,e),e.currentTarget=null}function Dr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Ar(i,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Ar(i,a,c),s=l}}}if(Me)throw e=Ve,Me=!1,Ve=null,e}function Pr(e,t){var n=t[di];void 0===n&&(n=t[di]=new Set);var r=e+"__bubble";n.has(r)||(Ur(t,e,2,!1),n.add(r))}function Or(e,t,n){var r=0;t&&(r|=4),Ur(n,e,r,t)}var Mr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Mr]){e[Mr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Or(t,!1,e),Or(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Mr]||(t[Mr]=!0,Or("selectionchange",!1,t))}}function Ur(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=qt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Fr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=pi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}je((function(){var r=s,i=be(n),o=[];e:{var a=Cr.get(e);if(void 0!==a){var l=cn,c=e;switch(e){case"keypress":if(0===en(n))break e;case"keydown":case"keyup":l=En;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case xr:case Sr:case Er:l=gn;break;case kr:l=Tn;break;case"scroll":l=dn;break;case"wheel":l=In;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=kn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Re(p,h))&&u.push(zr(p,m,f)))),d)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!pi(c)&&!c[ui])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?pi(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=kn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:gi(l),f=null==c?a:gi(c),(a=new u(m,p+"leave",l,n,i)).target=d,a.relatedTarget=f,m=null,pi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Hr(f))p++;for(f=0,m=h;m;m=Hr(m))f++;for(;0<p-f;)u=Hr(u),p--;for(;0<f-p;)h=Hr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Hr(u),h=Hr(h)}u=null}else u=null;null!==l&&Wr(o,a,l,u,!1),null!==c&&null!==d&&Wr(o,d,c,u,!0)}if("select"===(l=(a=r?gi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Kn;else if(Fn(a))if(Gn)g=nr;else{g=er;var v=Zn}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=tr);switch(g&&(g=g(e,r))?zn(o,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?gi(r):window,e){case"focusin":(Fn(v)||"true"===v.contentEditable)&&(hr=v,fr=r,pr=null);break;case"focusout":pr=fr=hr=null;break;case"mousedown":mr=!0;break;case"contextmenu":case"mouseup":case"dragend":mr=!1,gr(o,n,i);break;case"selectionchange":if(dr)break;case"keydown":case"keyup":gr(o,n,i)}var y;if(jn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Vn?On(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(An&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Vn&&(y=Zt()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Vn=!0)),0<(v=Br(r,w)).length&&(w=new yn(w,e,null,n,i),o.push({event:w,listeners:v}),y?w.data=y:null!==(y=Mn(n))&&(w.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Mn(t);case"keypress":return 32!==t.which?null:(Pn=!0,Dn);case"textInput":return(e=t.data)===Dn&&Pn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!jn&&On(e,t)?(e=Zt(),$t=Jt=Xt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return An&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Br(r,"onBeforeInput")).length&&(i=new yn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Dr(o,t)}))}function zr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Br(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Re(e,n))&&r.unshift(zr(e,s,i)),null!=(s=Re(e,t))&&r.push(zr(e,s,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Re(n,s))&&o.unshift(zr(n,l,a)):i||null!=(l=Re(n,s))&&o.push(zr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var qr=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Gr(e){return("string"===typeof e?e:""+e).replace(qr,"\n").replace(Kr,"")}function Qr(e,t,n){if(t=Gr(t),Gr(e)!==t&&n)throw Error(s(425))}function Yr(){}var Xr=null,Jr=null;function $r(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Zr="function"===typeof setTimeout?setTimeout:void 0,ei="function"===typeof clearTimeout?clearTimeout:void 0,ti="function"===typeof Promise?Promise:void 0,ni="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ti?function(e){return ti.resolve(null).then(e).catch(ri)}:Zr;function ri(e){setTimeout((function(){throw e}))}function ii(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function si(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function oi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ai=Math.random().toString(36).slice(2),li="__reactFiber$"+ai,ci="__reactProps$"+ai,ui="__reactContainer$"+ai,di="__reactEvents$"+ai,hi="__reactListeners$"+ai,fi="__reactHandles$"+ai;function pi(e){var t=e[li];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ui]||n[li]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=oi(e);null!==e;){if(n=e[li])return n;e=oi(e)}return t}n=(e=n).parentNode}return null}function mi(e){return!(e=e[li]||e[ui])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function gi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function vi(e){return e[ci]||null}var yi=[],wi=-1;function bi(e){return{current:e}}function _i(e){0>wi||(e.current=yi[wi],yi[wi]=null,wi--)}function xi(e,t){wi++,yi[wi]=e.current,e.current=t}var Si={},Ei=bi(Si),ki=bi(!1),Ci=Si;function Ti(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ii(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ni(){_i(ki),_i(Ei)}function ji(e,t,n){if(Ei.current!==Si)throw Error(s(168));xi(Ei,t),xi(ki,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,H(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Ci=Ei.current,xi(Ei,e),xi(ki,ki.current),!0}function Ai(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Ri(e,t,Ci),r.__reactInternalMemoizedMergedChildContext=e,_i(ki),_i(Ei),xi(Ei,e)):_i(ki),xi(ki,n)}var Di=null,Pi=!1,Oi=!1;function Mi(e){null===Di?Di=[e]:Di.push(e)}function Vi(){if(!Oi&&null!==Di){Oi=!0;var e=0,t=yt;try{var n=Di;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Di=null,Pi=!1}catch(i){throw null!==Di&&(Di=Di.slice(e+1)),Ke($e,Vi),i}finally{yt=t,Oi=!1}}return null}var Ui=[],Fi=0,zi=null,Bi=0,Hi=[],Wi=0,qi=null,Ki=1,Gi="";function Qi(e,t){Ui[Fi++]=Bi,Ui[Fi++]=zi,zi=e,Bi=t}function Yi(e,t,n){Hi[Wi++]=Ki,Hi[Wi++]=Gi,Hi[Wi++]=qi,qi=e;var r=Ki;e=Gi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var s=32-st(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ki=1<<32-st(t)+i|n<<i|r,Gi=s+e}else Ki=1<<s|n<<i|r,Gi=e}function Xi(e){null!==e.return&&(Qi(e,1),Yi(e,1,0))}function Ji(e){for(;e===zi;)zi=Ui[--Fi],Ui[Fi]=null,Bi=Ui[--Fi],Ui[Fi]=null;for(;e===qi;)qi=Hi[--Wi],Hi[Wi]=null,Gi=Hi[--Wi],Hi[Wi]=null,Ki=Hi[--Wi],Hi[Wi]=null}var $i=null,Zi=null,es=!1,ts=null;function ns(e,t){var n=Tc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function rs(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,$i=e,Zi=si(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,$i=e,Zi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==qi?{id:Ki,overflow:Gi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Tc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,$i=e,Zi=null,!0);default:return!1}}function is(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ss(e){if(es){var t=Zi;if(t){var n=t;if(!rs(e,t)){if(is(e))throw Error(s(418));t=si(n.nextSibling);var r=$i;t&&rs(e,t)?ns(r,n):(e.flags=-4097&e.flags|2,es=!1,$i=e)}}else{if(is(e))throw Error(s(418));e.flags=-4097&e.flags|2,es=!1,$i=e}}}function os(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;$i=e}function as(e){if(e!==$i)return!1;if(!es)return os(e),es=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!$r(e.type,e.memoizedProps)),t&&(t=Zi)){if(is(e))throw ls(),Error(s(418));for(;t;)ns(e,t),t=si(t.nextSibling)}if(os(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Zi=si(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Zi=null}}else Zi=$i?si(e.stateNode.nextSibling):null;return!0}function ls(){for(var e=Zi;e;)e=si(e.nextSibling)}function cs(){Zi=$i=null,es=!1}function us(e){null===ts?ts=[e]:ts.push(e)}var ds=b.ReactCurrentBatchConfig;function hs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function fs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ps(e){return(0,e._init)(e._payload)}function ms(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Nc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Ac(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===L&&ps(s)===t.type)?((r=i(t,n.props)).ref=hs(e,t,n),r.return=e,r):((r=jc(n.type,n.key,n.props,null,e.mode,r)).ref=hs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Dc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Rc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ac(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=jc(t.type,t.key,t.props,null,e.mode,n)).ref=hs(e,null,t),n.return=e,n;case x:return(t=Dc(t,e.mode,n)).return=e,t;case L:return h(e,(0,t._init)(t._payload),n)}if(te(t)||P(t))return(t=Rc(t,e.mode,n,null)).return=e,t;fs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?u(e,t,n,r):null;case L:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||P(n))return null!==i?null:d(e,t,n,r,null);fs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case L:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||P(r))return d(t,e=e.get(n)||null,r,i,null);fs(t,r)}return null}function m(i,s,a,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,a[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=o(v,s,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(i,d),es&&Qi(i,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],l))&&(s=o(d,s,m),null===u?c=d:u.sibling=d,u=d);return es&&Qi(i,m),c}for(d=r(i,d);m<a.length;m++)null!==(g=p(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),es&&Qi(i,m),c}function g(i,a,l,c){var u=P(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=f(i,m,y.value,c);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(i,m),a=o(w,a,g),null===d?u=w:d.sibling=w,d=w,m=v}if(y.done)return n(i,m),es&&Qi(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(a=o(y,a,g),null===d?u=y:d.sibling=y,d=y);return es&&Qi(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),es&&Qi(i,g),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===S){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===L&&ps(c)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=hs(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===S?((s=Rc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=jc(o.type,o.key,o.props,null,r.mode,l)).ref=hs(r,s,o),l.return=r,r=l)}return a(r);case x:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Dc(o,r.mode,l)).return=r,r=s}return a(r);case L:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(P(o))return g(r,s,o,l);fs(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Ac(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var gs=ms(!0),vs=ms(!1),ys=bi(null),ws=null,bs=null,_s=null;function xs(){_s=bs=ws=null}function Ss(e){var t=ys.current;_i(ys),e._currentValue=t}function Es(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ks(e,t){ws=e,_s=bs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ma=!0),e.firstContext=null)}function Cs(e){var t=e._currentValue;if(_s!==e)if(e={context:e,memoizedValue:t,next:null},null===bs){if(null===ws)throw Error(s(308));bs=e,ws.dependencies={lanes:0,firstContext:e}}else bs=bs.next=e;return t}var Ts=null;function Is(e){null===Ts?Ts=[e]:Ts.push(e)}function Ns(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Is(t)):(n.next=i.next,i.next=n),t.interleaved=n,js(e,r)}function js(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Rs=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function As(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ds(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ps(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&El)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,js(e,n)}return null===(i=r.interleaved)?(t.next=t,Is(r)):(t.next=i.next,i.next=t),r.interleaved=t,js(e,n)}function Os(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Ms(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vs(e,t,n,r){var i=e.updateQueue;Rs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(o=0,u=c=l=null,a=s;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=M({},d,h);break e;case 2:Rs=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,o|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ll|=o,e.lanes=o,e.memoizedState=d}}function Us(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Fs={},zs=bi(Fs),Bs=bi(Fs),Hs=bi(Fs);function Ws(e){if(e===Fs)throw Error(s(174));return e}function qs(e,t){switch(xi(Hs,t),xi(Bs,e),xi(zs,Fs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(zs),xi(zs,t)}function Ks(){_i(zs),_i(Bs),_i(Hs)}function Gs(e){Ws(Hs.current);var t=Ws(zs.current),n=le(t,e.type);t!==n&&(xi(Bs,e),xi(zs,n))}function Qs(e){Bs.current===e&&(_i(zs),_i(Bs))}var Ys=bi(0);function Xs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Js=[];function $s(){for(var e=0;e<Js.length;e++)Js[e]._workInProgressVersionPrimary=null;Js.length=0}var Zs=b.ReactCurrentDispatcher,eo=b.ReactCurrentBatchConfig,to=0,no=null,ro=null,io=null,so=!1,oo=!1,ao=0,lo=0;function co(){throw Error(s(321))}function uo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rr(e[n],t[n]))return!1;return!0}function ho(e,t,n,r,i,o){if(to=o,no=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zs.current=null===e||null===e.memoizedState?Yo:Xo,e=n(r,i),oo){o=0;do{if(oo=!1,ao=0,25<=o)throw Error(s(301));o+=1,io=ro=null,t.updateQueue=null,Zs.current=Jo,e=n(r,i)}while(oo)}if(Zs.current=Qo,t=null!==ro&&null!==ro.next,to=0,io=ro=no=null,so=!1,t)throw Error(s(300));return e}function fo(){var e=0!==ao;return ao=0,e}function po(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===io?no.memoizedState=io=e:io=io.next=e,io}function mo(){if(null===ro){var e=no.alternate;e=null!==e?e.memoizedState:null}else e=ro.next;var t=null===io?no.memoizedState:io.next;if(null!==t)io=t,ro=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ro=e).memoizedState,baseState:ro.baseState,baseQueue:ro.baseQueue,queue:ro.queue,next:null},null===io?no.memoizedState=io=e:io=io.next=e}return io}function go(e,t){return"function"===typeof t?t(e):t}function vo(e){var t=mo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ro,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,c=null,u=o;do{var d=u.lane;if((to&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,no.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,rr(r,t.memoizedState)||(ma=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,no.lanes|=o,Ll|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function yo(e){var t=mo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);rr(o,t.memoizedState)||(ma=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function wo(){}function bo(e,t){var n=no,r=mo(),i=t(),o=!rr(r.memoizedState,i);if(o&&(r.memoizedState=i,ma=!0),r=r.queue,Lo(So.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==io&&1&io.memoizedState.tag){if(n.flags|=2048,To(9,xo.bind(null,n,r,i,t),void 0,null),null===kl)throw Error(s(349));0!==(30&to)||_o(n,t,i)}return i}function _o(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=no.updateQueue)?(t={lastEffect:null,stores:null},no.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function xo(e,t,n,r){t.value=n,t.getSnapshot=r,Eo(t)&&ko(e)}function So(e,t,n){return n((function(){Eo(t)&&ko(e)}))}function Eo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rr(e,n)}catch(r){return!0}}function ko(e){var t=js(e,1);null!==t&&$l(t,e,1,-1)}function Co(e){var t=po();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:e},t.queue=e,e=e.dispatch=Wo.bind(null,no,e),[t.memoizedState,e]}function To(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=no.updateQueue)?(t={lastEffect:null,stores:null},no.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Io(){return mo().memoizedState}function No(e,t,n,r){var i=po();no.flags|=e,i.memoizedState=To(1|t,n,void 0,void 0===r?null:r)}function jo(e,t,n,r){var i=mo();r=void 0===r?null:r;var s=void 0;if(null!==ro){var o=ro.memoizedState;if(s=o.destroy,null!==r&&uo(r,o.deps))return void(i.memoizedState=To(t,n,s,r))}no.flags|=e,i.memoizedState=To(1|t,n,s,r)}function Ro(e,t){return No(8390656,8,e,t)}function Lo(e,t){return jo(2048,8,e,t)}function Ao(e,t){return jo(4,2,e,t)}function Do(e,t){return jo(4,4,e,t)}function Po(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Oo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,jo(4,4,Po.bind(null,t,e),n)}function Mo(){}function Vo(e,t){var n=mo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&uo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Uo(e,t){var n=mo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&uo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Fo(e,t,n){return 0===(21&to)?(e.baseState&&(e.baseState=!1,ma=!0),e.memoizedState=n):(rr(n,t)||(n=pt(),no.lanes|=n,Ll|=n,e.baseState=!0),t)}function zo(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=eo.transition;eo.transition={};try{e(!1),t()}finally{yt=n,eo.transition=r}}function Bo(){return mo().memoizedState}function Ho(e,t,n){var r=Jl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qo(e))Ko(t,n);else if(null!==(n=Ns(e,t,n,r))){$l(n,e,r,Xl()),Go(n,t,r)}}function Wo(e,t,n){var r=Jl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qo(e))Ko(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,rr(a,o)){var l=t.interleaved;return null===l?(i.next=i,Is(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ns(e,t,i,r))&&($l(n,e,r,i=Xl()),Go(n,t,r))}}function qo(e){var t=e.alternate;return e===no||null!==t&&t===no}function Ko(e,t){oo=so=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Go(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Qo={readContext:Cs,useCallback:co,useContext:co,useEffect:co,useImperativeHandle:co,useInsertionEffect:co,useLayoutEffect:co,useMemo:co,useReducer:co,useRef:co,useState:co,useDebugValue:co,useDeferredValue:co,useTransition:co,useMutableSource:co,useSyncExternalStore:co,useId:co,unstable_isNewReconciler:!1},Yo={readContext:Cs,useCallback:function(e,t){return po().memoizedState=[e,void 0===t?null:t],e},useContext:Cs,useEffect:Ro,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,No(4194308,4,Po.bind(null,t,e),n)},useLayoutEffect:function(e,t){return No(4194308,4,e,t)},useInsertionEffect:function(e,t){return No(4,2,e,t)},useMemo:function(e,t){var n=po();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=po();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ho.bind(null,no,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},po().memoizedState=e},useState:Co,useDebugValue:Mo,useDeferredValue:function(e){return po().memoizedState=e},useTransition:function(){var e=Co(!1),t=e[0];return e=zo.bind(null,e[1]),po().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=no,i=po();if(es){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===kl)throw Error(s(349));0!==(30&to)||_o(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ro(So.bind(null,r,o,e),[e]),r.flags|=2048,To(9,xo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=po(),t=kl.identifierPrefix;if(es){var n=Gi;t=":"+t+"R"+(n=(Ki&~(1<<32-st(Ki)-1)).toString(32)+n),0<(n=ao++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=lo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xo={readContext:Cs,useCallback:Vo,useContext:Cs,useEffect:Lo,useImperativeHandle:Oo,useInsertionEffect:Ao,useLayoutEffect:Do,useMemo:Uo,useReducer:vo,useRef:Io,useState:function(){return vo(go)},useDebugValue:Mo,useDeferredValue:function(e){return Fo(mo(),ro.memoizedState,e)},useTransition:function(){return[vo(go)[0],mo().memoizedState]},useMutableSource:wo,useSyncExternalStore:bo,useId:Bo,unstable_isNewReconciler:!1},Jo={readContext:Cs,useCallback:Vo,useContext:Cs,useEffect:Lo,useImperativeHandle:Oo,useInsertionEffect:Ao,useLayoutEffect:Do,useMemo:Uo,useReducer:yo,useRef:Io,useState:function(){return yo(go)},useDebugValue:Mo,useDeferredValue:function(e){var t=mo();return null===ro?t.memoizedState=e:Fo(t,ro.memoizedState,e)},useTransition:function(){return[yo(go)[0],mo().memoizedState]},useMutableSource:wo,useSyncExternalStore:bo,useId:Bo,unstable_isNewReconciler:!1};function $o(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function Zo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ea={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xl(),i=Jl(e),s=Ds(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ps(e,s,i))&&($l(t,e,i,r),Os(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xl(),i=Jl(e),s=Ds(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ps(e,s,i))&&($l(t,e,i,r),Os(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xl(),r=Jl(e),i=Ds(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ps(e,i,r))&&($l(t,e,r,n),Os(t,e,r))}};function ta(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!ir(n,r)||!ir(i,s))}function na(e,t,n){var r=!1,i=Si,s=t.contextType;return"object"===typeof s&&null!==s?s=Cs(s):(i=Ii(t)?Ci:Ei.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ti(e,i):Si),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ea,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ra(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ea.enqueueReplaceState(t,t.state,null)}function ia(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Cs(s):(s=Ii(t)?Ci:Ei.current,i.context=Ti(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Zo(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ea.enqueueReplaceState(i,i.state,null),Vs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function sa(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function oa(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function aa(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var la="function"===typeof WeakMap?WeakMap:Map;function ca(e,t,n){(n=Ds(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Fl||(Fl=!0,zl=r),aa(0,t)},n}function ua(e,t,n){(n=Ds(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){aa(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){aa(0,t),"function"!==typeof r&&(null===Bl?Bl=new Set([this]):Bl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function da(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new la;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function ha(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function fa(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ds(-1,1)).tag=2,Ps(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var pa=b.ReactCurrentOwner,ma=!1;function ga(e,t,n,r){t.child=null===e?vs(t,null,n,r):gs(t,e.child,n,r)}function va(e,t,n,r,i){n=n.render;var s=t.ref;return ks(t,i),r=ho(e,t,n,r,s,i),n=fo(),null===e||ma?(es&&n&&Xi(t),t.flags|=1,ga(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Fa(e,t,i))}function ya(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Ic(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=jc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,wa(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:ir)(o,r)&&e.ref===t.ref)return Fa(e,t,i)}return t.flags|=1,(e=Nc(s,r)).ref=t.ref,e.return=t,t.child=e}function wa(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(ir(s,r)&&e.ref===t.ref){if(ma=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Fa(e,t,i);0!==(131072&e.flags)&&(ma=!0)}}return xa(e,t,n,r,i)}function ba(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xi(Nl,Il),Il|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xi(Nl,Il),Il|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,xi(Nl,Il),Il|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,xi(Nl,Il),Il|=r;return ga(e,t,i,n),t.child}function _a(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xa(e,t,n,r,i){var s=Ii(n)?Ci:Ei.current;return s=Ti(t,s),ks(t,i),n=ho(e,t,n,r,s,i),r=fo(),null===e||ma?(es&&r&&Xi(t),t.flags|=1,ga(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Fa(e,t,i))}function Sa(e,t,n,r,i){if(Ii(n)){var s=!0;Li(t)}else s=!1;if(ks(t,i),null===t.stateNode)Ua(e,t),na(t,n,r),ia(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Cs(c):c=Ti(t,c=Ii(n)?Ci:Ei.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&ra(t,o,r,c),Rs=!1;var h=t.memoizedState;o.state=h,Vs(t,r,o,i),l=t.memoizedState,a!==r||h!==l||ki.current||Rs?("function"===typeof u&&(Zo(t,n,u,r),l=t.memoizedState),(a=Rs||ta(t,n,a,r,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,As(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:$o(t.type,a),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Cs(l):l=Ti(t,l=Ii(n)?Ci:Ei.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==d||h!==l)&&ra(t,o,r,l),Rs=!1,h=t.memoizedState,o.state=h,Vs(t,r,o,i);var p=t.memoizedState;a!==d||h!==p||ki.current||Rs?("function"===typeof f&&(Zo(t,n,f,r),p=t.memoizedState),(c=Rs||ta(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ea(e,t,n,r,s,i)}function Ea(e,t,n,r,i,s){_a(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ai(t,n,!1),Fa(e,t,s);r=t.stateNode,pa.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=gs(t,e.child,null,s),t.child=gs(t,null,a,s)):ga(e,t,a,s),t.memoizedState=r.state,i&&Ai(t,n,!0),t.child}function ka(e){var t=e.stateNode;t.pendingContext?ji(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ji(0,t.context,!1),qs(e,t.containerInfo)}function Ca(e,t,n,r,i){return cs(),us(i),t.flags|=256,ga(e,t,n,r),t.child}var Ta,Ia,Na,ja,Ra={dehydrated:null,treeContext:null,retryLane:0};function La(e){return{baseLanes:e,cachePool:null,transitions:null}}function Aa(e,t,n){var r,i=t.pendingProps,o=Ys.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),xi(Ys,1&o),null===e)return ss(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Lc(l,i,0,null),e=Rc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=La(n),t.memoizedState=Ra,e):Da(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Pa(e,t,a,r=oa(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(o=Rc(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&gs(t,e.child,null,a),t.child.memoizedState=La(a),t.memoizedState=Ra,o);if(0===(1&t.mode))return Pa(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Pa(e,t,a,r=oa(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),ma||l){if(null!==(r=kl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,js(e,i),$l(r,e,i,-1))}return dc(),Pa(e,t,a,r=oa(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Sc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Zi=si(i.nextSibling),$i=t,es=!0,ts=null,null!==e&&(Hi[Wi++]=Ki,Hi[Wi++]=Gi,Hi[Wi++]=qi,Ki=e.id,Gi=e.overflow,qi=t),t=Da(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Nc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Nc(r,a):(a=Rc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?La(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ra,i}return e=(a=e.child).sibling,i=Nc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Da(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Pa(e,t,n,r){return null!==r&&us(r),gs(t,e.child,null,n),(e=Da(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Oa(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Es(e.return,t,n)}function Ma(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Va(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ga(e,t,r.children,n),0!==(2&(r=Ys.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Oa(e,n,t);else if(19===e.tag)Oa(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xi(Ys,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Xs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ma(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Xs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ma(t,!0,n,null,s);break;case"together":Ma(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ua(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Fa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Nc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function za(e,t){if(!es)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ba(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ha(e,t,n){var r=t.pendingProps;switch(Ji(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ba(t),null;case 1:case 17:return Ii(t.type)&&Ni(),Ba(t),null;case 3:return r=t.stateNode,Ks(),_i(ki),_i(Ei),$s(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(as(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ts&&(nc(ts),ts=null))),Ia(e,t),Ba(t),null;case 5:Qs(t);var i=Ws(Hs.current);if(n=t.type,null!==e&&null!=t.stateNode)Na(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ba(t),null}if(e=Ws(zs.current),as(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[li]=t,r[ci]=o,e=0!==(1&t.mode),n){case"dialog":Pr("cancel",r),Pr("close",r);break;case"iframe":case"object":case"embed":Pr("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Pr(Rr[i],r);break;case"source":Pr("error",r);break;case"img":case"image":case"link":Pr("error",r),Pr("load",r);break;case"details":Pr("toggle",r);break;case"input":X(r,o),Pr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Pr("invalid",r);break;case"textarea":ie(r,o),Pr("invalid",r)}for(var l in ve(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Pr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Yr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[li]=t,e[ci]=r,Ta(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,r),n){case"dialog":Pr("cancel",e),Pr("close",e),i=r;break;case"iframe":case"object":case"embed":Pr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Pr(Rr[i],e);i=r;break;case"source":Pr("error",e),i=r;break;case"img":case"image":case"link":Pr("error",e),Pr("load",e),i=r;break;case"details":Pr("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Pr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Pr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Pr("invalid",e)}for(o in ve(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?me(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&ue(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Pr("scroll",e):null!=u&&w(e,o,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Yr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ba(t),null;case 6:if(e&&null!=t.stateNode)ja(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Ws(Hs.current),Ws(zs.current),as(t)){if(r=t.stateNode,n=t.memoizedProps,r[li]=t,(o=r.nodeValue!==n)&&null!==(e=$i))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[li]=t,t.stateNode=r}return Ba(t),null;case 13:if(_i(Ys),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(es&&null!==Zi&&0!==(1&t.mode)&&0===(128&t.flags))ls(),cs(),t.flags|=98560,o=!1;else if(o=as(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[li]=t}else cs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ba(t),o=!1}else null!==ts&&(nc(ts),ts=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Ys.current)?0===jl&&(jl=3):dc())),null!==t.updateQueue&&(t.flags|=4),Ba(t),null);case 4:return Ks(),Ia(e,t),null===e&&Vr(t.stateNode.containerInfo),Ba(t),null;case 10:return Ss(t.type._context),Ba(t),null;case 19:if(_i(Ys),null===(o=t.memoizedState))return Ba(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)za(o,!1);else{if(0!==jl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=Xs(e))){for(t.flags|=128,za(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xi(Ys,1&Ys.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Vl&&(t.flags|=128,r=!0,za(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Xs(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),za(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!es)return Ba(t),null}else 2*Xe()-o.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,za(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=Ys.current,xi(Ys,r?1&n|2:1&n),t):(Ba(t),null);case 22:case 23:return ac(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Il)&&(Ba(t),6&t.subtreeFlags&&(t.flags|=8192)):Ba(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Wa(e,t){switch(Ji(t),t.tag){case 1:return Ii(t.type)&&Ni(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ks(),_i(ki),_i(Ei),$s(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Qs(t),null;case 13:if(_i(Ys),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));cs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(Ys),null;case 4:return Ks(),null;case 10:return Ss(t.type._context),null;case 22:case 23:return ac(),null;default:return null}}Ta=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ia=function(){},Na=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ws(zs.current);var s,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Yr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Pr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},ja=function(e,t,n,r){n!==r&&(t.flags|=4)};var qa=!1,Ka=!1,Ga="function"===typeof WeakSet?WeakSet:Set,Qa=null;function Ya(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){bc(e,t,r)}else n.current=null}function Xa(e,t,n){try{n()}catch(r){bc(e,t,r)}}var Ja=!1;function $a(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&Xa(t,n,s)}i=i.next}while(i!==r)}}function Za(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function el(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function tl(e){var t=e.alternate;null!==t&&(e.alternate=null,tl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[li],delete t[ci],delete t[di],delete t[hi],delete t[fi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nl(e){return 5===e.tag||3===e.tag||4===e.tag}function rl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||nl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function il(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Yr));else if(4!==r&&null!==(e=e.child))for(il(e,t,n),e=e.sibling;null!==e;)il(e,t,n),e=e.sibling}function sl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(sl(e,t,n),e=e.sibling;null!==e;)sl(e,t,n),e=e.sibling}var ol=null,al=!1;function ll(e,t,n){for(n=n.child;null!==n;)cl(e,t,n),n=n.sibling}function cl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(rt,n)}catch(a){}switch(n.tag){case 5:Ka||Ya(n,t);case 6:var r=ol,i=al;ol=null,ll(e,t,n),al=i,null!==(ol=r)&&(al?(e=ol,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ol.removeChild(n.stateNode));break;case 18:null!==ol&&(al?(e=ol,n=n.stateNode,8===e.nodeType?ii(e.parentNode,n):1===e.nodeType&&ii(e,n),zt(e)):ii(ol,n.stateNode));break;case 4:r=ol,i=al,ol=n.stateNode.containerInfo,al=!0,ll(e,t,n),ol=r,al=i;break;case 0:case 11:case 14:case 15:if(!Ka&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&Xa(n,t,o),i=i.next}while(i!==r)}ll(e,t,n);break;case 1:if(!Ka&&(Ya(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){bc(n,t,a)}ll(e,t,n);break;case 21:ll(e,t,n);break;case 22:1&n.mode?(Ka=(r=Ka)||null!==n.memoizedState,ll(e,t,n),Ka=r):ll(e,t,n);break;default:ll(e,t,n)}}function ul(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ga),t.forEach((function(t){var r=Ec.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function dl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ol=l.stateNode,al=!1;break e;case 3:case 4:ol=l.stateNode.containerInfo,al=!0;break e}l=l.return}if(null===ol)throw Error(s(160));cl(o,a,i),ol=null,al=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){bc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)hl(t,e),t=t.sibling}function hl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dl(t,e),fl(e),4&r){try{$a(3,e,e.return),Za(3,e)}catch(g){bc(e,e.return,g)}try{$a(5,e,e.return)}catch(g){bc(e,e.return,g)}}break;case 1:dl(t,e),fl(e),512&r&&null!==n&&Ya(n,n.return);break;case 5:if(dl(t,e),fl(e),512&r&&null!==n&&Ya(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){bc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&J(i,o),ye(l,a);var u=ye(l,o);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?me(i,h):"dangerouslySetInnerHTML"===d?ue(i,h):"children"===d?de(i,h):w(i,d,h,u)}switch(l){case"input":$(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[ci]=o}catch(g){bc(e,e.return,g)}}break;case 6:if(dl(t,e),fl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){bc(e,e.return,g)}}break;case 3:if(dl(t,e),fl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){bc(e,e.return,g)}break;case 4:default:dl(t,e),fl(e);break;case 13:dl(t,e),fl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Ml=Xe())),4&r&&ul(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ka=(u=Ka)||d,dl(t,e),Ka=u):dl(t,e),fl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Qa=e,d=e.child;null!==d;){for(h=Qa=d;null!==Qa;){switch(p=(f=Qa).child,f.tag){case 0:case 11:case 14:case 15:$a(4,f,f.return);break;case 1:Ya(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){bc(r,n,g)}}break;case 5:Ya(f,f.return);break;case 22:if(null!==f.memoizedState){vl(h);continue}}null!==p?(p.return=f,Qa=p):vl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",a))}catch(g){bc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){bc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:dl(t,e),fl(e),4&r&&ul(e);case 21:}}function fl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(nl(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),sl(e,rl(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;il(e,rl(e),o);break;default:throw Error(s(161))}}catch(a){bc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function pl(e,t,n){Qa=e,ml(e,t,n)}function ml(e,t,n){for(var r=0!==(1&e.mode);null!==Qa;){var i=Qa,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||qa;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ka;a=qa;var c=Ka;if(qa=o,(Ka=l)&&!c)for(Qa=i;null!==Qa;)l=(o=Qa).child,22===o.tag&&null!==o.memoizedState?yl(i):null!==l?(l.return=o,Qa=l):yl(i);for(;null!==s;)Qa=s,ml(s,t,n),s=s.sibling;Qa=i,qa=a,Ka=c}gl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Qa=s):gl(e)}}function gl(e){for(;null!==Qa;){var t=Qa;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ka||Za(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ka)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:$o(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Us(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Us(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(s(163))}Ka||512&t.flags&&el(t)}catch(f){bc(t,t.return,f)}}if(t===e){Qa=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qa=n;break}Qa=t.return}}function vl(e){for(;null!==Qa;){var t=Qa;if(t===e){Qa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qa=n;break}Qa=t.return}}function yl(e){for(;null!==Qa;){var t=Qa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Za(4,t)}catch(l){bc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){bc(t,i,l)}}var s=t.return;try{el(t)}catch(l){bc(t,s,l)}break;case 5:var o=t.return;try{el(t)}catch(l){bc(t,o,l)}}}catch(l){bc(t,t.return,l)}if(t===e){Qa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Qa=a;break}Qa=t.return}}var wl,bl=Math.ceil,_l=b.ReactCurrentDispatcher,xl=b.ReactCurrentOwner,Sl=b.ReactCurrentBatchConfig,El=0,kl=null,Cl=null,Tl=0,Il=0,Nl=bi(0),jl=0,Rl=null,Ll=0,Al=0,Dl=0,Pl=null,Ol=null,Ml=0,Vl=1/0,Ul=null,Fl=!1,zl=null,Bl=null,Hl=!1,Wl=null,ql=0,Kl=0,Gl=null,Ql=-1,Yl=0;function Xl(){return 0!==(6&El)?Xe():-1!==Ql?Ql:Ql=Xe()}function Jl(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==Tl?Tl&-Tl:null!==ds.transition?(0===Yl&&(Yl=pt()),Yl):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function $l(e,t,n,r){if(50<Kl)throw Kl=0,Gl=null,Error(s(185));gt(e,n,r),0!==(2&El)&&e===kl||(e===kl&&(0===(2&El)&&(Al|=n),4===jl&&rc(e,Tl)),Zl(e,r),1===n&&0===El&&0===(1&t.mode)&&(Vl=Xe()+500,Pi&&Vi()))}function Zl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-st(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ht(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===kl?Tl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Pi=!0,Mi(e)}(ic.bind(null,e)):Mi(ic.bind(null,e)),ni((function(){0===(6&El)&&Vi()})),n=null;else{switch(wt(r)){case 1:n=$e;break;case 4:n=Ze;break;case 16:default:n=et;break;case 536870912:n=nt}n=kc(n,ec.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ec(e,t){if(Ql=-1,Yl=0,0!==(6&El))throw Error(s(327));var n=e.callbackNode;if(yc()&&e.callbackNode!==n)return null;var r=dt(e,e===kl?Tl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=hc(e,r);else{t=r;var i=El;El|=2;var o=uc();for(kl===e&&Tl===t||(Ul=null,Vl=Xe()+500,lc(e,t));;)try{pc();break}catch(l){cc(e,l)}xs(),_l.current=o,El=i,null!==Cl?t=0:(kl=null,Tl=0,t=jl)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=tc(e,i))),1===t)throw n=Rl,lc(e,0),rc(e,r),Zl(e,Xe()),n;if(6===t)rc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!rr(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=hc(e,r))&&(0!==(o=ft(e))&&(r=o,t=tc(e,o))),1===t))throw n=Rl,lc(e,0),rc(e,r),Zl(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:vc(e,Ol,Ul);break;case 3:if(rc(e,r),(130023424&r)===r&&10<(t=Ml+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Xl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Zr(vc.bind(null,e,Ol,Ul),t);break}vc(e,Ol,Ul);break;case 4:if(rc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bl(r/1960))-r)){e.timeoutHandle=Zr(vc.bind(null,e,Ol,Ul),r);break}vc(e,Ol,Ul);break;default:throw Error(s(329))}}}return Zl(e,Xe()),e.callbackNode===n?ec.bind(null,e):null}function tc(e,t){var n=Pl;return e.current.memoizedState.isDehydrated&&(lc(e,t).flags|=256),2!==(e=hc(e,t))&&(t=Ol,Ol=n,null!==t&&nc(t)),e}function nc(e){null===Ol?Ol=e:Ol.push.apply(Ol,e)}function rc(e,t){for(t&=~Dl,t&=~Al,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function ic(e){if(0!==(6&El))throw Error(s(327));yc();var t=dt(e,0);if(0===(1&t))return Zl(e,Xe()),null;var n=hc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=tc(e,r))}if(1===n)throw n=Rl,lc(e,0),rc(e,t),Zl(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vc(e,Ol,Ul),Zl(e,Xe()),null}function sc(e,t){var n=El;El|=1;try{return e(t)}finally{0===(El=n)&&(Vl=Xe()+500,Pi&&Vi())}}function oc(e){null!==Wl&&0===Wl.tag&&0===(6&El)&&yc();var t=El;El|=1;var n=Sl.transition,r=yt;try{if(Sl.transition=null,yt=1,e)return e()}finally{yt=r,Sl.transition=n,0===(6&(El=t))&&Vi()}}function ac(){Il=Nl.current,_i(Nl)}function lc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ei(n)),null!==Cl)for(n=Cl.return;null!==n;){var r=n;switch(Ji(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ni();break;case 3:Ks(),_i(ki),_i(Ei),$s();break;case 5:Qs(r);break;case 4:Ks();break;case 13:case 19:_i(Ys);break;case 10:Ss(r.type._context);break;case 22:case 23:ac()}n=n.return}if(kl=e,Cl=e=Nc(e.current,null),Tl=Il=t,jl=0,Rl=null,Dl=Al=Ll=0,Ol=Pl=null,null!==Ts){for(t=0;t<Ts.length;t++)if(null!==(r=(n=Ts[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Ts=null}return e}function cc(e,t){for(;;){var n=Cl;try{if(xs(),Zs.current=Qo,so){for(var r=no.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}so=!1}if(to=0,io=ro=no=null,oo=!1,ao=0,xl.current=null,null===n||null===n.return){jl=1,Rl=t,Cl=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Tl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ha(a);if(null!==p){p.flags&=-257,fa(p,a,l,0,t),1&p.mode&&da(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){da(o,u,t),dc();break e}c=Error(s(426))}else if(es&&1&l.mode){var v=ha(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),fa(v,a,l,0,t),us(sa(c,l));break e}}o=c=sa(c,l),4!==jl&&(jl=2),null===Pl?Pl=[o]:Pl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ms(o,ca(0,c,t));break e;case 1:l=c;var y=o.type,w=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Bl||!Bl.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t,Ms(o,ua(o,l,t));break e}}o=o.return}while(null!==o)}gc(n)}catch(b){t=b,Cl===n&&null!==n&&(Cl=n=n.return);continue}break}}function uc(){var e=_l.current;return _l.current=Qo,null===e?Qo:e}function dc(){0!==jl&&3!==jl&&2!==jl||(jl=4),null===kl||0===(268435455&Ll)&&0===(268435455&Al)||rc(kl,Tl)}function hc(e,t){var n=El;El|=2;var r=uc();for(kl===e&&Tl===t||(Ul=null,lc(e,t));;)try{fc();break}catch(i){cc(e,i)}if(xs(),El=n,_l.current=r,null!==Cl)throw Error(s(261));return kl=null,Tl=0,jl}function fc(){for(;null!==Cl;)mc(Cl)}function pc(){for(;null!==Cl&&!Qe();)mc(Cl)}function mc(e){var t=wl(e.alternate,e,Il);e.memoizedProps=e.pendingProps,null===t?gc(e):Cl=t,xl.current=null}function gc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ha(n,t,Il)))return void(Cl=n)}else{if(null!==(n=Wa(n,t)))return n.flags&=32767,void(Cl=n);if(null===e)return jl=6,void(Cl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Cl=t);Cl=t=e}while(null!==t);0===jl&&(jl=5)}function vc(e,t,n){var r=yt,i=Sl.transition;try{Sl.transition=null,yt=1,function(e,t,n,r){do{yc()}while(null!==Wl);if(0!==(6&El))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===kl&&(Cl=kl=null,Tl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hl||(Hl=!0,kc(et,(function(){return yc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Sl.transition,Sl.transition=null;var a=yt;yt=1;var l=El;El|=4,xl.current=null,function(e,t){if(Xr=Ht,cr(e=lr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==o||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jr={focusedElem:e,selectionRange:n},Ht=!1,Qa=t;null!==Qa;)if(e=(t=Qa).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qa=e;else for(;null!==Qa;){t=Qa;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:$o(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(_){bc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Qa=e;break}Qa=t.return}m=Ja,Ja=!1}(e,n),hl(n,e),ur(Jr),Ht=!!Xr,Jr=Xr=null,e.current=n,pl(n,e,i),Ye(),El=l,yt=a,Sl.transition=o}else e.current=n;if(Hl&&(Hl=!1,Wl=e,ql=i),o=e.pendingLanes,0===o&&(Bl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),Zl(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Fl)throw Fl=!1,e=zl,zl=null,e;0!==(1&ql)&&0!==e.tag&&yc(),o=e.pendingLanes,0!==(1&o)?e===Gl?Kl++:(Kl=0,Gl=e):Kl=0,Vi()}(e,t,n,r)}finally{Sl.transition=i,yt=r}return null}function yc(){if(null!==Wl){var e=wt(ql),t=Sl.transition,n=yt;try{if(Sl.transition=null,yt=16>e?16:e,null===Wl)var r=!1;else{if(e=Wl,Wl=null,ql=0,0!==(6&El))throw Error(s(331));var i=El;for(El|=4,Qa=e.current;null!==Qa;){var o=Qa,a=o.child;if(0!==(16&Qa.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Qa=u;null!==Qa;){var d=Qa;switch(d.tag){case 0:case 11:case 15:$a(8,d,o)}var h=d.child;if(null!==h)h.return=d,Qa=h;else for(;null!==Qa;){var f=(d=Qa).sibling,p=d.return;if(tl(d),d===u){Qa=null;break}if(null!==f){f.return=p,Qa=f;break}Qa=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Qa=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Qa=a;else e:for(;null!==Qa;){if(0!==(2048&(o=Qa).flags))switch(o.tag){case 0:case 11:case 15:$a(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Qa=y;break e}Qa=o.return}}var w=e.current;for(Qa=w;null!==Qa;){var b=(a=Qa).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Qa=b;else e:for(a=w;null!==Qa;){if(0!==(2048&(l=Qa).flags))try{switch(l.tag){case 0:case 11:case 15:Za(9,l)}}catch(x){bc(l,l.return,x)}if(l===a){Qa=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Qa=_;break e}Qa=l.return}}if(El=i,Vi(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(rt,e)}catch(x){}r=!0}return r}finally{yt=n,Sl.transition=t}}return!1}function wc(e,t,n){e=Ps(e,t=ca(0,t=sa(n,t),1),1),t=Xl(),null!==e&&(gt(e,1,t),Zl(e,t))}function bc(e,t,n){if(3===e.tag)wc(e,e,n);else for(;null!==t;){if(3===t.tag){wc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Bl||!Bl.has(r))){t=Ps(t,e=ua(t,e=sa(n,e),1),1),e=Xl(),null!==t&&(gt(t,1,e),Zl(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Xl(),e.pingedLanes|=e.suspendedLanes&n,kl===e&&(Tl&n)===n&&(4===jl||3===jl&&(130023424&Tl)===Tl&&500>Xe()-Ml?lc(e,0):Dl|=n),Zl(e,t)}function xc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=Xl();null!==(e=js(e,t))&&(gt(e,t,n),Zl(e,n))}function Sc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),xc(e,n)}function Ec(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),xc(e,n)}function kc(e,t){return Ke(e,t)}function Cc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tc(e,t,n,r){return new Cc(e,t,n,r)}function Ic(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nc(e,t){var n=e.alternate;return null===n?((n=Tc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jc(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Ic(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case S:return Rc(n.children,i,o,t);case E:a=8,i|=8;break;case k:return(e=Tc(12,n,t,2|i)).elementType=k,e.lanes=o,e;case N:return(e=Tc(13,n,t,i)).elementType=N,e.lanes=o,e;case j:return(e=Tc(19,n,t,i)).elementType=j,e.lanes=o,e;case A:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:a=10;break e;case T:a=9;break e;case I:a=11;break e;case R:a=14;break e;case L:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Tc(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Rc(e,t,n,r){return(e=Tc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Tc(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function Ac(e,t,n){return(e=Tc(6,e,null,t)).lanes=n,e}function Dc(e,t,n){return(t=Tc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Oc(e,t,n,r,i,s,o,a,l){return e=new Pc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Tc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function Mc(e){if(!e)return Si;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ii(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ii(n))return Ri(e,n,t)}return t}function Vc(e,t,n,r,i,s,o,a,l){return(e=Oc(n,r,!0,e,0,s,0,a,l)).context=Mc(null),n=e.current,(s=Ds(r=Xl(),i=Jl(n))).callback=void 0!==t&&null!==t?t:null,Ps(n,s,i),e.current.lanes=i,gt(e,i,r),Zl(e,r),e}function Uc(e,t,n,r){var i=t.current,s=Xl(),o=Jl(i);return n=Mc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ds(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ps(i,t,o))&&($l(e,i,o,s),Os(e,i,o)),o}function Fc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function zc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Bc(e,t){zc(e,t),(e=e.alternate)&&zc(e,t)}wl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ki.current)ma=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ma=!1,function(e,t,n){switch(t.tag){case 3:ka(t),cs();break;case 5:Gs(t);break;case 1:Ii(t.type)&&Li(t);break;case 4:qs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xi(ys,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xi(Ys,1&Ys.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Aa(e,t,n):(xi(Ys,1&Ys.current),null!==(e=Fa(e,t,n))?e.sibling:null);xi(Ys,1&Ys.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Va(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(Ys,Ys.current),r)break;return null;case 22:case 23:return t.lanes=0,ba(e,t,n)}return Fa(e,t,n)}(e,t,n);ma=0!==(131072&e.flags)}else ma=!1,es&&0!==(1048576&t.flags)&&Yi(t,Bi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ua(e,t),e=t.pendingProps;var i=Ti(t,Ei.current);ks(t,n),i=ho(null,t,r,e,i,n);var o=fo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ii(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ls(t),i.updater=ea,t.stateNode=i,i._reactInternals=t,ia(t,r,e,n),t=Ea(null,t,r,!0,o,n)):(t.tag=0,es&&o&&Xi(t),ga(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ua(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ic(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===R)return 14}return 2}(r),e=$o(r,e),i){case 0:t=xa(null,t,r,e,n);break e;case 1:t=Sa(null,t,r,e,n);break e;case 11:t=va(null,t,r,e,n);break e;case 14:t=ya(null,t,r,$o(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:$o(r,i),n);case 1:return r=t.type,i=t.pendingProps,Sa(e,t,r,i=t.elementType===r?i:$o(r,i),n);case 3:e:{if(ka(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,As(e,t),Vs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ca(e,t,r,n,i=sa(Error(s(423)),t));break e}if(r!==i){t=Ca(e,t,r,n,i=sa(Error(s(424)),t));break e}for(Zi=si(t.stateNode.containerInfo.firstChild),$i=t,es=!0,ts=null,n=vs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(cs(),r===i){t=Fa(e,t,n);break e}ga(e,t,r,n)}t=t.child}return t;case 5:return Gs(t),null===e&&ss(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,$r(r,i)?a=null:null!==o&&$r(r,o)&&(t.flags|=32),_a(e,t),ga(e,t,a,n),t.child;case 6:return null===e&&ss(t),null;case 13:return Aa(e,t,n);case 4:return qs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=gs(t,null,r,n):ga(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,va(e,t,r,i=t.elementType===r?i:$o(r,i),n);case 7:return ga(e,t,t.pendingProps,n),t.child;case 8:case 12:return ga(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,xi(ys,r._currentValue),r._currentValue=a,null!==o)if(rr(o.value,a)){if(o.children===i.children&&!ki.current){t=Fa(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ds(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Es(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Es(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}ga(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ks(t,n),r=r(i=Cs(i)),t.flags|=1,ga(e,t,r,n),t.child;case 14:return i=$o(r=t.type,t.pendingProps),ya(e,t,r,i=$o(r.type,i),n);case 15:return wa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$o(r,i),Ua(e,t),t.tag=1,Ii(r)?(e=!0,Li(t)):e=!1,ks(t,n),na(t,r,i),ia(t,r,i,n),Ea(null,t,r,!0,e,n);case 19:return Va(e,t,n);case 22:return ba(e,t,n)}throw Error(s(156,t.tag))};var Hc="function"===typeof reportError?reportError:function(e){console.error(e)};function Wc(e){this._internalRoot=e}function qc(e){this._internalRoot=e}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Gc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function Yc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Fc(o);a.call(e)}}Uc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Fc(o);s.call(e)}}var o=Vc(t,r,e,0,null,!1,0,"",Qc);return e._reactRootContainer=o,e[ui]=o.current,Vr(8===e.nodeType?e.parentNode:e),oc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Fc(l);a.call(e)}}var l=Oc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[ui]=l.current,Vr(8===e.nodeType?e.parentNode:e),oc((function(){Uc(t,l,n,r)})),l}(n,t,e,i,r);return Fc(o)}qc.prototype.render=Wc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Uc(e,t,null,null)},qc.prototype.unmount=Wc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;oc((function(){Uc(null,e,null,null)})),t[ui]=null}},qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lt.length&&0!==t&&t<Lt[n].priority;n++);Lt.splice(n,0,e),0===n&&Ot(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(vt(t,1|n),Zl(t,Xe()),0===(6&El)&&(Vl=Xe()+500,Vi()))}break;case 13:oc((function(){var t=js(e,1);if(null!==t){var n=Xl();$l(t,e,1,n)}})),Bc(e,1)}},_t=function(e){if(13===e.tag){var t=js(e,134217728);if(null!==t)$l(t,e,134217728,Xl());Bc(e,134217728)}},xt=function(e){if(13===e.tag){var t=Jl(e),n=js(e,t);if(null!==n)$l(n,e,t,Xl());Bc(e,t)}},St=function(){return yt},Et=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},_e=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=vi(r);if(!i)throw Error(s(90));G(r),$(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=sc,Ie=oc;var Xc={usingClientEntryPoint:!1,Events:[mi,gi,vi,ke,Ce,sc]},Jc={findFiberByHostInstance:pi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$c={bundleType:Jc.bundleType,version:Jc.version,rendererPackageName:Jc.rendererPackageName,rendererConfig:Jc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:Jc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zc.isDisabled&&Zc.supportsFiber)try{rt=Zc.inject($c),it=Zc}catch(eu){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Kc(e))throw Error(s(299));var n=!1,r="",i=Hc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Oc(e,1,!1,null,0,n,0,r,i),e[ui]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Wc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return oc(e)},t.hydrate=function(e,t,n){if(!Gc(t))throw Error(s(200));return Yc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Kc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Hc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,i,0,o,a),e[ui]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new qc(t)},t.render=function(e,t,n){if(!Gc(t))throw Error(s(200));return Yc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Gc(e))throw Error(s(40));return!!e._reactRootContainer&&(oc((function(){Yc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ui]=null}))})),!0)},t.unstable_batchedUpdates=sc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Gc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Yc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,m(b,v.prototype),b.isPureReactComponent=!0;var _=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!E.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:S.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+I(l,0):s,_(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",_(e))for(var c=0;c<e.length;c++){var u=s+I(a=e[c],c);l+=N(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=N(a=a.value,t,i,u=s+I(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function j(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},A={transition:null},D={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:A,ReactCurrentOwner:S};function P(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:j,forEach:function(e,t,n){j(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return j(e,(function(){t++})),t},toArray:function(e){return j(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=P,t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return L.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,A(x);else{var t=r(u);null!==t&&D(_,t.startTime-e)}}function x(e,n){m=!1,g&&(g=!1,y(C),C=-1),p=!0;var s=f;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var a=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(_,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,k=null,C=-1,T=5,I=-1;function N(){return!(t.unstable_now()-I<T)}function j(){if(null!==k){var e=t.unstable_now();I=e;var n=!0;try{n=k(!0,e)}finally{n?S():(E=!1,k=null)}}else E=!1}if("function"===typeof w)S=function(){w(j)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,L=R.port2;R.port1.onmessage=j,S=function(){L.postMessage(null)}}else S=function(){v(j,0)};function A(e){k=e,E||(E=!0,S())}function D(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,A(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(C),C=-1):g=!0,D(_,s-o))):(e.sortIndex=a,n(c,e),m||p||(m=!0,A(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".ed3810f9.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="my-app:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/youtube-clone/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,o=r[0],a=r[1],l=r[2],c=0;if(o.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<o.length;c++)s=o[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkmy_app=self.webpackChunkmy_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(43),t=n.t(e,2),r=n(391);const i=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)}))};var s,o=n(950),a=n.t(o,2);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(s||(s={}));const c="popstate";function u(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,r){return void 0===n&&(n=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,d=s.Pop,m=null,g=v();function v(){return(a.state||{idx:null}).idx}function y(){d=s.Pop;let e=v(),t=null==e?null:e-g;g=e,m&&m({action:d,location:b.location,delta:t})}function w(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:p(e);return n=n.replace(/ $/,"%20"),u(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,a.replaceState(l({},a.state,{idx:g}),""));let b={get action(){return d},get location(){return e(i,a)},listen(e){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(c,y),m=e,()=>{i.removeEventListener(c,y),m=null}},createHref:e=>t(i,e),createURL:w,encodeLocation(e){let t=w(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){d=s.Push;let r=f(b.location,e,t);n&&n(r,e),g=v()+1;let l=h(r,g),c=b.createHref(r);try{a.pushState(l,"",c)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;i.location.assign(c)}o&&m&&m({action:d,location:b.location,delta:1})},replace:function(e,t){d=s.Replace;let r=f(b.location,e,t);n&&n(r,e),g=v();let i=h(r,g),l=b.createHref(r);a.replaceState(i,"",l),o&&m&&m({action:d,location:b.location,delta:0})},go:e=>a.go(e)};return b}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));const y=new Set(["lazy","caseSensitive","path","id","index","children"]);function w(e,t,n,r){return void 0===n&&(n=[]),void 0===r&&(r={}),e.map(((e,i)=>{let s=[...n,String(i)],o="string"===typeof e.id?e.id:s.join("-");if(u(!0!==e.index||!e.children,"Cannot specify children on an index route"),u(!r[o],'Found a route id collision on id "'+o+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){let n=l({},e,t(e),{id:o});return r[o]=n,n}{let n=l({},e,t(e),{id:o,children:void 0});return r[o]=n,e.children&&(n.children=w(e.children,t,s,r)),n}}))}function b(e,t,n){return void 0===n&&(n="/"),_(e,t,n,!1)}function _(e,t,n,r){let i=P(("string"===typeof t?m(t):t).pathname||"/",n);if(null==i)return null;let s=x(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let e=D(i);o=L(s[a],e,r)}return o}function x(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(u(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=F([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(u(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),x(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:R(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of S(e.path))i(e,t,r);else i(e,t)})),t}function S(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=S(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const E=/^:[\w-]+$/,k=3,C=2,T=1,I=10,N=-2,j=e=>"*"===e;function R(e,t){let n=e.split("/"),r=n.length;return n.some(j)&&(r+=N),t&&(r+=C),n.filter((e=>!j(e))).reduce(((e,t)=>e+(E.test(t)?k:""===t?T:I)),r)}function L(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:F([s,u.pathname]),pathnameBase:z(F([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=F([s,u.pathnameBase]))}return o}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function D(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function O(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function V(e,t){let n=M(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function U(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=m(e):(i=l({},e),u(!i.pathname||!i.pathname.includes("?"),O("?","pathname","search",i)),u(!i.pathname||!i.pathname.includes("#"),O("#","pathname","hash",i)),u(!i.search||!i.search.includes("#"),O("#","search","hash",i)));let s,o=""===e||""===i.pathname,a=o?"/":i.pathname;if(null==a)s=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?m(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:B(r),hash:H(i)}}(i,s),d=a&&"/"!==a&&a.endsWith("/"),h=(o||"."===a)&&n.endsWith("/");return c.pathname.endsWith("/")||!d&&!h||(c.pathname+="/"),c}const F=e=>e.join("/").replace(/\/\/+/g,"/"),z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",H=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;class W{constructor(e,t,n,r){void 0===r&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const K=["post","put","patch","delete"],G=new Set(K),Q=["get",...K],Y=new Set(Q),X=new Set([301,302,303,307,308]),J=new Set([307,308]),$={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Z={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ee={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},te=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ne=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),re="remix-router-transitions";function ie(e){const t=e.window?e.window:"undefined"!==typeof window?window:void 0,n="undefined"!==typeof t&&"undefined"!==typeof t.document&&"undefined"!==typeof t.document.createElement,r=!n;let i;if(u(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let t=e.detectErrorBoundary;i=e=>({hasErrorBoundary:t(e)})}else i=ne;let o,a,c,h={},p=w(e.routes,i,void 0,h),m=e.basename||"/",g=e.unstable_dataStrategy||fe,y=e.unstable_patchRoutesOnNavigation,x=l({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),S=null,E=new Set,k=1e3,C=new Set,T=null,I=null,N=null,j=null!=e.hydrationData,R=b(p,e.history.location,m),L=null;if(null==R&&!y){let t=Te(404,{pathname:e.history.location.pathname}),{matches:n,route:r}=Ce(p);R=n,L={[r.id]:t}}if(R&&!e.hydrationData){ht(R,p,e.history.location.pathname).active&&(R=null)}if(R)if(R.some((e=>e.route.lazy)))a=!1;else if(R.some((e=>e.route.loader)))if(x.v7_partialHydration){let t=e.hydrationData?e.hydrationData.loaderData:null,n=e.hydrationData?e.hydrationData.errors:null,r=e=>!e.route.loader||("function"!==typeof e.route.loader||!0!==e.route.loader.hydrate)&&(t&&void 0!==t[e.route.id]||n&&void 0!==n[e.route.id]);if(n){let e=R.findIndex((e=>void 0!==n[e.route.id]));a=R.slice(0,e+1).every(r)}else a=R.every(r)}else a=null!=e.hydrationData;else a=!0;else if(a=!1,R=[],x.v7_partialHydration){let t=ht(null,p,e.history.location.pathname);t.active&&t.matches&&(R=t.matches)}let A,D,O={historyAction:e.history.action,location:e.history.location,matches:R,initialized:a,navigation:$,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||L,fetchers:new Map,blockers:new Map},M=s.Pop,V=!1,U=!1,F=new Map,z=null,B=!1,H=!1,W=[],K=new Set,G=new Map,Q=0,Y=-1,X=new Map,ie=new Set,ae=new Map,ce=new Map,ue=new Set,we=new Map,be=new Map,_e=new Map;function Ne(e,t){void 0===t&&(t={}),O=l({},O,e);let n=[],r=[];x.v7_fetcherPersist&&O.fetchers.forEach(((e,t)=>{"idle"===e.state&&(ue.has(t)?r.push(t):n.push(t))})),[...E].forEach((e=>e(O,{deletedFetchers:r,unstable_viewTransitionOpts:t.viewTransitionOpts,unstable_flushSync:!0===t.flushSync}))),x.v7_fetcherPersist&&(n.forEach((e=>O.fetchers.delete(e))),r.forEach((e=>Ze(e))))}function De(t,n,r){var i,a;let c,{flushSync:u}=void 0===r?{}:r,d=null!=O.actionData&&null!=O.navigation.formMethod&&Me(O.navigation.formMethod)&&"loading"===O.navigation.state&&!0!==(null==(i=t.state)?void 0:i._isRedirect);c=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:d?O.actionData:null;let h=n.loaderData?Se(O.loaderData,n.loaderData,n.matches||[],n.errors):O.loaderData,f=O.blockers;f.size>0&&(f=new Map(f),f.forEach(((e,t)=>f.set(t,ee))));let m,g=!0===V||null!=O.navigation.formMethod&&Me(O.navigation.formMethod)&&!0!==(null==(a=t.state)?void 0:a._isRedirect);if(o&&(p=o,o=void 0),B||M===s.Pop||(M===s.Push?e.history.push(t,t.state):M===s.Replace&&e.history.replace(t,t.state)),M===s.Pop){let e=F.get(O.location.pathname);e&&e.has(t.pathname)?m={currentLocation:O.location,nextLocation:t}:F.has(t.pathname)&&(m={currentLocation:t,nextLocation:O.location})}else if(U){let e=F.get(O.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),F.set(O.location.pathname,e)),m={currentLocation:O.location,nextLocation:t}}Ne(l({},n,{actionData:c,loaderData:h,historyAction:M,location:t,initialized:!0,navigation:$,revalidation:"idle",restoreScrollPosition:dt(t,n.matches||O.matches),preventScrollReset:g,blockers:f}),{viewTransitionOpts:m,flushSync:!0===u}),M=s.Pop,V=!1,U=!1,B=!1,H=!1,W=[]}async function Pe(t,n,r){A&&A.abort(),A=null,M=t,B=!0===(r&&r.startUninterruptedRevalidation),function(e,t){if(T&&N){let n=ut(e,t);T[n]=N()}}(O.location,O.matches),V=!0===(r&&r.preventScrollReset),U=!0===(r&&r.enableViewTransition);let i=o||p,a=r&&r.overrideNavigation,c=b(i,n,m),u=!0===(r&&r.flushSync),d=ht(c,i,n.pathname);if(d.active&&d.matches&&(c=d.matches),!c){let{error:e,notFoundMatches:t,route:r}=at(n.pathname);return void De(n,{matches:t,loaderData:{},errors:{[r.id]:e}},{flushSync:u})}if(O.initialized&&!H&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(O.location,n)&&!(r&&r.submission&&Me(r.submission.formMethod)))return void De(n,{matches:c},{flushSync:u});A=new AbortController;let h,f=ye(e.history,n,A.signal,r&&r.submission);if(r&&r.pendingError)h=[ke(c).route.id,{type:v.error,error:r.pendingError}];else if(r&&r.submission&&Me(r.submission.formMethod)){let t=await async function(e,t,n,r,i,o){void 0===o&&(o={});Ye();let a,l=function(e,t){let n={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return n}(t,n);if(Ne({navigation:l},{flushSync:!0===o.flushSync}),i){let n=await ft(r,t.pathname,e.signal);if("aborted"===n.type)return{shortCircuited:!0};if("error"===n.type){let{boundaryId:e,error:r}=lt(t.pathname,n);return{matches:n.partialMatches,pendingActionResult:[e,{type:v.error,error:r}]}}if(!n.matches){let{notFoundMatches:e,error:n,route:r}=at(t.pathname);return{matches:e,pendingActionResult:[r.id,{type:v.error,error:n}]}}r=n.matches}let c=Be(r,t);if(c.route.action||c.route.lazy){if(a=(await Ge("action",O,e,[c],r,null))[c.route.id],e.signal.aborted)return{shortCircuited:!0}}else a={type:v.error,error:Te(405,{method:e.method,pathname:t.pathname,routeId:c.route.id})};if(Ae(a)){let t;if(o&&null!=o.replace)t=o.replace;else{t=ve(a.response.headers.get("Location"),new URL(e.url),m)===O.location.pathname+O.location.search}return await ze(e,a,!0,{submission:n,replace:t}),{shortCircuited:!0}}if(Re(a))throw Te(400,{type:"defer-action"});if(Le(a)){let e=ke(r,c.route.id);return!0!==(o&&o.replace)&&(M=s.Push),{matches:r,pendingActionResult:[e.route.id,a]}}return{matches:r,pendingActionResult:[c.route.id,a]}}(f,n,r.submission,c,d.active,{replace:r.replace,flushSync:u});if(t.shortCircuited)return;if(t.pendingActionResult){let[e,r]=t.pendingActionResult;if(Le(r)&&q(r.error)&&404===r.error.status)return A=null,void De(n,{matches:t.matches,loaderData:{},errors:{[e]:r.error}})}c=t.matches||c,h=t.pendingActionResult,a=We(n,r.submission),u=!1,d.active=!1,f=ye(e.history,f.url,f.signal)}let{shortCircuited:g,matches:y,loaderData:w,errors:_}=await async function(t,n,r,i,s,a,c,u,d,h,f){let g=s||We(n,a),v=a||c||He(g),y=!B&&(!x.v7_partialHydration||!d);if(i){if(y){let e=Oe(f);Ne(l({navigation:g},void 0!==e?{actionData:e}:{}),{flushSync:h})}let e=await ft(r,n.pathname,t.signal);if("aborted"===e.type)return{shortCircuited:!0};if("error"===e.type){let{boundaryId:t,error:r}=lt(n.pathname,e);return{matches:e.partialMatches,loaderData:{},errors:{[t]:r}}}if(!e.matches){let{error:e,notFoundMatches:t,route:r}=at(n.pathname);return{matches:t,loaderData:{},errors:{[r.id]:e}}}r=e.matches}let w=o||p,[b,_]=le(e.history,O,r,v,n,x.v7_partialHydration&&!0===d,x.v7_skipActionErrorRevalidation,H,W,K,ue,ae,ie,w,m,f);if(ct((e=>!(r&&r.some((t=>t.route.id===e)))||b&&b.some((t=>t.route.id===e)))),Y=++Q,0===b.length&&0===_.length){let e=nt();return De(n,l({matches:r,loaderData:{},errors:f&&Le(f[1])?{[f[0]]:f[1].error}:null},Ee(f),e?{fetchers:new Map(O.fetchers)}:{}),{flushSync:h}),{shortCircuited:!0}}if(y){let e={};if(!i){e.navigation=g;let t=Oe(f);void 0!==t&&(e.actionData=t)}_.length>0&&(e.fetchers=function(e){return e.forEach((e=>{let t=O.fetchers.get(e.key),n=qe(void 0,t?t.data:void 0);O.fetchers.set(e.key,n)})),new Map(O.fetchers)}(_)),Ne(e,{flushSync:h})}_.forEach((e=>{G.has(e.key)&&et(e.key),e.controller&&G.set(e.key,e.controller)}));let S=()=>_.forEach((e=>et(e.key)));A&&A.signal.addEventListener("abort",S);let{loaderResults:E,fetcherResults:k}=await Qe(O,r,b,_,t);if(t.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",S);_.forEach((e=>G.delete(e.key)));let C=Ie(E);if(C)return await ze(t,C.result,!0,{replace:u}),{shortCircuited:!0};if(C=Ie(k),C)return ie.add(C.key),await ze(t,C.result,!0,{replace:u}),{shortCircuited:!0};let{loaderData:T,errors:I}=xe(O,r,b,E,f,_,k,we);we.forEach(((e,t)=>{e.subscribe((n=>{(n||e.done)&&we.delete(t)}))})),x.v7_partialHydration&&d&&O.errors&&Object.entries(O.errors).filter((e=>{let[t]=e;return!b.some((e=>e.route.id===t))})).forEach((e=>{let[t,n]=e;I=Object.assign(I||{},{[t]:n})}));let N=nt(),j=rt(Y),R=N||j||_.length>0;return l({matches:r,loaderData:T,errors:I},R?{fetchers:new Map(O.fetchers)}:{})}(f,n,c,d.active,a,r&&r.submission,r&&r.fetcherSubmission,r&&r.replace,r&&!0===r.initialHydration,u,h);g||(A=null,De(n,l({matches:y||c},Ee(h),{loaderData:w,errors:_})))}function Oe(e){return e&&!Le(e[1])?{[e[0]]:e[1].data}:O.actionData?0===Object.keys(O.actionData).length?null:O.actionData:void 0}async function ze(r,i,o,a){let{submission:c,fetcherSubmission:d,replace:h}=void 0===a?{}:a;i.response.headers.has("X-Remix-Revalidate")&&(H=!0);let p=i.response.headers.get("Location");u(p,"Expected a Location header on the redirect Response"),p=ve(p,new URL(r.url),m);let g=f(O.location,p,{_isRedirect:!0});if(n){let n=!1;if(i.response.headers.has("X-Remix-Reload-Document"))n=!0;else if(te.test(p)){const r=e.history.createURL(p);n=r.origin!==t.location.origin||null==P(r.pathname,m)}if(n)return void(h?t.location.replace(p):t.location.assign(p))}A=null;let v=!0===h||i.response.headers.has("X-Remix-Replace")?s.Replace:s.Push,{formMethod:y,formAction:w,formEncType:b}=O.navigation;!c&&!d&&y&&w&&b&&(c=He(O.navigation));let _=c||d;if(J.has(i.response.status)&&_&&Me(_.formMethod))await Pe(v,g,{submission:l({},_,{formAction:p}),preventScrollReset:V,enableViewTransition:o?U:void 0});else{let e=We(g,c);await Pe(v,g,{overrideNavigation:e,fetcherSubmission:d,preventScrollReset:V,enableViewTransition:o?U:void 0})}}async function Ge(e,t,n,r,s,o){let a,l={};try{a=await pe(g,e,t,n,r,s,o,h,i)}catch(c){return r.forEach((e=>{l[e.route.id]={type:v.error,error:c}})),l}for(let[i,u]of Object.entries(a))if(je(u)){let e=u.result;l[i]={type:v.redirect,response:ge(e,n,i,s,m,x.v7_relativeSplatPath)}}else l[i]=await me(u);return l}async function Qe(t,n,r,i,s){let o=t.matches,a=Ge("loader",t,s,r,n,null),l=Promise.all(i.map((async n=>{if(n.matches&&n.match&&n.controller){let r=(await Ge("loader",t,ye(e.history,n.path,n.controller.signal),[n.match],n.matches,n.key))[n.match.route.id];return{[n.key]:r}}return Promise.resolve({[n.key]:{type:v.error,error:Te(404,{pathname:n.path})}})}))),c=await a,u=(await l).reduce(((e,t)=>Object.assign(e,t)),{});return await Promise.all([Ve(n,c,s.signal,o,t.loaderData),Ue(n,u,i)]),{loaderResults:c,fetcherResults:u}}function Ye(){H=!0,W.push(...ct()),ae.forEach(((e,t)=>{G.has(t)&&(K.add(t),et(t))}))}function Xe(e,t,n){void 0===n&&(n={}),O.fetchers.set(e,t),Ne({fetchers:new Map(O.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function Je(e,t,n,r){void 0===r&&(r={});let i=ke(O.matches,t);Ze(e),Ne({errors:{[i.route.id]:n},fetchers:new Map(O.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function $e(e){return x.v7_fetcherPersist&&(ce.set(e,(ce.get(e)||0)+1),ue.has(e)&&ue.delete(e)),O.fetchers.get(e)||Z}function Ze(e){let t=O.fetchers.get(e);!G.has(e)||t&&"loading"===t.state&&X.has(e)||et(e),ae.delete(e),X.delete(e),ie.delete(e),ue.delete(e),K.delete(e),O.fetchers.delete(e)}function et(e){let t=G.get(e);u(t,"Expected fetch controller: "+e),t.abort(),G.delete(e)}function tt(e){for(let t of e){let e=Ke($e(t).data);O.fetchers.set(t,e)}}function nt(){let e=[],t=!1;for(let n of ie){let r=O.fetchers.get(n);u(r,"Expected fetcher: "+n),"loading"===r.state&&(ie.delete(n),e.push(n),t=!0)}return tt(e),t}function rt(e){let t=[];for(let[n,r]of X)if(r<e){let e=O.fetchers.get(n);u(e,"Expected fetcher: "+n),"loading"===e.state&&(et(n),X.delete(n),t.push(n))}return tt(t),t.length>0}function it(e){O.blockers.delete(e),be.delete(e)}function st(e,t){let n=O.blockers.get(e)||ee;u("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);let r=new Map(O.blockers);r.set(e,t),Ne({blockers:r})}function ot(e){let{currentLocation:t,nextLocation:n,historyAction:r}=e;if(0===be.size)return;be.size>1&&d(!1,"A router only supports one blocker at a time");let i=Array.from(be.entries()),[s,o]=i[i.length-1],a=O.blockers.get(s);return a&&"proceeding"===a.state?void 0:o({currentLocation:t,nextLocation:n,historyAction:r})?s:void 0}function at(e){let t=Te(404,{pathname:e}),n=o||p,{matches:r,route:i}=Ce(n);return ct(),{notFoundMatches:r,route:i,error:t}}function lt(e,t){return{boundaryId:ke(t.partialMatches).route.id,error:Te(400,{type:"route-discovery",pathname:e,message:null!=t.error&&"message"in t.error?t.error:String(t.error)})}}function ct(e){let t=[];return we.forEach(((n,r)=>{e&&!e(r)||(n.cancel(),t.push(r),we.delete(r))})),t}function ut(e,t){if(I){let n=I(e,t.map((e=>function(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}(e,O.loaderData))));return n||e.key}return e.key}function dt(e,t){if(T){let n=ut(e,t),r=T[n];if("number"===typeof r)return r}return null}function ht(e,t,n){if(y){if(C.has(n))return{active:!1,matches:e};if(!e){return{active:!0,matches:_(t,n,m,!0)||[]}}if(Object.keys(e[0].params).length>0){return{active:!0,matches:_(t,n,m,!0)}}}return{active:!1,matches:null}}async function ft(e,t,n){let r=e;for(;;){let e=null==o,a=o||p;try{await de(y,t,r,a,h,i,_e,n)}catch(s){return{type:"error",error:s,partialMatches:r}}finally{e&&(p=[...p])}if(n.aborted)return{type:"aborted"};let l=b(a,t,m);if(l)return pt(t,C),{type:"success",matches:l};let c=_(a,t,m,!0);if(!c||r.length===c.length&&r.every(((e,t)=>e.route.id===c[t].route.id)))return pt(t,C),{type:"success",matches:null};r=c}}function pt(e,t){if(t.size>=k){let e=t.values().next().value;t.delete(e)}t.add(e)}return c={get basename(){return m},get future(){return x},get state(){return O},get routes(){return p},get window(){return t},initialize:function(){if(S=e.history.listen((t=>{let{action:n,location:r,delta:i}=t;if(D)return D(),void(D=void 0);d(0===be.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let s=ot({currentLocation:O.location,nextLocation:r,historyAction:n});if(s&&null!=i){let t=new Promise((e=>{D=e}));return e.history.go(-1*i),void st(s,{state:"blocked",location:r,proceed(){st(s,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),t.then((()=>e.history.go(i)))},reset(){let e=new Map(O.blockers);e.set(s,ee),Ne({blockers:e})}})}return Pe(n,r)})),n){!function(e,t){try{let n=e.sessionStorage.getItem(re);if(n){let e=JSON.parse(n);for(let[n,r]of Object.entries(e||{}))r&&Array.isArray(r)&&t.set(n,new Set(r||[]))}}catch(n){}}(t,F);let e=()=>function(e,t){if(t.size>0){let r={};for(let[e,n]of t)r[e]=[...n];try{e.sessionStorage.setItem(re,JSON.stringify(r))}catch(n){d(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}(t,F);t.addEventListener("pagehide",e),z=()=>t.removeEventListener("pagehide",e)}return O.initialized||Pe(s.Pop,O.location,{initialHydration:!0}),c},subscribe:function(e){return E.add(e),()=>E.delete(e)},enableScrollRestoration:function(e,t,n){if(T=e,N=t,I=n||null,!j&&O.navigation===$){j=!0;let e=dt(O.location,O.matches);null!=e&&Ne({restoreScrollPosition:e})}return()=>{T=null,N=null,I=null}},navigate:async function t(n,r){if("number"===typeof n)return void e.history.go(n);let i=se(O.location,O.matches,m,x.v7_prependBasename,n,x.v7_relativeSplatPath,null==r?void 0:r.fromRouteId,null==r?void 0:r.relative),{path:o,submission:a,error:c}=oe(x.v7_normalizeFormMethod,!1,i,r),u=O.location,d=f(O.location,o,r&&r.state);d=l({},d,e.history.encodeLocation(d));let h=r&&null!=r.replace?r.replace:void 0,p=s.Push;!0===h?p=s.Replace:!1===h||null!=a&&Me(a.formMethod)&&a.formAction===O.location.pathname+O.location.search&&(p=s.Replace);let g=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0,v=!0===(r&&r.unstable_flushSync),y=ot({currentLocation:u,nextLocation:d,historyAction:p});if(!y)return await Pe(p,d,{submission:a,pendingError:c,preventScrollReset:g,replace:r&&r.replace,enableViewTransition:r&&r.unstable_viewTransition,flushSync:v});st(y,{state:"blocked",location:d,proceed(){st(y,{state:"proceeding",proceed:void 0,reset:void 0,location:d}),t(n,r)},reset(){let e=new Map(O.blockers);e.set(y,ee),Ne({blockers:e})}})},fetch:function(t,n,i,s){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");G.has(t)&&et(t);let a=!0===(s&&s.unstable_flushSync),l=o||p,c=se(O.location,O.matches,m,x.v7_prependBasename,i,x.v7_relativeSplatPath,n,null==s?void 0:s.relative),d=b(l,c,m),h=ht(d,l,c);if(h.active&&h.matches&&(d=h.matches),!d)return void Je(t,n,Te(404,{pathname:c}),{flushSync:a});let{path:f,submission:g,error:v}=oe(x.v7_normalizeFormMethod,!0,c,s);if(v)return void Je(t,n,v,{flushSync:a});let y=Be(d,f);V=!0===(s&&s.preventScrollReset),g&&Me(g.formMethod)?async function(t,n,r,i,s,a,l,c){function d(e){if(!e.route.action&&!e.route.lazy){let e=Te(405,{method:c.formMethod,pathname:r,routeId:n});return Je(t,n,e,{flushSync:l}),!0}return!1}if(Ye(),ae.delete(t),!a&&d(i))return;let h=O.fetchers.get(t);Xe(t,function(e,t){let n={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0};return n}(c,h),{flushSync:l});let f=new AbortController,g=ye(e.history,r,f.signal,c);if(a){let e=await ft(s,r,g.signal);if("aborted"===e.type)return;if("error"===e.type){let{error:i}=lt(r,e);return void Je(t,n,i,{flushSync:l})}if(!e.matches)return void Je(t,n,Te(404,{pathname:r}),{flushSync:l});if(d(i=Be(s=e.matches,r)))return}G.set(t,f);let v=Q,y=await Ge("action",O,g,[i],s,t),w=y[i.route.id];if(g.signal.aborted)return void(G.get(t)===f&&G.delete(t));if(x.v7_fetcherPersist&&ue.has(t)){if(Ae(w)||Le(w))return void Xe(t,Ke(void 0))}else{if(Ae(w))return G.delete(t),Y>v?void Xe(t,Ke(void 0)):(ie.add(t),Xe(t,qe(c)),ze(g,w,!1,{fetcherSubmission:c}));if(Le(w))return void Je(t,n,w.error)}if(Re(w))throw Te(400,{type:"defer-action"});let _=O.navigation.location||O.location,S=ye(e.history,_,f.signal),E=o||p,k="idle"!==O.navigation.state?b(E,O.navigation.location,m):O.matches;u(k,"Didn't find any matches after fetcher action");let C=++Q;X.set(t,C);let T=qe(c,w.data);O.fetchers.set(t,T);let[I,N]=le(e.history,O,k,c,_,!1,x.v7_skipActionErrorRevalidation,H,W,K,ue,ae,ie,E,m,[i.route.id,w]);N.filter((e=>e.key!==t)).forEach((e=>{let t=e.key,n=O.fetchers.get(t),r=qe(void 0,n?n.data:void 0);O.fetchers.set(t,r),G.has(t)&&et(t),e.controller&&G.set(t,e.controller)})),Ne({fetchers:new Map(O.fetchers)});let j=()=>N.forEach((e=>et(e.key)));f.signal.addEventListener("abort",j);let{loaderResults:R,fetcherResults:L}=await Qe(O,k,I,N,S);if(f.signal.aborted)return;f.signal.removeEventListener("abort",j),X.delete(t),G.delete(t),N.forEach((e=>G.delete(e.key)));let D=Ie(R);if(D)return ze(S,D.result,!1);if(D=Ie(L),D)return ie.add(D.key),ze(S,D.result,!1);let{loaderData:P,errors:V}=xe(O,k,I,R,void 0,N,L,we);if(O.fetchers.has(t)){let e=Ke(w.data);O.fetchers.set(t,e)}rt(C),"loading"===O.navigation.state&&C>Y?(u(M,"Expected pending action"),A&&A.abort(),De(O.navigation.location,{matches:k,loaderData:P,errors:V,fetchers:new Map(O.fetchers)})):(Ne({errors:V,loaderData:Se(O.loaderData,P,k,V),fetchers:new Map(O.fetchers)}),H=!1)}(t,n,f,y,d,h.active,a,g):(ae.set(t,{routeId:n,path:f}),async function(t,n,r,i,s,o,a,l){let c=O.fetchers.get(t);Xe(t,qe(l,c?c.data:void 0),{flushSync:a});let d=new AbortController,h=ye(e.history,r,d.signal);if(o){let e=await ft(s,r,h.signal);if("aborted"===e.type)return;if("error"===e.type){let{error:i}=lt(r,e);return void Je(t,n,i,{flushSync:a})}if(!e.matches)return void Je(t,n,Te(404,{pathname:r}),{flushSync:a});i=Be(s=e.matches,r)}G.set(t,d);let f=Q,p=await Ge("loader",O,h,[i],s,t),m=p[i.route.id];Re(m)&&(m=await Fe(m,h.signal,!0)||m);G.get(t)===d&&G.delete(t);if(h.signal.aborted)return;if(ue.has(t))return void Xe(t,Ke(void 0));if(Ae(m))return Y>f?void Xe(t,Ke(void 0)):(ie.add(t),void await ze(h,m,!1));if(Le(m))return void Je(t,n,m.error);u(!Re(m),"Unhandled fetcher deferred data"),Xe(t,Ke(m.data))}(t,n,f,y,d,h.active,a,g))},revalidate:function(){Ye(),Ne({revalidation:"loading"}),"submitting"!==O.navigation.state&&("idle"!==O.navigation.state?Pe(M||O.historyAction,O.navigation.location,{overrideNavigation:O.navigation,enableViewTransition:!0===U}):Pe(O.historyAction,O.location,{startUninterruptedRevalidation:!0}))},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:$e,deleteFetcher:function(e){if(x.v7_fetcherPersist){let t=(ce.get(e)||0)-1;t<=0?(ce.delete(e),ue.add(e)):ce.set(e,t)}else Ze(e);Ne({fetchers:new Map(O.fetchers)})},dispose:function(){S&&S(),z&&z(),E.clear(),A&&A.abort(),O.fetchers.forEach(((e,t)=>Ze(t))),O.blockers.forEach(((e,t)=>it(t)))},getBlocker:function(e,t){let n=O.blockers.get(e)||ee;return be.get(e)!==t&&be.set(e,t),n},deleteBlocker:it,patchRoutes:function(e,t){let n=null==o;he(e,t,o||p,h,i),n&&(p=[...p],Ne({}))},_internalFetchControllers:G,_internalActiveDeferreds:we,_internalSetRoutes:function(e){h={},o=w(e,i,void 0,h)}},c}Symbol("deferred");function se(e,t,n,r,i,s,o,a){let l,c;if(o){l=[];for(let e of t)if(l.push(e),e.route.id===o){c=e;break}}else l=t,c=t[t.length-1];let u=U(i||".",V(l,s),P(e.pathname,n)||e.pathname,"path"===a);return null==i&&(u.search=e.search,u.hash=e.hash),null!=i&&""!==i&&"."!==i||!c||!c.route.index||ze(u.search)||(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&"/"!==n&&(u.pathname="/"===u.pathname?n:F([n,u.pathname])),p(u)}function oe(e,t,n,r){if(!r||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(r))return{path:n};if(r.formMethod&&!Oe(r.formMethod))return{path:n,error:Te(405,{method:r.formMethod})};let i,s,o=()=>({path:n,error:Te(400,{type:"invalid-body"})}),a=r.formMethod||"get",l=e?a.toUpperCase():a.toLowerCase(),c=Ne(n);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!Me(l))return o();let e="string"===typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce(((e,t)=>{let[n,r]=t;return""+e+n+"="+r+"\n"}),""):String(r.body);return{path:n,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===r.formEncType){if(!Me(l))return o();try{let e="string"===typeof r.body?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:e,text:void 0}}}catch(f){return o()}}}if(u("function"===typeof FormData,"FormData is not available in this environment"),r.formData)i=we(r.formData),s=r.formData;else if(r.body instanceof FormData)i=we(r.body),s=r.body;else if(r.body instanceof URLSearchParams)i=r.body,s=be(i);else if(null==r.body)i=new URLSearchParams,s=new FormData;else try{i=new URLSearchParams(r.body),s=be(i)}catch(f){return o()}let d={formMethod:l,formAction:c,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:s,json:void 0,text:void 0};if(Me(d.formMethod))return{path:n,submission:d};let h=m(n);return t&&h.search&&ze(h.search)&&i.append("index",""),h.search="?"+i,{path:p(h),submission:d}}function ae(e,t){let n=e;if(t){let r=e.findIndex((e=>e.route.id===t));r>=0&&(n=e.slice(0,r))}return n}function le(e,t,n,r,i,s,o,a,c,u,d,h,f,p,m,g){let v=g?Le(g[1])?g[1].error:g[1].data:void 0,y=e.createURL(t.location),w=e.createURL(i),_=g&&Le(g[1])?g[0]:void 0,x=_?ae(n,_):n,S=g?g[1].statusCode:void 0,E=o&&S&&S>=400,k=x.filter(((e,n)=>{let{route:i}=e;if(i.lazy)return!0;if(null==i.loader)return!1;if(s)return!("function"===typeof i.loader&&!i.loader.hydrate)||void 0===t.loaderData[i.id]&&(!t.errors||void 0===t.errors[i.id]);if(function(e,t,n){let r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(t.loaderData,t.matches[n],e)||c.some((t=>t===e.route.id)))return!0;let o=t.matches[n],u=e;return ue(e,l({currentUrl:y,currentParams:o.params,nextUrl:w,nextParams:u.params},r,{actionResult:v,actionStatus:S,defaultShouldRevalidate:!E&&(a||y.pathname+y.search===w.pathname+w.search||y.search!==w.search||ce(o,u))}))})),C=[];return h.forEach(((e,i)=>{if(s||!n.some((t=>t.route.id===e.routeId))||d.has(i))return;let o=b(p,e.path,m);if(!o)return void C.push({key:i,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let c=t.fetchers.get(i),h=Be(o,e.path),g=!1;f.has(i)?g=!1:u.has(i)?(u.delete(i),g=!0):g=c&&"idle"!==c.state&&void 0===c.data?a:ue(h,l({currentUrl:y,currentParams:t.matches[t.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:v,actionStatus:S,defaultShouldRevalidate:!E&&a})),g&&C.push({key:i,routeId:e.routeId,path:e.path,matches:o,match:h,controller:new AbortController})})),[k,C]}function ce(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function ue(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}async function de(e,t,n,r,i,s,o,a){let l=[t,...n.map((e=>e.route.id))].join("-");try{let u=o.get(l);u||(u=e({path:t,matches:n,patch:(e,t)=>{a.aborted||he(e,t,r,i,s)}}),o.set(l,u)),u&&("object"===typeof(c=u)&&null!=c&&"then"in c)&&await u}finally{o.delete(l)}var c}function he(e,t,n,r,i){if(e){var s;let n=r[e];u(n,"No route found to patch children into: routeId = "+e);let o=w(t,i,[e,"patch",String((null==(s=n.children)?void 0:s.length)||"0")],r);n.children?n.children.push(...o):n.children=o}else{let e=w(t,i,["patch",String(n.length||"0")],r);n.push(...e)}}async function fe(e){let{matches:t}=e,n=t.filter((e=>e.shouldLoad)),r=await Promise.all(n.map((e=>e.resolve())));return r.reduce(((e,t,r)=>Object.assign(e,{[n[r].route.id]:t})),{})}async function pe(e,t,n,r,i,s,o,a,c,h){let f=s.map((e=>e.route.lazy?async function(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];u(i,"No route found in manifest");let s={};for(let o in r){let e=void 0!==i[o]&&"hasErrorBoundary"!==o;d(!e,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+o+'" will be ignored.'),e||y.has(o)||(s[o]=r[o])}Object.assign(i,s),Object.assign(i,l({},t(i),{lazy:void 0}))}(e.route,c,a):void 0)),p=s.map(((e,n)=>{let s=f[n],o=i.some((t=>t.route.id===e.route.id));return l({},e,{shouldLoad:o,resolve:async n=>(n&&"GET"===r.method&&(e.route.lazy||e.route.loader)&&(o=!0),o?async function(e,t,n,r,i,s){let o,a,l=r=>{let o,l=new Promise(((e,t)=>o=t));a=()=>o(),t.signal.addEventListener("abort",a);let c=i=>"function"!==typeof r?Promise.reject(new Error('You cannot call the handler for a route which defines a boolean "'+e+'" [routeId: '+n.route.id+"]")):r({request:t,params:n.params,context:s},...void 0!==i?[i]:[]),u=(async()=>{try{return{type:"data",result:await(i?i((e=>c(e))):c())}}catch(e){return{type:"error",result:e}}})();return Promise.race([u,l])};try{let i=n.route[e];if(r)if(i){let e,[t]=await Promise.all([l(i).catch((t=>{e=t})),r]);if(void 0!==e)throw e;o=t}else{if(await r,i=n.route[e],!i){if("action"===e){let e=new URL(t.url),r=e.pathname+e.search;throw Te(405,{method:t.method,pathname:r,routeId:n.route.id})}return{type:v.data,result:void 0}}o=await l(i)}else{if(!i){let e=new URL(t.url);throw Te(404,{pathname:e.pathname+e.search})}o=await l(i)}u(void 0!==o.result,"You defined "+("action"===e?"an action":"a loader")+' for route "'+n.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(c){return{type:v.error,result:c}}finally{a&&t.signal.removeEventListener("abort",a)}return o}(t,r,e,s,n,h):Promise.resolve({type:v.data,result:void 0}))})})),m=await e({matches:p,request:r,params:s[0].params,fetcherKey:o,context:h});try{await Promise.all(f)}catch(g){}return m}async function me(e){let{result:t,type:n}=e;if(Pe(t)){let e;try{let n=t.headers.get("Content-Type");e=n&&/\bapplication\/json\b/.test(n)?null==t.body?null:await t.json():await t.text()}catch(c){return{type:v.error,error:c}}return n===v.error?{type:v.error,error:new W(t.status,t.statusText,e),statusCode:t.status,headers:t.headers}:{type:v.data,data:e,statusCode:t.status,headers:t.headers}}if(n===v.error){if(De(t)){var r,i;if(t.data instanceof Error)return{type:v.error,error:t.data,statusCode:null==(i=t.init)?void 0:i.status};t=new W((null==(r=t.init)?void 0:r.status)||500,void 0,t.data)}return{type:v.error,error:t,statusCode:q(t)?t.status:void 0}}var s,o,a,l;return function(e){let t=e;return t&&"object"===typeof t&&"object"===typeof t.data&&"function"===typeof t.subscribe&&"function"===typeof t.cancel&&"function"===typeof t.resolveData}(t)?{type:v.deferred,deferredData:t,statusCode:null==(s=t.init)?void 0:s.status,headers:(null==(o=t.init)?void 0:o.headers)&&new Headers(t.init.headers)}:De(t)?{type:v.data,data:t.data,statusCode:null==(a=t.init)?void 0:a.status,headers:null!=(l=t.init)&&l.headers?new Headers(t.init.headers):void 0}:{type:v.data,data:t}}function ge(e,t,n,r,i,s){let o=e.headers.get("Location");if(u(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!te.test(o)){let a=r.slice(0,r.findIndex((e=>e.route.id===n))+1);o=se(new URL(t.url),a,i,!0,o,s),e.headers.set("Location",o)}return e}function ve(e,t,n){if(te.test(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),s=null!=P(i.pathname,n);if(i.origin===t.origin&&s)return i.pathname+i.search+i.hash}return e}function ye(e,t,n,r){let i=e.createURL(Ne(t)).toString(),s={signal:n};if(r&&Me(r.formMethod)){let{formMethod:e,formEncType:t}=r;s.method=e.toUpperCase(),"application/json"===t?(s.headers=new Headers({"Content-Type":t}),s.body=JSON.stringify(r.json)):"text/plain"===t?s.body=r.text:"application/x-www-form-urlencoded"===t&&r.formData?s.body=we(r.formData):s.body=r.formData}return new Request(i,s)}function we(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,"string"===typeof r?r:r.name);return t}function be(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function _e(e,t,n,r,i){let s,o={},a=null,l=!1,c={},d=n&&Le(n[1])?n[1].error:void 0;return e.forEach((n=>{if(!(n.route.id in t))return;let h=n.route.id,f=t[h];if(u(!Ae(f),"Cannot handle redirect results in processLoaderData"),Le(f)){let t=f.error;if(void 0!==d&&(t=d,d=void 0),a=a||{},i)a[h]=t;else{let n=ke(e,h);null==a[n.route.id]&&(a[n.route.id]=t)}o[h]=void 0,l||(l=!0,s=q(f.error)?f.error.status:500),f.headers&&(c[h]=f.headers)}else Re(f)?(r.set(h,f.deferredData),o[h]=f.deferredData.data,null==f.statusCode||200===f.statusCode||l||(s=f.statusCode),f.headers&&(c[h]=f.headers)):(o[h]=f.data,f.statusCode&&200!==f.statusCode&&!l&&(s=f.statusCode),f.headers&&(c[h]=f.headers))})),void 0!==d&&n&&(a={[n[0]]:d},o[n[0]]=void 0),{loaderData:o,errors:a,statusCode:s||200,loaderHeaders:c}}function xe(e,t,n,r,i,s,o,a){let{loaderData:c,errors:d}=_e(t,r,i,a,!1);return s.forEach((t=>{let{key:n,match:r,controller:i}=t,s=o[n];if(u(s,"Did not find corresponding fetcher result"),!i||!i.signal.aborted)if(Le(s)){let t=ke(e.matches,null==r?void 0:r.route.id);d&&d[t.route.id]||(d=l({},d,{[t.route.id]:s.error})),e.fetchers.delete(n)}else if(Ae(s))u(!1,"Unhandled fetcher revalidation redirect");else if(Re(s))u(!1,"Unhandled fetcher deferred data");else{let t=Ke(s.data);e.fetchers.set(n,t)}})),{loaderData:c,errors:d}}function Se(e,t,n,r){let i=l({},t);for(let s of n){let n=s.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(i[n]=t[n]):void 0!==e[n]&&s.route.loader&&(i[n]=e[n]),r&&r.hasOwnProperty(n))break}return i}function Ee(e){return e?Le(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function ke(e,t){let n=t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e];return n.reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function Ce(e){let t=1===e.length?e[0]:e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Te(e,t){let{pathname:n,routeId:r,method:i,type:s,message:o}=void 0===t?{}:t,a="Unknown Server Error",l="Unknown @remix-run/router error";return 400===e?(a="Bad Request","route-discovery"===s?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` function threw the following error:\n'+o:i&&n&&r?l="You made a "+i+' request to "'+n+'" but did not provide a `loader` for route "'+r+'", so there is no way to handle the request.':"defer-action"===s?l="defer() is not supported in actions":"invalid-body"===s&&(l="Unable to encode submission body")):403===e?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):404===e?(a="Not Found",l='No route matches URL "'+n+'"'):405===e&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+r+'", so there is no way to handle the request.':i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new W(e||500,a,new Error(l),!0)}function Ie(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[e,r]=t[n];if(Ae(r))return{key:e,result:r}}}function Ne(e){return p(l({},"string"===typeof e?m(e):e,{hash:""}))}function je(e){return Pe(e.result)&&X.has(e.result.status)}function Re(e){return e.type===v.deferred}function Le(e){return e.type===v.error}function Ae(e){return(e&&e.type)===v.redirect}function De(e){return"object"===typeof e&&null!=e&&"type"in e&&"data"in e&&"init"in e&&"DataWithResponseInit"===e.type}function Pe(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function Oe(e){return Y.has(e.toLowerCase())}function Me(e){return G.has(e.toLowerCase())}async function Ve(e,t,n,r,i){let s=Object.entries(t);for(let o=0;o<s.length;o++){let[a,l]=s[o],c=e.find((e=>(null==e?void 0:e.route.id)===a));if(!c)continue;let u=r.find((e=>e.route.id===c.route.id)),d=null!=u&&!ce(u,c)&&void 0!==(i&&i[c.route.id]);Re(l)&&d&&await Fe(l,n,!1).then((e=>{e&&(t[a]=e)}))}}async function Ue(e,t,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],a=t[i],l=e.find((e=>(null==e?void 0:e.route.id)===s));l&&(Re(a)&&(u(o,"Expected an AbortController for revalidating fetcher deferred result"),await Fe(a,o.signal,!0).then((e=>{e&&(t[i]=e)}))))}}async function Fe(e,t,n){if(void 0===n&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:v.data,data:e.deferredData.unwrappedData}}catch(r){return{type:v.error,error:r}}return{type:v.data,data:e.deferredData.data}}}function ze(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function Be(e,t){let n="string"===typeof t?m(t).search:t.search;if(e[e.length-1].route.index&&ze(n||""))return e[e.length-1];let r=M(e);return r[r.length-1]}function He(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:o}=e;if(t&&n&&r)return null!=i?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i}:null!=s?{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0}:void 0!==o?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}:void 0}function We(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function qe(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Ke(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Ge(){return Ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ge.apply(this,arguments)}const Qe=e.createContext(null);const Ye=e.createContext(null);const Xe=e.createContext(null);const Je=e.createContext(null);const $e=e.createContext({outlet:null,matches:[],isDataRoute:!1});const Ze=e.createContext(null);function et(){return null!=e.useContext(Je)}function tt(){return et()||u(!1),e.useContext(Je).location}function nt(t){e.useContext(Xe).static||e.useLayoutEffect(t)}function rt(){let{isDataRoute:t}=e.useContext($e);return t?function(){let{router:t}=pt(ht.UseNavigateStable),n=gt(ft.UseNavigateStable),r=e.useRef(!1);nt((()=>{r.current=!0}));let i=e.useCallback((function(e,i){void 0===i&&(i={}),r.current&&("number"===typeof e?t.navigate(e):t.navigate(e,Ge({fromRouteId:n},i)))}),[t,n]);return i}():function(){et()||u(!1);let t=e.useContext(Qe),{basename:n,future:r,navigator:i}=e.useContext(Xe),{matches:s}=e.useContext($e),{pathname:o}=tt(),a=JSON.stringify(V(s,r.v7_relativeSplatPath)),l=e.useRef(!1);return nt((()=>{l.current=!0})),e.useCallback((function(e,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof e)return void i.go(e);let s=U(e,JSON.parse(a),o,"path"===r.relative);null==t&&"/"!==n&&(s.pathname="/"===s.pathname?n:F([n,s.pathname])),(r.replace?i.replace:i.push)(s,r.state,r)}),[n,i,a,o,t])}()}function it(){let{matches:t}=e.useContext($e),n=t[t.length-1];return n?n.params:{}}function st(t,n){let{relative:r}=void 0===n?{}:n,{future:i}=e.useContext(Xe),{matches:s}=e.useContext($e),{pathname:o}=tt(),a=JSON.stringify(V(s,i.v7_relativeSplatPath));return e.useMemo((()=>U(t,JSON.parse(a),o,"path"===r)),[t,a,o,r])}function ot(t,n,r,i){et()||u(!1);let{navigator:o}=e.useContext(Xe),{matches:a}=e.useContext($e),l=a[a.length-1],c=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=tt();if(n){var p;let e="string"===typeof n?m(n):n;"/"===d||(null==(p=e.pathname)?void 0:p.startsWith(d))||u(!1),h=e}else h=f;let g=h.pathname||"/",v=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=b(t,{pathname:v});let w=dt(y&&y.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:F([d,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:F([d,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,r,i);return n&&w?e.createElement(Je.Provider,{value:{location:Ge({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:s.Pop}},w):w}function at(){let t=function(){var t;let n=e.useContext(Ze),r=mt(ft.UseRouteError),i=gt(ft.UseRouteError);if(void 0!==n)return n;return null==(t=r.errors)?void 0:t[i]}(),n=q(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:s},r):null,null)}const lt=e.createElement(at,null);class ct extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?e.createElement($e.Provider,{value:this.props.routeContext},e.createElement(Ze.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ut(t){let{routeContext:n,match:r,children:i}=t,s=e.useContext(Qe);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement($e.Provider,{value:n},i)}function dt(t,n,r,i){var s;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==t){var o;if(!r)return null;if(r.errors)t=r.matches;else{if(!(null!=(o=i)&&o.v7_partialHydration&&0===n.length&&!r.initialized&&r.matches.length>0))return null;t=r.matches}}let a=t,l=null==(s=r)?void 0:s.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||u(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,d=-1;if(r&&i&&i.v7_partialHydration)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(d=e),t.route.id){let{loaderData:e,errors:n}=r,i=t.route.loader&&void 0===e[t.route.id]&&(!n||void 0===n[t.route.id]);if(t.route.lazy||i){c=!0,a=d>=0?a.slice(0,d+1):[a[0]];break}}}return a.reduceRight(((t,i,s)=>{let o,u=!1,h=null,f=null;var p;r&&(o=l&&i.route.id?l[i.route.id]:void 0,h=i.route.errorElement||lt,c&&(d<0&&0===s?(p="route-fallback",!1||vt[p]||(vt[p]=!0),u=!0,f=null):d===s&&(u=!0,f=i.route.hydrateFallbackElement||null)));let m=n.concat(a.slice(0,s+1)),g=()=>{let n;return n=o?h:u?f:i.route.Component?e.createElement(i.route.Component,null):i.route.element?i.route.element:t,e.createElement(ut,{match:i,routeContext:{outlet:t,matches:m,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?e.createElement(ct,{location:r.location,revalidation:r.revalidation,component:h,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var ht=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ht||{}),ft=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ft||{});function pt(t){let n=e.useContext(Qe);return n||u(!1),n}function mt(t){let n=e.useContext(Ye);return n||u(!1),n}function gt(t){let n=function(){let t=e.useContext($e);return t||u(!1),t}(),r=n.matches[n.matches.length-1];return r.route.id||u(!1),r.route.id}const vt={};t.startTransition;function yt(t){let{basename:n="/",children:r=null,location:i,navigationType:o=s.Pop,navigator:a,static:l=!1,future:c}=t;et()&&u(!1);let d=n.replace(/^\/*/,"/"),h=e.useMemo((()=>({basename:d,navigator:a,static:l,future:Ge({v7_relativeSplatPath:!1},c)})),[d,c,a,l]);"string"===typeof i&&(i=m(i));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:y="default"}=i,w=e.useMemo((()=>{let e=P(f,d);return null==e?null:{location:{pathname:e,search:p,hash:g,state:v,key:y},navigationType:o}}),[d,f,p,g,v,y,o]);return null==w?null:e.createElement(Xe.Provider,{value:h},e.createElement(Je.Provider,{children:r,value:w}))}new Promise((()=>{}));e.Component;function wt(t){let n={hasErrorBoundary:null!=t.ErrorBoundary||null!=t.errorElement};return t.Component&&Object.assign(n,{element:e.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(n,{hydrateFallbackElement:e.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(n,{errorElement:e.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),n}function bt(){return bt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bt.apply(this,arguments)}function _t(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function xt(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const St=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(Eb){}function Et(){var e;let t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=bt({},t,{errors:kt(t.errors)})),t}function kt(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&"RouteErrorResponse"===i.__type)n[r]=new W(i.status,i.statusText,i.data,!0===i.internal);else if(i&&"Error"===i.__type){if(i.__subType){let e=window[i.__subType];if("function"===typeof e)try{let t=new e(i.message);t.stack="",n[r]=t}catch(Eb){}}if(null==n[r]){let e=new Error(i.message);e.stack="",n[r]=e}}else n[r]=i;return n}const Ct=e.createContext({isTransitioning:!1});const Tt=e.createContext(new Map);const It=t.startTransition,Nt=a.flushSync;t.useId;function jt(e){Nt?Nt(e):e()}class Rt{constructor(){this.status="pending",this.promise=new Promise(((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}}))}}function Lt(t){let{fallbackElement:n,router:r,future:i}=t,[s,o]=e.useState(r.state),[a,l]=e.useState(),[c,u]=e.useState({isTransitioning:!1}),[d,h]=e.useState(),[f,p]=e.useState(),[m,g]=e.useState(),v=e.useRef(new Map),{v7_startTransition:y}=i||{},w=e.useCallback((e=>{y?function(e){It?It(e):e()}(e):e()}),[y]),b=e.useCallback(((e,t)=>{let{deletedFetchers:n,unstable_flushSync:i,unstable_viewTransitionOpts:s}=t;n.forEach((e=>v.current.delete(e))),e.fetchers.forEach(((e,t)=>{void 0!==e.data&&v.current.set(t,e.data)}));let a=null==r.window||null==r.window.document||"function"!==typeof r.window.document.startViewTransition;if(s&&!a){if(i){jt((()=>{f&&(d&&d.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:s.currentLocation,nextLocation:s.nextLocation})}));let t=r.window.document.startViewTransition((()=>{jt((()=>o(e)))}));return t.finished.finally((()=>{jt((()=>{h(void 0),p(void 0),l(void 0),u({isTransitioning:!1})}))})),void jt((()=>p(t)))}f?(d&&d.resolve(),f.skipTransition(),g({state:e,currentLocation:s.currentLocation,nextLocation:s.nextLocation})):(l(e),u({isTransitioning:!0,flushSync:!1,currentLocation:s.currentLocation,nextLocation:s.nextLocation}))}else i?jt((()=>o(e))):w((()=>o(e)))}),[r.window,f,d,v,w]);e.useLayoutEffect((()=>r.subscribe(b)),[r,b]),e.useEffect((()=>{c.isTransitioning&&!c.flushSync&&h(new Rt)}),[c]),e.useEffect((()=>{if(d&&a&&r.window){let e=a,t=d.promise,n=r.window.document.startViewTransition((async()=>{w((()=>o(e))),await t}));n.finished.finally((()=>{h(void 0),p(void 0),l(void 0),u({isTransitioning:!1})})),p(n)}}),[w,a,d,r.window]),e.useEffect((()=>{d&&a&&s.location.key===a.location.key&&d.resolve()}),[d,f,s.location,a]),e.useEffect((()=>{!c.isTransitioning&&m&&(l(m.state),u({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),g(void 0))}),[c.isTransitioning,m]),e.useEffect((()=>{}),[]);let _=e.useMemo((()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:e=>r.navigate(e),push:(e,t,n)=>r.navigate(e,{state:t,preventScrollReset:null==n?void 0:n.preventScrollReset}),replace:(e,t,n)=>r.navigate(e,{replace:!0,state:t,preventScrollReset:null==n?void 0:n.preventScrollReset})})),[r]),x=r.basename||"/",S=e.useMemo((()=>({router:r,navigator:_,static:!1,basename:x})),[r,_,x]),E=e.useMemo((()=>({v7_relativeSplatPath:r.future.v7_relativeSplatPath})),[r.future.v7_relativeSplatPath]);return e.createElement(e.Fragment,null,e.createElement(Qe.Provider,{value:S},e.createElement(Ye.Provider,{value:s},e.createElement(Tt.Provider,{value:v.current},e.createElement(Ct.Provider,{value:c},e.createElement(yt,{basename:x,location:s.location,navigationType:s.historyAction,navigator:_,future:E},s.initialized||r.future.v7_partialHydration?e.createElement(At,{routes:r.routes,future:r.future,state:s}):n))))),null)}const At=e.memo(Dt);function Dt(e){let{routes:t,future:n,state:r}=e;return ot(t,void 0,r,n)}const Pt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ot=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mt=e.forwardRef((function(t,n){let r,{onClick:i,relative:s,reloadDocument:o,replace:a,state:l,target:c,to:d,preventScrollReset:h,unstable_viewTransition:f}=t,m=_t(t,St),{basename:g}=e.useContext(Xe),v=!1;if("string"===typeof d&&Ot.test(d)&&(r=d,Pt))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=P(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:v=!0}catch(Eb){}let y=function(t,n){let{relative:r}=void 0===n?{}:n;et()||u(!1);let{basename:i,navigator:s}=e.useContext(Xe),{hash:o,pathname:a,search:l}=st(t,{relative:r}),c=a;return"/"!==i&&(c="/"===a?i:F([i,a])),s.createHref({pathname:c,search:l,hash:o})}(d,{relative:s}),w=function(t,n){let{target:r,replace:i,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l}=void 0===n?{}:n,c=rt(),u=tt(),d=st(t,{relative:a});return e.useCallback((e=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,r)){e.preventDefault();let n=void 0!==i?i:p(u)===p(d);c(t,{replace:n,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l})}}),[u,c,d,i,s,r,t,o,a,l])}(d,{replace:a,state:l,target:c,preventScrollReset:h,relative:s,unstable_viewTransition:f});return e.createElement("a",bt({},m,{href:r||y,onClick:v||o?i:function(e){i&&i(e),e.defaultPrevented||w(e)},ref:n,target:c}))}));var Vt,Ut;function Ft(t){let n=e.useRef(xt(t)),r=e.useRef(!1),i=tt(),s=e.useMemo((()=>function(e,t){let n=xt(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(i.search,r.current?null:n.current)),[i.search]),o=rt(),a=e.useCallback(((e,t)=>{const n=xt("function"===typeof e?e(s):e);r.current=!0,o("?"+n,t)}),[o,s]);return[s,a]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Vt||(Vt={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ut||(Ut={}));const zt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Bt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;a||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(zt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new Ht;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ht extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Wt=function(e){return function(e){const t=zt(e);return Bt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},qt=function(e){try{return Bt.decodeString(e,!0)}catch(Eb){console.error("base64Decode failed: ",Eb)}return null};const Kt=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Gt=()=>{try{return Kt()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/youtube-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Eb){return}const t=e&&qt(e[1]);return t&&JSON.parse(t)})()}catch(Eb){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(Eb))}},Qt=e=>{var t,n;return null===(n=null===(t=Gt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Yt=e=>{const t=Qt(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Xt=()=>{var e;return null===(e=Gt())||void 0===e?void 0:e.config},Jt=e=>{var t;return null===(t=Gt())||void 0===t?void 0:t["_".concat(e)]};class $t{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Zt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Wt(JSON.stringify({alg:"none",type:"JWT"})),Wt(JSON.stringify(s)),""].join(".")}function en(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function tn(){return!function(){var e;const t=null===(e=Gt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Eb){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nn(){try{return"object"===typeof indexedDB}catch(Eb){return!1}}class rn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,rn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sn.prototype.create)}}class sn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(on,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new rn(n,s,t)}}const on=/\{\$([^}]+)}/g;function an(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(ln(n)&&ln(s)){if(!an(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ln(e){return null!==e&&"object"===typeof e}function cn(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function un(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function dn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class hn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=fn),void 0===r.error&&(r.error=fn),void 0===r.complete&&(r.complete=fn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(Eb){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(Eb){"undefined"!==typeof console&&console.error&&console.error(Eb)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function fn(){}function pn(e){return e&&e._delegate?e._delegate:e}class mn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const gn="[DEFAULT]";class vn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new $t;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Eb){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Eb){if(r)return null;throw Eb}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:gn})}catch(Eb){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Eb){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===gn?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn;return this.component?this.component.multipleInstances?e:gn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class yn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new vn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const wn=[];var bn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(bn||(bn={}));const _n={debug:bn.DEBUG,verbose:bn.VERBOSE,info:bn.INFO,warn:bn.WARN,error:bn.ERROR,silent:bn.SILENT},xn=bn.INFO,Sn={[bn.DEBUG]:"log",[bn.VERBOSE]:"log",[bn.INFO]:"info",[bn.WARN]:"warn",[bn.ERROR]:"error"},En=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Sn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class kn{constructor(e){this.name=e,this._logLevel=xn,this._logHandler=En,this._userLogHandler=null,wn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in bn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?_n[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,bn.DEBUG,...t),this._logHandler(this,bn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,bn.VERBOSE,...t),this._logHandler(this,bn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,bn.INFO,...t),this._logHandler(this,bn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,bn.WARN,...t),this._logHandler(this,bn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,bn.ERROR,...t),this._logHandler(this,bn.ERROR,...t)}}const Cn=(e,t)=>t.some((t=>e instanceof t));let Tn,In;const Nn=new WeakMap,jn=new WeakMap,Rn=new WeakMap,Ln=new WeakMap,An=new WeakMap;let Dn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return jn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Rn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Pn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(In||(In=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Vn(this),n),Mn(Nn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Mn(e.apply(Vn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Vn(this),t,...r);return Rn.set(s,t.sort?t.sort():[t]),Mn(s)}}function On(e){return"function"===typeof e?Pn(e):(e instanceof IDBTransaction&&function(e){if(jn.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));jn.set(e,t)}(e),Cn(e,Tn||(Tn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Dn):e)}function Mn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Mn(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&Nn.set(t,e)})).catch((()=>{})),An.set(t,e),t}(e);if(Ln.has(e))return Ln.get(e);const t=On(e);return t!==e&&(Ln.set(e,t),An.set(t,e)),t}const Vn=e=>An.get(e);const Un=["get","getKey","getAll","getAllKeys","count"],Fn=["put","add","delete","clear"],zn=new Map;function Bn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(zn.get(t))return zn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Fn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Un.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return zn.set(t,s),s}Dn=(e=>({...e,get:(t,n,r)=>Bn(t,n)||e.get(t,n,r),has:(t,n)=>!!Bn(t,n)||e.has(t,n)}))(Dn);class Hn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Wn="@firebase/app",qn="0.10.11",Kn=new kn("@firebase/app"),Gn="@firebase/app-compat",Qn="@firebase/analytics-compat",Yn="@firebase/analytics",Xn="@firebase/app-check-compat",Jn="@firebase/app-check",$n="@firebase/auth",Zn="@firebase/auth-compat",er="@firebase/database",tr="@firebase/database-compat",nr="@firebase/functions",rr="@firebase/functions-compat",ir="@firebase/installations",sr="@firebase/installations-compat",or="@firebase/messaging",ar="@firebase/messaging-compat",lr="@firebase/performance",cr="@firebase/performance-compat",ur="@firebase/remote-config",dr="@firebase/remote-config-compat",hr="@firebase/storage",fr="@firebase/storage-compat",pr="@firebase/firestore",mr="@firebase/vertexai-preview",gr="@firebase/firestore-compat",vr="firebase",yr="[DEFAULT]",wr={[Wn]:"fire-core",[Gn]:"fire-core-compat",[Yn]:"fire-analytics",[Qn]:"fire-analytics-compat",[Jn]:"fire-app-check",[Xn]:"fire-app-check-compat",[$n]:"fire-auth",[Zn]:"fire-auth-compat",[er]:"fire-rtdb",[tr]:"fire-rtdb-compat",[nr]:"fire-fn",[rr]:"fire-fn-compat",[ir]:"fire-iid",[sr]:"fire-iid-compat",[or]:"fire-fcm",[ar]:"fire-fcm-compat",[lr]:"fire-perf",[cr]:"fire-perf-compat",[ur]:"fire-rc",[dr]:"fire-rc-compat",[hr]:"fire-gcs",[fr]:"fire-gcs-compat",[pr]:"fire-fst",[gr]:"fire-fst-compat",[mr]:"fire-vertex","fire-js":"fire-js",[vr]:"fire-js-all"},br=new Map,_r=new Map,xr=new Map;function Sr(e,t){try{e.container.addComponent(t)}catch(Eb){Kn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),Eb)}}function Er(e){const t=e.name;if(xr.has(t))return Kn.debug("There were multiple attempts to register component ".concat(t,".")),!1;xr.set(t,e);for(const n of br.values())Sr(n,e);for(const n of _r.values())Sr(n,e);return!0}function kr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Cr(e){return void 0!==e.settings}const Tr=new sn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Ir{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new mn("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}const Nr="10.13.2";function jr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:yr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Tr.create("bad-app-name",{appName:String(i)});if(n||(n=Xt()),!n)throw Tr.create("no-options");const s=br.get(i);if(s){if(an(n,s.options)&&an(r,s.config))return s;throw Tr.create("duplicate-app",{appName:i})}const o=new yn(i);for(const l of xr.values())o.addComponent(l);const a=new Ir(n,r,o);return br.set(i,a),a}function Rr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr;const t=br.get(e);if(!t&&e===yr&&Xt())return jr();if(!t)throw Tr.create("no-app",{appName:e});return t}function Lr(e,t,n){var r;let i=null!==(r=wr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Kn.warn(e.join(" "))}Er(new mn("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const Ar="firebase-heartbeat-database",Dr=1,Pr="firebase-heartbeat-store";let Or=null;function Mr(){return Or||(Or=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=Mn(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(Mn(o.result),e.oldVersion,e.newVersion,Mn(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(Ar,Dr,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Pr)}catch(Eb){console.warn(Eb)}}}).catch((e=>{throw Tr.create("idb-open",{originalErrorMessage:e.message})}))),Or}async function Vr(e,t){try{const n=(await Mr()).transaction(Pr,"readwrite"),r=n.objectStore(Pr);await r.put(t,Ur(e)),await n.done}catch(Eb){if(Eb instanceof rn)Kn.warn(Eb.message);else{const t=Tr.create("idb-set",{originalErrorMessage:null===Eb||void 0===Eb?void 0:Eb.message});Kn.warn(t.message)}}}function Ur(e){return"".concat(e.name,"!").concat(e.options.appId)}class Fr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Br(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=zr();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(Eb){Kn.warn(Eb)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=zr(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Hr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Hr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Wt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(Eb){return Kn.warn(Eb),""}}}function zr(){return(new Date).toISOString().substring(0,10)}class Br{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!nn()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Mr()).transaction(Pr),n=await t.objectStore(Pr).get(Ur(e));return await t.done,n}catch(Eb){if(Eb instanceof rn)Kn.warn(Eb.message);else{const t=Tr.create("idb-get",{originalErrorMessage:null===Eb||void 0===Eb?void 0:Eb.message});Kn.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Vr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Vr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Hr(e){return Wt(JSON.stringify({version:2,heartbeats:e})).length}var Wr;Wr="",Er(new mn("platform-logger",(e=>new Hn(e)),"PRIVATE")),Er(new mn("heartbeat",(e=>new Fr(e)),"PRIVATE")),Lr(Wn,qn,Wr),Lr(Wn,qn,"esm2017"),Lr("fire-js","");var qr,Kr,Gr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Qr={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,o=0;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return h(o(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),s=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=o(n)).j(t);d(c)||0<c.l(e);)c=(s=o(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],o=0;o<i;o++)s[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var o=i+(65535&this.i(s))+(65535&e.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Kr=Qr.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=a,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=o(Math.pow(n,l)),i=i.j(l).add(o(c))):i=(i=i.j(r)).add(o(c))}return i},qr=Qr.Integer=r}).apply("undefined"!==typeof Gr?Gr:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Yr,Xr,Jr,$r,Zr,ei,ti,ni,ri,ii="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},si={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ii&&ii];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in i))break e;i=i[o]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function w(e){const t={};for(const n in e)t[n]=e[n];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<b.length;t++)n=b[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function x(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){i.setTimeout((()=>{throw e}),0)}function E(){var e=N;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var k=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new C),(e=>e.reset()));class C{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let T,I=!1,N=new class{constructor(){this.h=this.g=null}add(e,t){const n=k.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},j=()=>{const e=i.Promise.resolve(void 0);T=()=>{e.then(R)}};var R=()=>{for(var e;e=E();){try{e.h.call(e.g)}catch(Sv){S(Sv)}var t=k;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}I=!1};function L(){this.s=this.s,this.C=this.C}function A(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}L.prototype.s=!1,L.prototype.ma=function(){this.s||(this.s=!0,this.N())},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},A.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(Sv){}return e}();function P(e,t){if(A.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:O[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&P.aa.h.call(this)}}d(P,A);var O={2:"touch",3:"pen",4:"mouse"};P.prototype.h=function(){P.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),V=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++V,this.da=this.fa=!1}function F(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(F(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function H(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=H(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new U(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var W="closure_lm_"+(1e6*Math.random()|0),q={};function K(e,t,n,r,i){if(r&&r.once)return Q(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)K(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.K(t,n,o(r)?!!r.capture:!!r,i):G(e,t,n,!1,r,i)}function G(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=o(i)?!!i.capture:!!i,l=Z(e);if(l||(e[W]=l=new z(e)),(n=l.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=$;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(J(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.L(t,n,o(r)?!!r.capture:!!r,i):G(e,t,n,!0,r,i)}function Y(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Y(e,t[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=H(s=e.g[t],n,r,i))&&(F(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=H(t,n,r,i)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(J(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[W]=null)):F(e)}}}function J(e){return e in q?q[e]:q[e]="on"+e}function $(e,t){if(e.da)e=!0;else{t=new P(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function Z(e){return(e=e[W])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){L.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new A(t,e);else if(t instanceof A)t.target=t.target||e;else{var i=t;_(t=new A(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ie(o,r,!0,t)&&i}if(i=ie(o=t.g=e,r,!0,t)&&i,i=ie(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(o=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&B(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function oe(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,oe(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,L),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)F(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends L{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){L.call(this),this.h=e,this.g={}}d(le,L);var ce=[];function ue(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&X(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){A.call(this,"d")}function we(){A.call(this,"c")}d(ye,A),d(we,A);var be={},_e=null;function xe(){return _e=_e||new ne}function Se(e){A.call(this,be.La,e)}function Ee(e){const t=xe();re(t,new Se(t))}function ke(e,t){A.call(this,be.STAT_EVENT,e),this.stat=t}function Ce(e){const t=xe();re(t,new ke(t,e))}function Te(e,t){A.call(this,be.Ma,e),this.size=t}function Ie(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ne(){this.g=!0}function je(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return de(n)}catch(Cv){return t}}(e,n)+(r?" "+r:"")}))}be.La="serverreachability",d(Se,A),be.STAT_EVENT="statevent",d(ke,A),be.Ma="timingevent",d(Te,A),Ne.prototype.xa=function(){this.g=!1},Ne.prototype.info=function(){};var Re,Le={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ae={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Pe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oe}function Oe(){this.i=null,this.g="",this.h=!1}d(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Re=new De;var Me={},Ve={};function Ue(e,t,n){e.L=1,e.v=dt(ot(t)),e.m=n,e.P=!0,Fe(e,null)}function Fe(e,t){e.F=Date.now(),He(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Et(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Oe,e.g=hn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var o=K(n,i[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?w(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ee(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ve:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Ve:(t=t.slice(r,r+n),e.C=r+n,t))}function He(e){e.S=Date.now()+e.I,We(e,e.I)}function We(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ie(c(e.ba,e),t)}function qe(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||an(e.j,e)}function Ge(e){qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Yt(n)}nn(n),Ce(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ie(c(n.Za,n),6e3));if(1>=$e(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&on(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var a=o,l=r.L;l&&(a.I=l),a.B&&(qe(a),He(a)),r.g=o}else tn(r);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||cn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?cn(n,7):Qt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ee()}catch(u){}}Pe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Wt(e)?t.j():this.Y(e)},Pe.prototype.Y=function(e){try{if(e==this.g)e:{const h=Wt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||qt(this.g)))){this.J||4!=h||7==t||Ee(),qe(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=qt(this.g);e="";var s=r.length,o=4==Wt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),Ke(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ce(12),Ge(this),Ke(this);break e}je(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Be(this,a),e==Ve){4==h&&(this.s=4,Ce(14),n=!1),je(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Ce(15),je(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}je(this.i,this.l,e,null),Qe(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=a.length||this.h.h||(this.s=1,Ce(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),rn(d),d.M=!0,Ce(11))}}else je(this.i,this.l,a,"[Invalid Chunked Response]"),Ge(this),Ke(this)}else je(this.i,this.l,a,null),Qe(this,a);4==h&&Ge(this),this.o&&!this.J&&(4==h?an(this.j,this):(this.o=!1,He(this)))}else(function(e){const t={};e=(e.g&&2<=Wt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=x(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Ce(12)):(this.s=0,Ce(13)),Ge(this),Ke(this)}}}catch(Pv){}},Pe.prototype.cancel=function(){this.J=!0,Ge(this)},Pe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ee(),Ce(17)),Ge(this),this.s=2,Ke(this)):We(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Xe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Je(e){return!!e.h||!!e.g&&e.g.size>=e.j}function $e(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}Xe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new bt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,at(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new bt(null,this.h))}function ot(e){return new st(e)}function at(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof bt?(e.i=t,function(e,t){t&&!e.j&&(_t(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(xt(this,t),Et(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,yt)),e.i=new bt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?vt:gt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,wt)),e.join("")};var mt=/[#\/\?@]/g,gt=/[#\?:]/g,vt=/[#\?]/g,yt=/[#\?@]/g,wt=/#/g;function bt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function _t(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function xt(e,t){_t(e),t=kt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function St(e,t){return _t(e),t=kt(e,t),e.g.has(t)}function Et(e,t,n){xt(e,t),0<n.length&&(e.i=null,e.g.set(kt(e,t),h(n)),e.h+=n.length)}function kt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ct(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Tt(){this.g=new fe}function It(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;o(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Eb){throw t.push(r+"type="+encodeURIComponent("_badmap")),Eb}}function Nt(e){this.l=e.Ub||null,this.j=e.eb||!1}function jt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Rt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Lt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,At(e)}function At(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Dt(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Pt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Dt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Ot(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=bt.prototype).add=function(e,t){_t(this),this.i=null,e=kt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){_t(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){_t(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){_t(this);let t=[];if("string"===typeof e)St(this,e)&&(t=t.concat(this.g.get(kt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return _t(this),this.i=null,St(this,e=kt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},d(Nt,pe),Nt.prototype.g=function(){return new jt(this.l,this.j)},Nt.prototype.i=function(e){return function(){return e}}({}),d(jt,ne),(e=jt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,At(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Lt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,At(this)),this.g&&(this.readyState=3,At(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Lt(this):At(this),3==this.readyState&&Rt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Lt(this))},e.Qa=function(e){this.g&&(this.response=e,Lt(this))},e.ga=function(){this.g&&Lt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(jt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Ot,ne);var Mt=/^https?$/i,Vt=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Ft(e),Bt(e)}function Ft(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function zt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Wt(e)||2!=e.Z()))if(e.u&&4==Wt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Wt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var o=String(e.D).match(it)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),s=!Mt.test(o?o.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<Wt(e)?e.g.statusText:""}catch(Cv){a=""}e.l=a+" ["+e.Z()+"]",Ft(e)}}finally{Bt(e)}}}function Bt(e,t){if(e.g){Ht(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(Eb){}}}function Ht(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Wt(e){return e.g?e.g.readyState:0}function qt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(li){return null}}function Kt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gt(e){this.Aa=0,this.i=[],this.j=new Ne,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kt("baseRetryDelayMs",5e3,e),this.cb=Kt("retryDelaySeedMs",1e4,e),this.Wa=Kt("forwardChannelMaxRetries",2,e),this.wa=Kt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Xe(e&&e.concurrentRequestLimit),this.Da=new Tt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Qt(e){if(Xt(e),3==e.G){var t=e.U++,n=ot(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),Zt(e,n),(t=new Pe(e,e.j,t)).L=2,t.v=dt(ot(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(Ev){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=hn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),He(t)}un(e)}function Yt(e){e.g&&(rn(e),e.g.cancel(),e.g=null)}function Xt(e){Yt(e),e.u&&(i.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Jt(e){if(!Je(e.h)&&!e.s){e.s=!0;var t=e.Ga;T||j(),I||(T(),I=!0),N.add(t,e),e.B=0}}function $t(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),Zt(e,r),e.m&&e.o&&Pt(r,e.m,e.o),n=new Pe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=en(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function Zt(e,t){e.H&&y(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function en(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{It(a,e,"req"+n+"_")}catch(Pv){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;T||j(),I||(T(),I=!0),N.add(t,e),e.v=0}}function nn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ie(c(e.Fa,e),ln(e,e.v)),e.v++,!0)}function rn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function sn(e){e.g=new Pe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),Zt(e,t),e.m&&e.o&&Pt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(ot(t)),n.m=null,n.P=!0,Fe(n,e)}function on(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function an(e,t){var n=null;if(e.g==t){on(e),rn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=xe(),new Te(r,n)),Jt(e)}else tn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!($e(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ie(c(e.Ga,e,t),ln(e,e.B)),e.B++,!0))}(e,t)||2==r&&nn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function ln(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||at(r,"https"),dt(r),t?function(e,t){const n=new Ne;if(i.Image){const r=new Image;r.onload=u(Ct,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Ct,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Ct,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Ct,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ne;const n=new AbortController,r=setTimeout((()=>{n.abort(),Ct(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Ct(0,0,!0,t):Ct(0,0,!1,t)})).catch((()=>{clearTimeout(r),Ct(0,0,!1,t)}))}(r.toString(),n)}else Ce(2);e.G=0,e.l&&e.l.sa(t),un(e),Xt(e)}function un(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof st?ot(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var o=new st(null);r&&at(o,r),t&&(o.g=t),s&&lt(o,s),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),Zt(e,r),r}function hn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Ot(new Nt({eb:n})):new Ot(e.pa)).Ha(e.J),t}function fn(){}function pn(){}function mn(e,t){ne.call(this),this.g=new Gt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new yn(this)}function gn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){we.call(this),this.status=1}function yn(e){this.g=e}(e=Ot.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Re.g(),this.v=this.o?me(this.o):me(Re),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Ut(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Vt,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ht(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){Ut(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Bt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bt(this,!0)),Ot.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?zt(this):this.bb())},e.bb=function(){zt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch(e){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Gt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ce(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Pe(this,this.j,e);let s=this.o;if(this.S&&(s?(s=w(s),_(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=en(this,i,t),ut(n=ot(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),Zt(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Dt(s)))+"&"+t:this.m&&Pt(n,this.m,s)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?$t(this,e):0==this.i.length||Je(this.h)||$t(this))},e.Fa=function(){if(this.u=null,sn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ie(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ce(10),Yt(this),sn(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),nn(this),Ce(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},pn.prototype.g=function(e,t){return new mn(e,t)},d(mn,ne),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Qt(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&Jt(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,mn.aa.N.call(this)},d(gn,ye),d(vn,we),d(yn,fn),yn.prototype.ua=function(){re(this.g,"a")},yn.prototype.ta=function(e){re(this.g,new gn(e))},yn.prototype.sa=function(e){re(this.g,new vn)},yn.prototype.ra=function(){re(this.g,"b")},pn.prototype.createWebChannel=pn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,ri=si.createWebChannelTransport=function(){return new pn},ni=si.getStatEventTarget=function(){return xe()},ti=si.Event=be,ei=si.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Le.NO_ERROR=0,Le.TIMEOUT=8,Le.HTTP_ERROR=6,Zr=si.ErrorCode=Le,Ae.COMPLETE="complete",$r=si.EventType=Ae,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Jr=si.WebChannel=ge,Xr=si.FetchXmlHttpFactory=Nt,Ot.prototype.listenOnce=Ot.prototype.L,Ot.prototype.getLastError=Ot.prototype.Ka,Ot.prototype.getLastErrorCode=Ot.prototype.Ba,Ot.prototype.getStatus=Ot.prototype.Z,Ot.prototype.getResponseJson=Ot.prototype.Oa,Ot.prototype.getResponseText=Ot.prototype.oa,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Ha,Yr=si.XhrIo=Ot}).apply("undefined"!==typeof ii?ii:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const oi="@firebase/firestore";class ai{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ai.UNAUTHENTICATED=new ai(null),ai.GOOGLE_CREDENTIALS=new ai("google-credentials-uid"),ai.FIRST_PARTY=new ai("first-party-uid"),ai.MOCK_USER=new ai("mock-user");let li="10.13.2";const ci=new kn("@firebase/firestore");function ui(){return ci.logLevel}function di(e){if(ci.logLevel<=bn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(pi);ci.debug("Firestore (".concat(li,"): ").concat(e),...i)}}function hi(e){if(ci.logLevel<=bn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(pi);ci.error("Firestore (".concat(li,"): ").concat(e),...i)}}function fi(e){if(ci.logLevel<=bn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(pi);ci.warn("Firestore (".concat(li,"): ").concat(e),...i)}}function pi(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function mi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(li,") INTERNAL ASSERTION FAILED: ")+e;throw hi(t),new Error(t)}function gi(e,t){e||mi()}function vi(e,t){return e}const yi={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class wi extends rn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class bi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class _i{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class xi{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ai.UNAUTHENTICATED)))}shutdown(){}}class Si{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Ei{constructor(e){this.t=e,this.currentUser=ai.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new bi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new bi,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{di("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(di("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new bi)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(di("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(gi("string"==typeof t.accessToken),new _i(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return gi(null===e||"string"==typeof e),new ai(e)}}class ki{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=ai.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ci{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new ki(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(ai.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ti{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ii{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&di("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,di("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{di("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):di("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(gi("string"==typeof e.token),this.R=e.token,new Ti(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ni(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class ji{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Ni(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Ri(e,t){return e<t?-1:e>t?1:0}function Li(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Ai{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new wi(yi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new wi(yi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new wi(yi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new wi(yi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ai.fromMillis(Date.now())}static fromDate(e){return Ai.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Ai(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ri(this.nanoseconds,e.nanoseconds):Ri(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Di{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Di(e)}static min(){return new Di(new Ai(0,0))}static max(){return new Di(new Ai(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Pi{constructor(e,t,n){void 0===t?t=0:t>e.length&&mi(),void 0===n?n=e.length-t:n>e.length-t&&mi(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Pi.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Pi?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Oi extends Pi{construct(e,t,n){return new Oi(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new wi(yi.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Oi(e)}static emptyPath(){return new Oi([])}}const Mi=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vi extends Pi{construct(e,t,n){return new Vi(e,t,n)}static isValidIdentifier(e){return Mi.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vi.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Vi(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new wi(yi.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new wi(yi.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new wi(yi.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new wi(yi.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vi(t)}static emptyPath(){return new Vi([])}}class Ui{constructor(e){this.path=e}static fromPath(e){return new Ui(Oi.fromString(e))}static fromName(e){return new Ui(Oi.fromString(e).popFirst(5))}static empty(){return new Ui(Oi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Oi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Oi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ui(new Oi(e.slice()))}}class Fi{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Fi.UNKNOWN_ID=-1;function zi(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Di.fromTimestamp(1e9===r?new Ai(n+1,0):new Ai(n,r));return new Hi(i,Ui.empty(),t)}function Bi(e){return new Hi(e.readTime,e.key,-1)}class Hi{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Hi(Di.min(),Ui.empty(),-1)}static max(){return new Hi(Di.max(),Ui.empty(),-1)}}function Wi(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Ui.comparator(e.documentKey,t.documentKey),0!==n?n:Ri(e.largestBatchId,t.largestBatchId))}const qi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ki{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Gi(e){if(e.code!==yi.FAILED_PRECONDITION||e.message!==qi)throw e;di("LocalStore","Unexpectedly lost primary lease")}class Qi{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&mi(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Qi(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Qi?t:Qi.resolve(t)}catch(e){return Qi.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Qi.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Qi.reject(t)}static resolve(e){return new Qi(((t,n)=>{t(e)}))}static reject(e){return new Qi(((t,n)=>{n(e)}))}static waitFor(e){return new Qi(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Qi.resolve(!1);for(const n of e)t=t.next((e=>e?Qi.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Qi(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new Qi(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Yi(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xi(e){return"IndexedDbTransactionError"===e.name}class Ji{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function $i(e){return null==e}function Zi(e){return 0===e&&1/e==-1/0}function es(e){return"number"==typeof e&&Number.isInteger(e)&&!Zi(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Ji.oe=-1;const ts=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ns=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],rs=ns,is=[...rs,"indexConfiguration","indexState","indexEntries"];function ss(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function os(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function as(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ls{constructor(e,t){this.comparator=e,this.root=t||us.EMPTY}insert(e,t){return new ls(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,us.BLACK,null,null))}remove(e){return new ls(this.comparator,this.root.remove(e,this.comparator).copy(null,null,us.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cs(this.root,e,this.comparator,!1)}getReverseIterator(){return new cs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cs(this.root,e,this.comparator,!0)}}class cs{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class us{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:us.RED,this.left=null!=r?r:us.EMPTY,this.right=null!=i?i:us.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new us(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return us.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return us.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,us.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,us.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mi();if(this.right.isRed())throw mi();const e=this.left.check();if(e!==this.right.check())throw mi();return e+(this.isRed()?0:1)}}us.EMPTY=null,us.RED=!0,us.BLACK=!1,us.EMPTY=new class{constructor(){this.size=0}get key(){throw mi()}get value(){throw mi()}get color(){throw mi()}get left(){throw mi()}get right(){throw mi()}copy(e,t,n,r,i){return this}insert(e,t,n){return new us(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ds{constructor(e){this.comparator=e,this.data=new ls(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new hs(this.data.getIterator())}getIteratorFrom(e){return new hs(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof ds))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ds(this.comparator);return t.data=e,t}}class hs{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class fs{constructor(e){this.fields=e,e.sort(Vi.comparator)}static empty(){return new fs([])}unionWith(e){let t=new ds(Vi.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new fs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Li(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class ps extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ms{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ps("Invalid base64 string: "+e):e}}(e);return new ms(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ms(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ri(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ms.EMPTY_BYTE_STRING=new ms("");const gs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vs(e){if(gi(!!e),"string"==typeof e){let t=0;const n=gs.exec(e);if(gi(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ys(e.seconds),nanos:ys(e.nanos)}}function ys(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ws(e){return"string"==typeof e?ms.fromBase64String(e):ms.fromUint8Array(e)}function bs(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function _s(e){const t=e.mapValue.fields.__previous_value__;return bs(t)?_s(t):t}function xs(e){const t=vs(e.mapValue.fields.__local_write_time__.timestampValue);return new Ai(t.seconds,t.nanos)}class Ss{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class Es{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Es("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Es&&e.projectId===this.projectId&&e.database===this.database}}const ks={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Cs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?bs(e)?4:Bs(e)?9007199254740991:Fs(e)?10:11:mi()}function Ts(e,t){if(e===t)return!0;const n=Cs(e);if(n!==Cs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return xs(e).isEqual(xs(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=vs(e.timestampValue),r=vs(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ws(e.bytesValue).isEqual(ws(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ys(e.geoPointValue.latitude)===ys(t.geoPointValue.latitude)&&ys(e.geoPointValue.longitude)===ys(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ys(e.integerValue)===ys(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ys(e.doubleValue),r=ys(t.doubleValue);return n===r?Zi(n)===Zi(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Li(e.arrayValue.values||[],t.arrayValue.values||[],Ts);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ss(n)!==ss(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ts(n[i],r[i])))return!1;return!0}(e,t);default:return mi()}}function Is(e,t){return void 0!==(e.values||[]).find((e=>Ts(e,t)))}function Ns(e,t){if(e===t)return 0;const n=Cs(e),r=Cs(t);if(n!==r)return Ri(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ri(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ys(e.integerValue||e.doubleValue),r=ys(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return js(e.timestampValue,t.timestampValue);case 4:return js(xs(e),xs(t));case 5:return Ri(e.stringValue,t.stringValue);case 6:return function(e,t){const n=ws(e),r=ws(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Ri(n[i],r[i]);if(0!==e)return e}return Ri(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Ri(ys(e.latitude),ys(t.latitude));return 0!==n?n:Ri(ys(e.longitude),ys(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Rs(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const o=e.fields||{},a=t.fields||{},l=null===(n=o.value)||void 0===n?void 0:n.arrayValue,c=null===(r=a.value)||void 0===r?void 0:r.arrayValue,u=Ri((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:Rs(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===ks.mapValue&&t===ks.mapValue)return 0;if(e===ks.mapValue)return 1;if(t===ks.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Ri(r[o],s[o]);if(0!==e)return e;const t=Ns(n[r[o]],i[s[o]]);if(0!==t)return t}return Ri(r.length,s.length)}(e.mapValue,t.mapValue);default:throw mi()}}function js(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ri(e,t);const n=vs(e),r=vs(t),i=Ri(n.seconds,r.seconds);return 0!==i?i:Ri(n.nanos,r.nanos)}function Rs(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Ns(n[i],r[i]);if(e)return e}return Ri(n.length,r.length)}function Ls(e){return As(e)}function As(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=vs(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return ws(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Ui.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=As(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(As(e.fields[i]));return n+"}"}(e.mapValue):mi()}function Ds(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ps(e){return!!e&&"integerValue"in e}function Os(e){return!!e&&"arrayValue"in e}function Ms(e){return!!e&&"nullValue"in e}function Vs(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Us(e){return!!e&&"mapValue"in e}function Fs(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function zs(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return os(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=zs(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=zs(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Bs(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Hs{constructor(e){this.value=e}static empty(){return new Hs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Us(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zs(t)}setAll(e){let t=Vi.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=zs(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Us(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ts(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Us(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){os(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Hs(zs(this.value))}}function Ws(e){const t=[];return os(e.fields,((e,n)=>{const r=new Vi([e]);if(Us(n)){const e=Ws(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new fs(t)}class qs{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new qs(e,0,Di.min(),Di.min(),Di.min(),Hs.empty(),0)}static newFoundDocument(e,t,n,r){return new qs(e,1,t,Di.min(),n,r,0)}static newNoDocument(e,t){return new qs(e,2,t,Di.min(),Di.min(),Hs.empty(),0)}static newUnknownDocument(e,t){return new qs(e,3,t,Di.min(),Di.min(),Hs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Di.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Di.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof qs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Ks{constructor(e,t){this.position=e,this.inclusive=t}}function Gs(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Ui.comparator(Ui.fromName(o.referenceValue),n.key):Ns(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Qs(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ts(e.position[n],t.position[n]))return!1;return!0}class Ys{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Xs(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Js{}class $s extends Js{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new oo(e,t,n):"array-contains"===t?new uo(e,n):"in"===t?new ho(e,n):"not-in"===t?new fo(e,n):"array-contains-any"===t?new po(e,n):new $s(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new ao(e,n):new lo(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ns(t,this.value)):null!==t&&Cs(this.value)===Cs(t)&&this.matchesComparison(Ns(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return mi()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zs extends Js{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Zs(e,t)}matches(e){return eo(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function eo(e){return"and"===e.op}function to(e){return no(e)&&eo(e)}function no(e){for(const t of e.filters)if(t instanceof Zs)return!1;return!0}function ro(e){if(e instanceof $s)return e.field.canonicalString()+e.op.toString()+Ls(e.value);if(to(e))return e.filters.map((e=>ro(e))).join(",");{const t=e.filters.map((e=>ro(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function io(e,t){return e instanceof $s?function(e,t){return t instanceof $s&&e.op===t.op&&e.field.isEqual(t.field)&&Ts(e.value,t.value)}(e,t):e instanceof Zs?function(e,t){return t instanceof Zs&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&io(n,t.filters[r])),!0)}(e,t):void mi()}function so(e){return e instanceof $s?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Ls(e.value))}(e):e instanceof Zs?function(e){return e.op.toString()+" {"+e.getFilters().map(so).join(" ,")+"}"}(e):"Filter"}class oo extends $s{constructor(e,t,n){super(e,t,n),this.key=Ui.fromName(n.referenceValue)}matches(e){const t=Ui.comparator(e.key,this.key);return this.matchesComparison(t)}}class ao extends $s{constructor(e,t){super(e,"in",t),this.keys=co("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class lo extends $s{constructor(e,t){super(e,"not-in",t),this.keys=co("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function co(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Ui.fromName(e.referenceValue)))}class uo extends $s{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Os(t)&&Is(t.arrayValue,this.value)}}class ho extends $s{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Is(this.value.arrayValue,t)}}class fo extends $s{constructor(e,t){super(e,"not-in",t)}matches(e){if(Is(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Is(this.value.arrayValue,t)}}class po extends $s{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Os(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Is(this.value.arrayValue,e)))}}class mo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ue=null}}function go(e){return new mo(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function vo(e){const t=vi(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>ro(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),$i(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Ls(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Ls(e))).join(",")),t.ue=e}return t.ue}function yo(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Xs(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!io(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Qs(e.startAt,t.startAt)&&Qs(e.endAt,t.endAt)}function wo(e){return Ui.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class bo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function _o(e,t,n,r,i,s,o,a){return new bo(e,t,n,r,i,s,o,a)}function xo(e){return new bo(e)}function So(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Eo(e){return null!==e.collectionGroup}function ko(e){const t=vi(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new ds(Vi.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new Ys(r,n))})),e.has(Vi.keyField().canonicalString())||t.ce.push(new Ys(Vi.keyField(),n))}return t.ce}function Co(e){const t=vi(e);return t.le||(t.le=To(t,ko(e))),t.le}function To(e,t){if("F"===e.limitType)return go(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Ys(e.field,t)}));const n=e.endAt?new Ks(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ks(e.startAt.position,e.startAt.inclusive):null;return go(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Io(e,t){const n=e.filters.concat([t]);return new bo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function No(e,t,n){return new bo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function jo(e,t){return yo(Co(e),Co(t))&&e.limitType===t.limitType}function Ro(e){return"".concat(vo(Co(e)),"|lt:").concat(e.limitType)}function Lo(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>so(e))).join(", "),"]")),$i(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Ls(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Ls(e))).join(",")),"Target(".concat(t,")")}(Co(e)),"; limitType=").concat(e.limitType,")")}function Ao(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ui.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of ko(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Gs(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,ko(e),t))&&!(e.endAt&&!function(e,t,n){const r=Gs(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,ko(e),t))}(e,t)}function Do(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Po(e){return(t,n)=>{let r=!1;for(const i of ko(e)){const e=Oo(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Oo(e,t,n){const r=e.field.isKeyField()?Ui.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ns(r,i):mi()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return mi()}}class Mo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){os(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return as(this.inner)}size(){return this.innerSize}}const Vo=new ls(Ui.comparator);function Uo(){return Vo}const Fo=new ls(Ui.comparator);function zo(){let e=Fo;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Bo(e){let t=Fo;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Ho(){return qo()}function Wo(){return qo()}function qo(){return new Mo((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Ko=new ls(Ui.comparator),Go=new ds(Ui.comparator);function Qo(){let e=Go;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Yo=new ds(Ri);function Xo(){return Yo}function Jo(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zi(t)?"-0":t}}function $o(e){return{integerValue:""+e}}function Zo(e,t){return es(t)?$o(t):Jo(e,t)}class ea{constructor(){this._=void 0}}function ta(e,t,n){return e instanceof ia?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&bs(t)&&(t=_s(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof sa?oa(e,t):e instanceof aa?la(e,t):function(e,t){const n=ra(e,t),r=ua(n)+ua(e.Pe);return Ps(n)&&Ps(e.Pe)?$o(r):Jo(e.serializer,r)}(e,t)}function na(e,t,n){return e instanceof sa?oa(e,t):e instanceof aa?la(e,t):n}function ra(e,t){return e instanceof ca?function(e){return Ps(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class ia extends ea{}class sa extends ea{constructor(e){super(),this.elements=e}}function oa(e,t){const n=da(t);for(const r of e.elements)n.some((e=>Ts(e,r)))||n.push(r);return{arrayValue:{values:n}}}class aa extends ea{constructor(e){super(),this.elements=e}}function la(e,t){let n=da(t);for(const r of e.elements)n=n.filter((e=>!Ts(e,r)));return{arrayValue:{values:n}}}class ca extends ea{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function ua(e){return ys(e.integerValue||e.doubleValue)}function da(e){return Os(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ha{constructor(e,t){this.version=e,this.transformResults=t}}class fa{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fa}static exists(e){return new fa(void 0,e)}static updateTime(e){return new fa(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pa(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ma{}function ga(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ca(e.key,fa.none()):new _a(e.key,e.data,fa.none());{const n=e.data,r=Hs.empty();let i=new ds(Vi.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new xa(e.key,r,new fs(i.toArray()),fa.none())}}function va(e,t,n){e instanceof _a?function(e,t,n){const r=e.value.clone(),i=Ea(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof xa?function(e,t,n){if(!pa(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ea(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Sa(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ya(e,t,n,r){return e instanceof _a?function(e,t,n,r){if(!pa(e.precondition,t))return n;const i=e.value.clone(),s=ka(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof xa?function(e,t,n,r){if(!pa(e.precondition,t))return n;const i=ka(e.fieldTransforms,r,t),s=t.data;return s.setAll(Sa(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return pa(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function wa(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=ra(r.transform,e||null);null!=i&&(null===n&&(n=Hs.empty()),n.set(r.field,i))}return n||null}function ba(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Li(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof sa&&t instanceof sa||e instanceof aa&&t instanceof aa?Li(e.elements,t.elements,Ts):e instanceof ca&&t instanceof ca?Ts(e.Pe,t.Pe):e instanceof ia&&t instanceof ia}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class _a extends ma{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class xa extends ma{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Sa(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Ea(e,t,n){const r=new Map;gi(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,na(o,a,n[i]))}return r}function ka(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,ta(e,s,t))}return r}class Ca extends ma{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ta extends ma{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ia{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&va(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=ya(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=ya(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Wo();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=ga(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(Di.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Qo())}isEqual(e){return this.batchId===e.batchId&&Li(this.mutations,e.mutations,((e,t)=>ba(e,t)))&&Li(this.baseMutations,e.baseMutations,((e,t)=>ba(e,t)))}}class Na{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){gi(e.mutations.length===n.length);let r=Ko;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Na(e,t,n,r)}}class ja{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Ra{constructor(e,t){this.count=e,this.unchangedNames=t}}var La,Aa;function Da(e){switch(e){default:return mi();case yi.CANCELLED:case yi.UNKNOWN:case yi.DEADLINE_EXCEEDED:case yi.RESOURCE_EXHAUSTED:case yi.INTERNAL:case yi.UNAVAILABLE:case yi.UNAUTHENTICATED:return!1;case yi.INVALID_ARGUMENT:case yi.NOT_FOUND:case yi.ALREADY_EXISTS:case yi.PERMISSION_DENIED:case yi.FAILED_PRECONDITION:case yi.ABORTED:case yi.OUT_OF_RANGE:case yi.UNIMPLEMENTED:case yi.DATA_LOSS:return!0}}function Pa(e){if(void 0===e)return hi("GRPC error has no .code"),yi.UNKNOWN;switch(e){case La.OK:return yi.OK;case La.CANCELLED:return yi.CANCELLED;case La.UNKNOWN:return yi.UNKNOWN;case La.DEADLINE_EXCEEDED:return yi.DEADLINE_EXCEEDED;case La.RESOURCE_EXHAUSTED:return yi.RESOURCE_EXHAUSTED;case La.INTERNAL:return yi.INTERNAL;case La.UNAVAILABLE:return yi.UNAVAILABLE;case La.UNAUTHENTICATED:return yi.UNAUTHENTICATED;case La.INVALID_ARGUMENT:return yi.INVALID_ARGUMENT;case La.NOT_FOUND:return yi.NOT_FOUND;case La.ALREADY_EXISTS:return yi.ALREADY_EXISTS;case La.PERMISSION_DENIED:return yi.PERMISSION_DENIED;case La.FAILED_PRECONDITION:return yi.FAILED_PRECONDITION;case La.ABORTED:return yi.ABORTED;case La.OUT_OF_RANGE:return yi.OUT_OF_RANGE;case La.UNIMPLEMENTED:return yi.UNIMPLEMENTED;case La.DATA_LOSS:return yi.DATA_LOSS;default:return mi()}}(Aa=La||(La={}))[Aa.OK=0]="OK",Aa[Aa.CANCELLED=1]="CANCELLED",Aa[Aa.UNKNOWN=2]="UNKNOWN",Aa[Aa.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Aa[Aa.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Aa[Aa.NOT_FOUND=5]="NOT_FOUND",Aa[Aa.ALREADY_EXISTS=6]="ALREADY_EXISTS",Aa[Aa.PERMISSION_DENIED=7]="PERMISSION_DENIED",Aa[Aa.UNAUTHENTICATED=16]="UNAUTHENTICATED",Aa[Aa.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Aa[Aa.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Aa[Aa.ABORTED=10]="ABORTED",Aa[Aa.OUT_OF_RANGE=11]="OUT_OF_RANGE",Aa[Aa.UNIMPLEMENTED=12]="UNIMPLEMENTED",Aa[Aa.INTERNAL=13]="INTERNAL",Aa[Aa.UNAVAILABLE=14]="UNAVAILABLE",Aa[Aa.DATA_LOSS=15]="DATA_LOSS";let Oa=null;function Ma(){return new TextEncoder}const Va=new qr([4294967295,4294967295],0);function Ua(e){const t=Ma().encode(e),n=new Kr;return n.update(t),new Uint8Array(n.digest())}function Fa(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new qr([n,r],0),new qr([i,s],0)]}class za{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Ba("Invalid padding: ".concat(t));if(n<0)throw new Ba("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Ba("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Ba("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=qr.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(qr.fromNumber(n)));return 1===r.compare(Va)&&(r=new qr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=Ua(e),[n,r]=Fa(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new za(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ie)return;const t=Ua(e),[n,r]=Fa(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Ba extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ha{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Wa.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Ha(Di.min(),r,new ls(Ri),Uo(),Qo())}}class Wa{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Wa(n,t,Qo(),Qo(),Qo())}}class qa{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class Ka{constructor(e,t){this.targetId=e,this.me=t}}class Ga{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ms.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Qa{constructor(){this.fe=0,this.ge=Ja(),this.pe=ms.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Qo(),t=Qo(),n=Qo();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:mi()}})),new Wa(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=Ja()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,gi(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Ya{constructor(e){this.Le=e,this.Be=new Map,this.ke=Uo(),this.qe=Xa(),this.Qe=new ls(Ri)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:mi()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(wo(i))if(0===n){const e=new Ui(i.path);this.Ue(t,e,qs.newNoDocument(e,Di.min()))}else gi(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==Oa||Oa.et(function(e,t,n,r,i){var s,o,a,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=ws(n).toUint8Array()}catch(e){if(e instanceof ps)return fi("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new za(s,r,i)}catch(e){return fi(e instanceof Ba?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Ie?null:o}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&wo(i.target)){const t=new Ui(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,qs.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}}));let n=Qo();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new Ha(e,t,this.Qe,this.ke,n);return this.ke=Uo(),this.qe=Xa(),this.Qe=new ls(Ri),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Qa,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new ds(Ri),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||di("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Qa),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Xa(){return new ls(Ui.comparator)}function Ja(){return new ls(Ui.comparator)}const $a={asc:"ASCENDING",desc:"DESCENDING"},Za={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},el={and:"AND",or:"OR"};class tl{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function nl(e,t){return e.useProto3Json||$i(t)?t:{value:t}}function rl(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function il(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function sl(e,t){return rl(e,t.toTimestamp())}function ol(e){return gi(!!e),Di.fromTimestamp(function(e){const t=vs(e);return new Ai(t.seconds,t.nanos)}(e))}function al(e,t){return ll(e,t).canonicalString()}function ll(e,t){const n=function(e){return new Oi(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function cl(e){const t=Oi.fromString(e);return gi(Nl(t)),t}function ul(e,t){return al(e.databaseId,t.path)}function dl(e,t){const n=cl(t);if(n.get(1)!==e.databaseId.projectId)throw new wi(yi.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new wi(yi.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ui(ml(n))}function hl(e,t){return al(e.databaseId,t)}function fl(e){const t=cl(e);return 4===t.length?Oi.emptyPath():ml(t)}function pl(e){return new Oi(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ml(e){return gi(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function gl(e,t,n){return{name:ul(e,t),fields:n.value.mapValue.fields}}function vl(e,t){let n;if(t instanceof _a)n={update:gl(e,t.key,t.value)};else if(t instanceof Ca)n={delete:ul(e,t.key)};else if(t instanceof xa)n={update:gl(e,t.key,t.data),updateMask:Il(t.fieldMask)};else{if(!(t instanceof Ta))return mi();n={verify:ul(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof ia)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof sa)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof aa)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ca)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw mi()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:sl(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:mi()}(e,t.precondition)),n}function yl(e,t){return{documents:[hl(e,t.path)]}}function wl(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hl(e,i);const s=function(e){if(0!==e.length)return Tl(Zs.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:kl(e.field),direction:xl(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=nl(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function bl(e){let t=fl(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){gi(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=_l(e);return t instanceof Zs&&to(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new Ys(Cl(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,$i(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Ks(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Ks(n,t)}(n.endAt)),_o(t,i,o,s,a,"F",l,c)}function _l(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Cl(e.unaryFilter.field);return $s.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Cl(e.unaryFilter.field);return $s.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Cl(e.unaryFilter.field);return $s.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Cl(e.unaryFilter.field);return $s.create(i,"!=",{nullValue:"NULL_VALUE"});default:return mi()}}(e):void 0!==e.fieldFilter?function(e){return $s.create(Cl(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mi()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Zs.create(e.compositeFilter.filters.map((e=>_l(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return mi()}}(e.compositeFilter.op))}(e):mi()}function xl(e){return $a[e]}function Sl(e){return Za[e]}function El(e){return el[e]}function kl(e){return{fieldPath:e.canonicalString()}}function Cl(e){return Vi.fromServerFormat(e.fieldPath)}function Tl(e){return e instanceof $s?function(e){if("=="===e.op){if(Vs(e.value))return{unaryFilter:{field:kl(e.field),op:"IS_NAN"}};if(Ms(e.value))return{unaryFilter:{field:kl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Vs(e.value))return{unaryFilter:{field:kl(e.field),op:"IS_NOT_NAN"}};if(Ms(e.value))return{unaryFilter:{field:kl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kl(e.field),op:Sl(e.op),value:e.value}}}(e):e instanceof Zs?function(e){const t=e.getFilters().map((e=>Tl(e)));return 1===t.length?t[0]:{compositeFilter:{op:El(e.op),filters:t}}}(e):mi()}function Il(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Nl(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class jl{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Di.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Di.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ms.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new jl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new jl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new jl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new jl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Rl{constructor(e){this.ct=e}}function Ll(e){const t=bl({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?No(t,t.limit,"L"):t}class Al{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(ys(e.integerValue));else if("doubleValue"in e){const n=ys(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),Zi(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=vs(n)),t.Rt("".concat(n.seconds||"")),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(ws(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?Bs(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Fs(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):mi()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const i=e.fields||{};this.dt(t,53);const s="value",o=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(ys(o)),this.Vt(s,t),this.Tt(i[s],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),Ui.fromName(e).path.forEach((e=>{this.dt(t,60),this.Dt(e,t)}))}dt(e,t){e.At(t)}ft(e){e.At(2)}}Al.vt=new Al;class Dl{constructor(){this.un=new Pl}addToCollectionParentIndex(e,t){return this.un.add(t),Qi.resolve()}getCollectionParents(e,t){return Qi.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Qi.resolve()}deleteFieldIndex(e,t){return Qi.resolve()}deleteAllFieldIndexes(e){return Qi.resolve()}createTargetIndexes(e,t){return Qi.resolve()}getDocumentsMatchingTarget(e,t){return Qi.resolve(null)}getIndexType(e,t){return Qi.resolve(0)}getFieldIndexes(e,t){return Qi.resolve([])}getNextCollectionGroupToUpdate(e){return Qi.resolve(null)}getMinOffset(e,t){return Qi.resolve(Hi.min())}getMinOffsetFromCollectionGroup(e,t){return Qi.resolve(Hi.min())}updateCollectionGroup(e,t,n){return Qi.resolve()}updateIndexEntries(e,t){return Qi.resolve()}}class Pl{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ds(Oi.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ds(Oi.comparator)).toArray()}}new Uint8Array(0);class Ol{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Ol(e,Ol.DEFAULT_COLLECTION_PERCENTILE,Ol.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ol.DEFAULT_COLLECTION_PERCENTILE=10,Ol.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ol.DEFAULT=new Ol(41943040,Ol.DEFAULT_COLLECTION_PERCENTILE,Ol.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ol.DISABLED=new Ol(-1,0,0);class Ml{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ml(0)}static kn(){return new Ml(-1)}}class Vl{constructor(){this.changes=new Mo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Qi.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ul{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Fl{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&ya(n.mutation,e,fs.empty(),Ai.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Qo()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qo();const r=Ho();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=zo();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Ho();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Qo())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Uo();const s=qo(),o=qo();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof xa)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),ya(o.mutation,t,o.mutation.getFieldMask(),Ai.now())):s.set(t.key,fs.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new Ul(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=qo();let r=new ls(((e,t)=>e-t)),i=Qo();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||fs.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||Qo()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=Wo();l.forEach((e=>{if(!i.has(e)){const r=ga(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Qi.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Ui.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Eo(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Qi.resolve(Ho());let o=-1,a=i;return s.next((t=>Qi.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Qi.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Qo()))).next((e=>({batchId:o,changes:Bo(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ui(t)).next((e=>{let t=zo();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=zo();return this.indexManager.getCollectionParents(e,i).next((o=>Qi.forEach(o,(o=>{const a=function(e,t){return new bo(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,qs.newInvalidDocument(r)))}));let n=zo();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&ya(s.mutation,r,fs.empty(),Ai.now()),Ao(t,r)&&(n=n.insert(e,r))})),n}))}}class zl{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Qi.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:ol(e.createTime)}}(t)),Qi.resolve()}getNamedQuery(e,t){return Qi.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:Ll(e.bundledQuery),readTime:ol(e.readTime)}}(t)),Qi.resolve()}}class Bl{constructor(){this.overlays=new ls(Ui.comparator),this.Ir=new Map}getOverlay(e,t){return Qi.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Ho();return Qi.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),Qi.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Ir.delete(n)),Qi.resolve()}getOverlaysForCollection(e,t,n){const r=Ho(),i=t.length+1,s=new Ui(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Qi.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ls(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Ho(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Ho(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return Qi.resolve(o)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new ja(t,n));let i=this.Ir.get(t);void 0===i&&(i=Qo(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}class Hl{constructor(){this.sessionToken=ms.EMPTY_BYTE_STRING}getSessionToken(e){return Qi.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Qi.resolve()}}class Wl{constructor(){this.Tr=new ds(ql.Er),this.dr=new ds(ql.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new ql(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Vr(new ql(e,t))}mr(e,t){e.forEach((e=>this.removeReference(e,t)))}gr(e){const t=new Ui(new Oi([])),n=new ql(t,e),r=new ql(t,e+1),i=[];return this.dr.forEachInRange([n,r],(e=>{this.Vr(e),i.push(e.key)})),i}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Ui(new Oi([])),n=new ql(t,e),r=new ql(t,e+1);let i=Qo();return this.dr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new ql(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class ql{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Ui.comparator(e.key,t.key)||Ri(e.wr,t.wr)}static Ar(e,t){return Ri(e.wr,t.wr)||Ui.comparator(e.key,t.key)}}class Kl{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new ds(ql.Er)}checkEmpty(e){return Qi.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Ia(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.br=this.br.add(new ql(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Qi.resolve(s)}lookupMutationBatch(e,t){return Qi.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return Qi.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Qi.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return Qi.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ql(t,0),r=new ql(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],(e=>{const t=this.Dr(e.wr);i.push(t)})),Qi.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ds(Ri);return t.forEach((e=>{const t=new ql(e,0),r=new ql(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],(e=>{n=n.add(e.wr)}))})),Qi.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Ui.isDocumentKey(i)||(i=i.child(""));const s=new ql(new Ui(i),0);let o=new ds(Ri);return this.br.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.wr)),!0)}),s),Qi.resolve(this.Cr(o))}Cr(e){const t=[];return e.forEach((e=>{const n=this.Dr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){gi(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return Qi.forEach(t.mutations,(r=>{const i=new ql(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,t){const n=new ql(t,0),r=this.br.firstAfterOrEqual(n);return Qi.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Qi.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Gl{constructor(e){this.Mr=e,this.docs=new ls(Ui.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Qi.resolve(n?n.document.mutableCopy():qs.newInvalidDocument(t))}getEntries(e,t){let n=Uo();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():qs.newInvalidDocument(e))})),Qi.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Uo();const s=t.path,o=new Ui(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Wi(Bi(o),n)<=0||(r.has(o.key)||Ao(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Qi.resolve(i)}getAllFromCollectionGroup(e,t,n,r){mi()}Or(e,t){return Qi.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Ql(this)}getSize(e){return Qi.resolve(this.size)}}class Ql extends Vl{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)})),Qi.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class Yl{constructor(e){this.persistence=e,this.Nr=new Mo((e=>vo(e)),yo),this.lastRemoteSnapshotVersion=Di.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Wl,this.targetCount=0,this.kr=Ml.Bn()}forEachTarget(e,t){return this.Nr.forEach(((e,n)=>t(n))),Qi.resolve()}getLastRemoteSnapshotVersion(e){return Qi.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Qi.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Qi.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),Qi.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Ml(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Qi.resolve()}updateTargetData(e,t){return this.Kn(t),Qi.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,Qi.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Nr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),Qi.waitFor(i).next((()=>r))}getTargetCount(e){return Qi.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return Qi.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),Qi.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Qi.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Qi.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return Qi.resolve(n)}containsKey(e,t){return Qi.resolve(this.Br.containsKey(t))}}class Xl{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Ji(0),this.Kr=!1,this.Kr=!0,this.$r=new Hl,this.referenceDelegate=e(this),this.Ur=new Yl(this),this.indexManager=new Dl,this.remoteDocumentCache=function(e){return new Gl(e)}((e=>this.referenceDelegate.Wr(e))),this.serializer=new Rl(t),this.Gr=new zl(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Bl,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new Kl(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){di("MemoryPersistence","Starting transaction:",e);const r=new Jl(this.Qr.next());return this.referenceDelegate.zr(),n(r).next((e=>this.referenceDelegate.jr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Hr(e,t){return Qi.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,t))))}}class Jl extends Ki{constructor(e){super(),this.currentSequenceNumber=e}}class $l{constructor(e){this.persistence=e,this.Jr=new Wl,this.Yr=null}static Zr(e){return new $l(e)}get Xr(){if(this.Yr)return this.Yr;throw mi()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),Qi.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),Qi.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Qi.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((e=>this.Xr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Xr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Qi.forEach(this.Xr,(n=>{const r=Ui.fromPath(n);return this.ei(e,r).next((e=>{e||t.removeEntry(r,Di.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return Qi.or([()=>Qi.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Zl{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=Qo(),r=Qo();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Zl(e,t.fromCache,n,r)}}class ec{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class tc{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=tn()?8:Yi(en())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Zi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new ec;return this.Xi(e,t,n).next((r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)}))})).next((()=>i.result))}es(e,t,n,r){return n.documentReadCount<this.ji?(ui()<=bn.DEBUG&&di("QueryEngine","SDK will not create cache indexes for query:",Lo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Qi.resolve()):(ui()<=bn.DEBUG&&di("QueryEngine","Query:",Lo(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(ui()<=bn.DEBUG&&di("QueryEngine","The SDK decides to create cache indexes for query:",Lo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Co(t))):Qi.resolve())}Yi(e,t){if(So(t))return Qi.resolve(null);let n=Co(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=No(t,null,"F"),n=Co(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Qo(...r);return this.Ji.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.ts(t,r);return this.ns(t,s,i,n.readTime)?this.Yi(e,No(t,null,"F")):this.rs(e,s,t,n)}))))})))))}Zi(e,t,n,r){return So(t)||r.isEqual(Di.min())?Qi.resolve(null):this.Ji.getDocuments(e,n).next((i=>{const s=this.ts(t,i);return this.ns(t,s,n,r)?Qi.resolve(null):(ui()<=bn.DEBUG&&di("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Lo(t)),this.rs(e,s,t,zi(r,-1)).next((e=>e)))}))}ts(e,t){let n=new ds(Po(e));return t.forEach(((t,r)=>{Ao(e,r)&&(n=n.add(r))})),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return ui()<=bn.DEBUG&&di("QueryEngine","Using full collection scan to execute query:",Lo(t)),this.Ji.getDocumentsMatchingQuery(e,t,Hi.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class nc{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new ls(Ri),this._s=new Mo((e=>vo(e)),yo),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fl(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function rc(e,t,n,r){return new nc(e,t,n,r)}async function ic(e,t){const n=vi(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=Qo();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({hs:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function sc(e){const t=vi(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ur.getLastRemoteSnapshotVersion(e)))}function oc(e,t,n){let r=Qo(),i=Qo();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Uo();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Di.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):di("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{Ps:r,Is:i}}))}function ac(e,t){const n=vi(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function lc(e,t){const n=vi(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ur.getTargetData(e,t).next((i=>i?(r=i,Qi.resolve(r)):n.Ur.allocateTargetId(e).next((i=>(r=new jl(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e}))}async function cc(e,t,n){const r=vi(e),i=r.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Xi(e))throw e;di("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.os=r.os.remove(t),r._s.delete(i.target)}function uc(e,t,n){const r=vi(e);let i=Di.min(),s=Qo();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=vi(e),i=r._s.get(n);return void 0!==i?Qi.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,Co(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:Di.min(),n?s:Qo()))).next((e=>(dc(r,Do(t),e),{documents:e,Ts:s})))))}function dc(e,t,n){let r=e.us.get(t)||Di.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.us.set(t,r)}class hc{constructor(){this.activeTargetIds=Xo()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fc{constructor(){this.so=new hc,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new hc,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class pc{_o(e){}shutdown(){}}class mc{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){di("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){di("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let gc=null;function vc(){return null===gc?gc=268435456+Math.round(2147483648*Math.random()):gc++,"0x"+gc.toString(16)}const yc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wc{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const bc="WebChannelConnection";class _c extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo="projects/".concat(n,"/databases/").concat(r),this.Co="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get Fo(){return!1}Mo(e,t,n,r,i){const s=vc(),o=this.xo(e,t.toUriEncodedString());di("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(a,r,i),this.No(e,o,a,n).then((t=>(di("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw fi("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}Lo(e,t,n,r,i,s){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+li,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}xo(e,t){const n=yc[e];return"".concat(this.Do,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=vc();return new Promise(((s,o)=>{const a=new Yr;a.setWithCredentials(!0),a.listenOnce($r.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Zr.NO_ERROR:const t=a.getResponseJson();di(bc,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Zr.TIMEOUT:di(bc,"RPC '".concat(e,"' ").concat(i," timed out")),o(new wi(yi.DEADLINE_EXCEEDED,"Request time out"));break;case Zr.HTTP_ERROR:const n=a.getStatus();if(di(bc,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(yi).indexOf(t)>=0?t:yi.UNKNOWN}(t.status);o(new wi(e,t.message))}else o(new wi(yi.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new wi(yi.UNAVAILABLE,"Connection failed."));break;default:mi()}}finally{di(bc,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);di(bc,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}Bo(e,t,n){const r=vc(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ri(),o=ni(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new Xr({})),this.Oo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");di(bc,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=s.createWebChannel(c,a);let d=!1,h=!1;const f=new wc({Io:t=>{h?di(bc,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(di(bc,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),di(bc,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},To:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Jr.EventType.OPEN,(()=>{h||(di(bc,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.yo())})),p(u,Jr.EventType.CLOSE,(()=>{h||(h=!0,di(bc,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.So())})),p(u,Jr.EventType.ERROR,(t=>{h||(h=!0,fi(bc,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.So(new wi(yi.UNAVAILABLE,"The operation could not be completed")))})),p(u,Jr.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];gi(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){di(bc,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=La[e];if(void 0!==t)return Pa(t)}(t),i=o.message;void 0===n&&(n=yi.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),h=!0,f.So(new wi(n,i)),u.close()}else di(bc,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.bo(i)}})),p(o,ti.STAT_EVENT,(t=>{t.stat===ei.PROXY?di(bc,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===ei.NOPROXY&&di(bc,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.wo()}),0),f}}function xc(){return"undefined"!=typeof document?document:null}function Sc(e){return new tl(e,!0)}class Ec{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&di("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class kc{constructor(e,t,n,r,i,s,o,a){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ec(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===yi.RESOURCE_EXHAUSTED?(hi(t.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===yi.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)}),(t=>{e((()=>{const e=new wi(yi.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)}))}))}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((e=>{n((()=>this.I_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.e_?this.E_(e):this.onNext(e)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return di("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(di("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Cc extends kc{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:mi()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(gi(void 0===t||"string"==typeof t),ms.fromBase64String(t||"")):(gi(void 0===t||t instanceof Buffer||t instanceof Uint8Array),ms.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?yi.UNKNOWN:Pa(e.code);return new wi(t,e.message||"")}(o);n=new Ga(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=dl(e,r.document.name),s=ol(r.document.updateTime),o=r.document.createTime?ol(r.document.createTime):Di.min(),a=new Hs({mapValue:{fields:r.document.fields}}),l=qs.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new qa(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=dl(e,r.document),s=r.readTime?ol(r.readTime):Di.min(),o=qs.newNoDocument(i,s),a=r.removedTargetIds||[];n=new qa([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=dl(e,r.document),s=r.removedTargetIds||[];n=new qa([],s,i,null)}else{if(!("filter"in t))return mi();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Ra(r,i),o=e.targetId;n=new Ka(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Di.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Di.min():t.readTime?ol(t.readTime):Di.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=pl(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=wo(r)?{documents:yl(e,r)}:{query:wl(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=il(e,t.resumeToken);const r=nl(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Di.min())>0){n.readTime=rl(e,t.snapshotVersion.toTimestamp());const r=nl(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mi()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=pl(this.serializer),t.removeTarget=e,this.a_(t)}}class Tc extends kc{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return gi(!!e.streamToken),this.lastStreamToken=e.streamToken,gi(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){gi(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(gi(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?ol(e.updateTime):ol(t);return n.isEqual(Di.min())&&(n=ol(t)),new ha(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=ol(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=pl(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>vl(this.serializer,e)))};this.a_(t)}}class Ic extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new wi(yi.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.Mo(e,ll(t,n),r,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===yi.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new wi(yi.UNKNOWN,e.toString())}))}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.Lo(e,ll(t,n),r,o,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===yi.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new wi(yi.UNKNOWN,e.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class Nc{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.D_?(hi(t),this.D_=!1):di("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class jc{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o((e=>{n.enqueueAndForget((async()=>{Uc(this)&&(di("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=vi(e);t.L_.add(4),await Lc(t),t.q_.set("Unknown"),t.L_.delete(4),await Rc(t)}(this))}))})),this.q_=new Nc(n,r)}}async function Rc(e){if(Uc(e))for(const t of e.B_)await t(!0)}async function Lc(e){for(const t of e.B_)await t(!1)}function Ac(e,t){const n=vi(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),Vc(n)?Mc(n):iu(n).r_()&&Pc(n,t))}function Dc(e,t){const n=vi(e),r=iu(n);n.N_.delete(t),r.r_()&&Oc(n,t),0===n.N_.size&&(r.r_()?r.o_():Uc(n)&&n.q_.set("Unknown"))}function Pc(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Di.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}iu(e).A_(t)}function Oc(e,t){e.Q_.xe(t),iu(e).R_(t)}function Mc(e){e.Q_=new Ya({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),iu(e).start(),e.q_.v_()}function Vc(e){return Uc(e)&&!iu(e).n_()&&e.N_.size>0}function Uc(e){return 0===vi(e).L_.size}function Fc(e){e.Q_=void 0}async function zc(e){e.q_.set("Online")}async function Bc(e){e.N_.forEach(((t,n)=>{Pc(e,t)}))}async function Hc(e,t){Fc(e),Vc(e)?(e.q_.M_(t),Mc(e)):e.q_.set("Unknown")}async function Wc(e,t,n){if(e.q_.set("Online"),t instanceof Ga&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){di("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await qc(e,n)}else if(t instanceof qa?e.Q_.Ke(t):t instanceof Ka?e.Q_.He(t):e.Q_.We(t),!n.isEqual(Di.min()))try{const t=await sc(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(ms.EMPTY_BYTE_STRING,r.snapshotVersion)),Oc(e,t);const i=new jl(r.target,t,n,r.sequenceNumber);Pc(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){di("RemoteStore","Failed to raise snapshot:",t),await qc(e,t)}}async function qc(e,t,n){if(!Xi(t))throw t;e.L_.add(1),await Lc(e),e.q_.set("Offline"),n||(n=()=>sc(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{di("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await Rc(e)}))}function Kc(e,t){return t().catch((n=>qc(e,n,t)))}async function Gc(e){const t=vi(e),n=su(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;Qc(t);)try{const e=await ac(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,Yc(t,e)}catch(e){await qc(t,e)}Xc(t)&&Jc(t)}function Qc(e){return Uc(e)&&e.O_.length<10}function Yc(e,t){e.O_.push(t);const n=su(e);n.r_()&&n.V_&&n.m_(t.mutations)}function Xc(e){return Uc(e)&&!su(e).n_()&&e.O_.length>0}function Jc(e){su(e).start()}async function $c(e){su(e).p_()}async function Zc(e){const t=su(e);for(const n of e.O_)t.m_(n.mutations)}async function eu(e,t,n){const r=e.O_.shift(),i=Na.from(r,t,n);await Kc(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Gc(e)}async function tu(e,t){t&&su(e).V_&&await async function(e,t){if(function(e){return Da(e)&&e!==yi.ABORTED}(t.code)){const n=e.O_.shift();su(e).s_(),await Kc(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Gc(e)}}(e,t),Xc(e)&&Jc(e)}async function nu(e,t){const n=vi(e);n.asyncQueue.verifyOperationInProgress(),di("RemoteStore","RemoteStore received new credentials");const r=Uc(n);n.L_.add(3),await Lc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await Rc(n)}async function ru(e,t){const n=vi(e);t?(n.L_.delete(2),await Rc(n)):t||(n.L_.add(2),await Lc(n),n.q_.set("Unknown"))}function iu(e){return e.K_||(e.K_=function(e,t,n){const r=vi(e);return r.w_(),new Cc(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:zc.bind(null,e),Ro:Bc.bind(null,e),mo:Hc.bind(null,e),d_:Wc.bind(null,e)}),e.B_.push((async t=>{t?(e.K_.s_(),Vc(e)?Mc(e):e.q_.set("Unknown")):(await e.K_.stop(),Fc(e))}))),e.K_}function su(e){return e.U_||(e.U_=function(e,t,n){const r=vi(e);return r.w_(),new Tc(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:$c.bind(null,e),mo:tu.bind(null,e),f_:Zc.bind(null,e),g_:eu.bind(null,e)}),e.B_.push((async t=>{t?(e.U_.s_(),await Gc(e)):(await e.U_.stop(),e.O_.length>0&&(di("RemoteStore","Stopping write stream with ".concat(e.O_.length," pending writes")),e.O_=[]))}))),e.U_}class ou{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new ou(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new wi(yi.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function au(e,t){if(hi("AsyncQueue","".concat(t,": ").concat(e)),Xi(e))return new wi(yi.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class lu{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ui.comparator(t.key,n.key):(e,t)=>Ui.comparator(e.key,t.key),this.keyedMap=zo(),this.sortedSet=new ls(this.comparator)}static emptySet(e){return new lu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof lu))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new lu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class cu{constructor(){this.W_=new ls(Ui.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):mi():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class uu{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new uu(e,t,lu.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class du{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class hu{constructor(){this.queries=fu(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=vi(e),r=n.queries;n.queries=fu(),r.forEach(((e,n)=>{for(const r of n.j_)r.onError(t)}))}(this,new wi(yi.ABORTED,"Firestore shutting down"))}}function fu(){return new Mo((e=>Ro(e)),jo)}async function pu(e,t){const n=vi(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.H_()&&t.J_()&&(r=2):(s=new du,r=t.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=au(e,"Initialization of query '".concat(Lo(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&yu(n)}async function mu(e,t){const n=vi(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.j_.indexOf(t);e>=0&&(s.j_.splice(e,1),0===s.j_.length?i=t.J_()?0:1:!s.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function gu(e,t){const n=vi(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(i)&&(r=!0);t.z_=i}}r&&yu(n)}function vu(e,t,n){const r=vi(e),i=r.queries.get(t);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(t)}function yu(e){e.Y_.forEach((e=>{e.next()}))}var wu,bu;(bu=wu||(wu={})).ea="default",bu.Cache="cache";class _u{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new uu(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=uu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==wu.Cache}}class xu{constructor(e){this.key=e}}class Su{constructor(e){this.key=e}}class Eu{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Qo(),this.mutatedKeys=Qo(),this.Aa=Po(e),this.Ra=new lu(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new cu,r=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Ao(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ga(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Aa(u,a)>0||l&&this.Aa(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:s,fa:n,ns:o,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mi()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc))),this.pa(n),r=null!=r&&r;const o=t&&!r?this.ya():[],a=0===this.da.size&&this.current&&!r?1:0,l=a!==this.Ea;return this.Ea=a,0!==s.length||l?{snapshot:new uu(this.query,e.Ra,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new cu,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((e=>this.Ta=this.Ta.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ta=this.Ta.delete(e))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Qo(),this.Ra.forEach((e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))}));const t=[];return e.forEach((e=>{this.da.has(e)||t.push(new Su(e))})),this.da.forEach((n=>{e.has(n)||t.push(new xu(n))})),t}ba(e){this.Ta=e.Ts,this.da=Qo();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return uu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class ku{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Cu{constructor(e){this.key=e,this.va=!1}}class Tu{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Mo((e=>Ro(e)),jo),this.Ma=new Map,this.xa=new Set,this.Oa=new ls(Ui.comparator),this.Na=new Map,this.La=new Wl,this.Ba={},this.ka=new Map,this.qa=Ml.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function Iu(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Yu(e);let i;const s=r.Fa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await ju(r,t,n,!0),i}async function Nu(e,t){const n=Yu(e);await ju(n,t,!0,!1)}async function ju(e,t,n,r){const i=await lc(e.localStore,Co(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await Ru(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&Ac(e.remoteStore,i),a}async function Ru(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await uc(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ma(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return Hu(e,t.targetId,a.wa),a.snapshot}(e,t,n,r);const s=await uc(e.localStore,t,!0),o=new Eu(t,s.Ts),a=o.ma(s.documents),l=Wa.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(a,e.isPrimaryClient,l);Hu(e,n,c.wa);const u=new ku(t,n,o);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}async function Lu(e,t,n){const r=vi(e),i=r.Fa.get(t),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter((e=>!jo(e,t)))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await cc(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Dc(r.remoteStore,i.targetId),zu(r,i.targetId)})).catch(Gi)):(zu(r,i.targetId),await cc(r.localStore,i.targetId,!0))}async function Au(e,t){const n=vi(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Dc(n.remoteStore,r.targetId))}async function Du(e,t){const n=vi(e);try{const e=await function(e,t){const n=vi(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Ur.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Ur.addMatchingKeys(e,s.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(ms.EMPTY_BYTE_STRING,Di.min()).withLastLimboFreeSnapshotVersion(Di.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Ur.updateTargetData(e,c))}));let a=Uo(),l=Qo();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(oc(e,s,t.documentUpdates).next((e=>{a=e.Ps,l=e.Is}))),!r.isEqual(Di.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next((t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return Qi.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.os=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Na.get(t);r&&(gi(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?gi(r.va):e.removedDocuments.size>0&&(gi(r.va),r.va=!1))})),await Ku(n,e,t)}catch(e){await Gi(e)}}function Pu(e,t,n){const r=vi(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach(((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=vi(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)})),r&&yu(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Ou(e,t,n){const r=vi(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),s=i&&i.key;if(s){let e=new ls(Ui.comparator);e=e.insert(s,qs.newNoDocument(s,Di.min()));const n=Qo().add(s),i=new Ha(Di.min(),new Map,new ls(Ri),e,n);await Du(r,i),r.Oa=r.Oa.remove(s),r.Na.delete(t),qu(r)}else await cc(r.localStore,t,!1).then((()=>zu(r,t,n))).catch(Gi)}async function Mu(e,t){const n=vi(e),r=t.batch.batchId;try{const e=await function(e,t){const n=vi(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Qi.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);gi(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Qo();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Fu(n,r,null),Uu(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ku(n,e)}catch(e){await Gi(e)}}async function Vu(e,t,n){const r=vi(e);try{const e=await function(e,t){const n=vi(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(gi(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Fu(r,t,n),Uu(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Ku(r,e)}catch(n){await Gi(n)}}function Uu(e,t){(e.ka.get(t)||[]).forEach((e=>{e.resolve()})),e.ka.delete(t)}function Fu(e,t,n){const r=vi(e);let i=r.Ba[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function zu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach((t=>{e.La.containsKey(t)||Bu(e,t)}))}function Bu(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(Dc(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),qu(e))}function Hu(e,t,n){for(const r of n)r instanceof xu?(e.La.addReference(r.key,t),Wu(e,r)):r instanceof Su?(di("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||Bu(e,r.key)):mi()}function Wu(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(di("SyncEngine","New document in limbo: "+n),e.xa.add(r),qu(e))}function qu(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new Ui(Oi.fromString(t)),r=e.qa.next();e.Na.set(r,new Cu(n)),e.Oa=e.Oa.insert(n,r),Ac(e.remoteStore,new jl(Co(xo(n.path)),r,"TargetPurposeLimboResolution",Ji.oe))}}async function Ku(e,t,n){const r=vi(e),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach(((e,a)=>{o.push(r.Ka(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Zl.Wi(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.Ca.d_(i),await async function(e,t){const n=vi(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Qi.forEach(t,(t=>Qi.forEach(t.$i,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Qi.forEach(t.Ui,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Xi(e))throw e;di("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,s))}async function Gu(e,t){const n=vi(e);if(!n.currentUser.isEqual(t)){di("SyncEngine","User change. New user:",t.toKey());const e=await ic(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach((e=>{e.forEach((e=>{e.reject(new wi(yi.CANCELLED,t))}))})),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Ku(n,e.hs)}}function Qu(e,t){const n=vi(e),r=n.Na.get(t);if(r&&r.va)return Qo().add(r.key);{let e=Qo();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function Yu(e){const t=vi(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Du.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qu.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ou.bind(null,t),t.Ca.d_=gu.bind(null,t.eventManager),t.Ca.$a=vu.bind(null,t.eventManager),t}function Xu(e){const t=vi(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Mu.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Vu.bind(null,t),t}class Ju{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Sc(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return rc(this.persistence,new tc,e.initialUser,this.serializer)}createPersistence(e){return new Xl($l.Zr,this.serializer)}createSharedClientState(e){return new fc}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class $u{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Pu(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Gu.bind(null,this.syncEngine),await ru(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new hu}createDatastore(e){const t=Sc(e.databaseInfo.databaseId),n=function(e){return new _c(e)}(e.databaseInfo);return function(e,t,n,r){return new Ic(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new jc(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Pu(this.syncEngine,e,0)),mc.D()?new mc:new pc)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Tu(e,t,n,r,i,s);return o&&(a.Qa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=vi(e);di("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await Lc(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}class Zu{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class ed{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ai.UNAUTHENTICATED,this.clientId=ji.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{di("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(di("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new wi(yi.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=au(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function td(e,t){e.asyncQueue.verifyOperationInProgress(),di("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await ic(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function nd(e,t){e.asyncQueue.verifyOperationInProgress();const n=await id(e);di("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>nu(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>nu(t.remoteStore,n))),e._onlineComponents=t}function rd(e){return"FirebaseError"===e.name?e.code===yi.FAILED_PRECONDITION||e.code===yi.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function id(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){di("FirestoreClient","Using user provided OfflineComponentProvider");try{await td(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!rd(n))throw n;fi("Error using user provided cache. Falling back to memory cache: "+n),await td(e,new Ju)}}else di("FirestoreClient","Using default OfflineComponentProvider"),await td(e,new Ju);return e._offlineComponents}async function sd(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(di("FirestoreClient","Using user provided OnlineComponentProvider"),await nd(e,e._uninitializedComponentsProvider._online)):(di("FirestoreClient","Using default OnlineComponentProvider"),await nd(e,new $u))),e._onlineComponents}function od(e){return sd(e).then((e=>e.syncEngine))}async function ad(e){const t=await sd(e),n=t.eventManager;return n.onListen=Iu.bind(null,t.syncEngine),n.onUnlisten=Lu.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Nu.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Au.bind(null,t.syncEngine),n}function ld(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new bi;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Zu({next:s=>{t.enqueueAndForget((()=>mu(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new wi(yi.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new wi(yi.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new _u(xo(n.path),s,{includeMetadataChanges:!0,_a:!0});return pu(e,o)}(await ad(e),e.asyncQueue,t,n,r))),r.promise}function cd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new bi;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Zu({next:n=>{t.enqueueAndForget((()=>mu(e,o))),n.fromCache&&"server"===r.source?i.reject(new wi(yi.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new _u(n,s,{includeMetadataChanges:!0,_a:!0});return pu(e,o)}(await ad(e),e.asyncQueue,t,n,r))),r.promise}function ud(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const dd=new Map;function hd(e,t,n){if(!n)throw new wi(yi.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function fd(e){if(!Ui.isDocumentKey(e))throw new wi(yi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function pd(e){if(Ui.isDocumentKey(e))throw new wi(yi.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function md(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":mi()}function gd(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new wi(yi.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=md(e);throw new wi(yi.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class vd{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new wi(yi.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new wi(yi.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new wi(yi.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ud(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new wi(yi.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new wi(yi.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new wi(yi.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yd{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new wi(yi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new wi(yi.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vd(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new xi;switch(e.type){case"firstParty":return new Ci(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new wi(yi.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=dd.get(e);t&&(di("ComponentProvider","Removing Datastore"),dd.delete(e),t.terminate())}(this),Promise.resolve()}}class wd{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new wd(this.firestore,e,this._query)}}class bd{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _d(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bd(this.firestore,e,this._key)}}class _d extends wd{constructor(e,t,n){super(e,t,xo(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bd(this.firestore,null,new Ui(e))}withConverter(e){return new _d(this.firestore,e,this._path)}}function xd(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=pn(e),hd("collection","path",t),e instanceof yd){const n=Oi.fromString(t,...r);return pd(n),new _d(e,null,n)}{if(!(e instanceof bd||e instanceof _d))throw new wi(yi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Oi.fromString(t,...r));return pd(n),new _d(e.firestore,null,n)}}function Sd(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=pn(e),1===arguments.length&&(t=ji.newId()),hd("doc","path",t),e instanceof yd){const n=Oi.fromString(t,...r);return fd(n),new bd(e,null,new Ui(n))}{if(!(e instanceof bd||e instanceof _d))throw new wi(yi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Oi.fromString(t,...r));return fd(n),new bd(e.firestore,e instanceof _d?e.converter:null,new Ui(n))}}class Ed{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Ec(this,"async_queue_retry"),this.Eu=()=>{const e=xc();e&&di("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()};const e=xc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const t=xc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise((()=>{}));const t=new bi;return this.Au((()=>this.cu&&this.Iu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.uu.push(e),this.Ru())))}async Ru(){if(0!==this.uu.length){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(Eb){if(!Xi(Eb))throw Eb;di("AsyncQueue","Operation failed with retryable error: "+Eb)}this.uu.length>0&&this.t_.Go((()=>this.Ru()))}}Au(e){const t=this.au.then((()=>(this.Pu=!0,e().catch((e=>{this.hu=e,this.Pu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw hi("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Pu=!1,e))))));return this.au=t,t}enqueueAfterDelay(e,t,n){this.du(),this.Tu.indexOf(e)>-1&&(t=0);const r=ou.createAndSchedule(this,e,t,n,(e=>this.Vu(e)));return this.lu.push(r),r}du(){this.hu&&mi()}verifyOperationInProgress(){}async mu(){let e;do{e=this.au,await e}while(e!==this.au)}fu(e){for(const t of this.lu)if(t.timerId===e)return!0;return!1}gu(e){return this.mu().then((()=>{this.lu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.lu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.mu()}))}pu(e){this.Tu.push(e)}Vu(e){const t=this.lu.indexOf(e);this.lu.splice(t,1)}}function kd(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Cd extends yd{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Ed,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Id(this),this._firestoreClient.terminate()}}function Td(e){return e._firestoreClient||Id(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Id(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Ss(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,ud(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new ed(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class Nd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nd(ms.fromBase64String(e))}catch(e){throw new wi(yi.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Nd(ms.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class jd{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new wi(yi.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vi(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Rd{constructor(e){this._methodName=e}}class Ld{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new wi(yi.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new wi(yi.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ri(this._lat,e._lat)||Ri(this._long,e._long)}}class Ad{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Dd=/^__.*__$/;class Pd{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new xa(e,this.data,this.fieldMask,t,this.fieldTransforms):new _a(e,this.data,t,this.fieldTransforms)}}class Od{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new xa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Md(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mi()}}class Vd{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.yu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new Vd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Du:!1});return r.vu(e),r}Cu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Du:!1});return r.yu(),r}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Zd(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(0===e.length)throw this.Mu("Document fields must not be empty");if(Md(this.wu)&&Dd.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class Ud{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Sc(e)}Nu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Vd({wu:e,methodName:t,Ou:n,path:Vi.emptyPath(),Du:!1,xu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fd(e){const t=e._freezeSettings(),n=Sc(e._databaseId);return new Ud(e._databaseId,!!t.ignoreUndefinedProperties,n)}function zd(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Nu(s.merge||s.mergeFields?2:0,t,n,i);Yd("Data must be an object, but it was:",o,r);const a=Gd(r,o);let l,c;if(s.merge)l=new fs(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Xd(t,r,n);if(!o.contains(i))throw new wi(yi.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));eh(e,i)||e.push(i)}l=new fs(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new Pd(new Hs(a),l,c)}class Bd extends Rd{_toFieldTransform(e){if(2!==e.wu)throw 1===e.wu?e.Mu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Mu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bd}}function Hd(e,t,n,r){const i=e.Nu(1,t,n);Yd("Data must be an object, but it was:",i,r);const s=[],o=Hs.empty();os(r,((e,r)=>{const a=$d(t,e,n);r=pn(r);const l=i.Cu(a);if(r instanceof Bd)s.push(a);else{const e=Kd(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new fs(s);return new Od(o,a,i.fieldTransforms)}function Wd(e,t,n,r,i,s){const o=e.Nu(1,t,n),a=[Xd(t,r,n)],l=[i];if(s.length%2!=0)throw new wi(yi.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<s.length;h+=2)a.push(Xd(t,s[h])),l.push(s[h+1]);const c=[],u=Hs.empty();for(let h=a.length-1;h>=0;--h)if(!eh(c,a[h])){const e=a[h];let t=l[h];t=pn(t);const n=o.Cu(e);if(t instanceof Bd)c.push(e);else{const r=Kd(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new fs(c);return new Od(u,d,o.fieldTransforms)}function qd(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Kd(n,e.Nu(r?4:3,t))}function Kd(e,t){if(Qd(e=pn(e)))return Yd("Unsupported field value:",t,e),Gd(e,t);if(e instanceof Rd)return function(e,t){if(!Md(t.wu))throw t.Mu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Mu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Du&&4!==t.wu)throw t.Mu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Kd(i,t.Fu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=pn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Zo(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Ai.fromDate(e);return{timestampValue:rl(t.serializer,n)}}if(e instanceof Ai){const n=new Ai(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:rl(t.serializer,n)}}if(e instanceof Ld)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Nd)return{bytesValue:il(t.serializer,e._byteString)};if(e instanceof bd){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Mu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:al(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Ad)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Mu("VectorValues must only contain numeric values.");return Jo(t.serializer,e)}))}}}}}}(e,t);throw t.Mu("Unsupported field value: ".concat(md(e)))}(e,t)}function Gd(e,t){const n={};return as(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):os(e,((e,r)=>{const i=Kd(r,t.bu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Qd(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ai||e instanceof Ld||e instanceof Nd||e instanceof bd||e instanceof Rd||e instanceof Ad)}function Yd(e,t,n){if(!Qd(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=md(n);throw"an object"===r?t.Mu(e+" a custom object"):t.Mu(e+" "+r)}}function Xd(e,t,n){if((t=pn(t))instanceof jd)return t._internalPath;if("string"==typeof t)return $d(e,t);throw Zd("Field path arguments must be of type string or ",e,!1,void 0,n)}const Jd=new RegExp("[~\\*/\\[\\]]");function $d(e,t,n){if(t.search(Jd)>=0)throw Zd("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new jd(...t.split("."))._internalPath}catch(r){throw Zd("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Zd(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new wi(yi.INVALID_ARGUMENT,a+e+l)}function eh(e,t){return e.some((e=>e.isEqual(t)))}class th{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new bd(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new nh(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(rh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class nh extends th{data(){return super.data()}}function rh(e,t){return"string"==typeof t?$d(e,t):t instanceof jd?t._internalPath:t._delegate._internalPath}function ih(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new wi(yi.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sh{}class oh extends sh{}class ah extends oh{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new ah(e,t,n)}_apply(e){const t=this._parse(e);return dh(e._query,t),new wd(e.firestore,e.converter,Io(e._query,t))}_parse(e){const t=Fd(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new wi(yi.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){uh(o,s);const t=[];for(const n of o)t.push(ch(r,e,n));a={arrayValue:{values:t}}}else a=ch(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||uh(o,s),a=qd(n,t,o,"in"===s||"not-in"===s);return $s.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class lh extends sh{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new lh(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Zs.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)dh(n,i),n=Io(n,i)}(e._query,t),new wd(e.firestore,e.converter,Io(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function ch(e,t,n){if("string"==typeof(n=pn(n))){if(""===n)throw new wi(yi.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Eo(t)&&-1!==n.indexOf("/"))throw new wi(yi.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Oi.fromString(n));if(!Ui.isDocumentKey(r))throw new wi(yi.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ds(e,new Ui(r))}if(n instanceof bd)return Ds(e,n._key);throw new wi(yi.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(md(n),"."))}function uh(e,t){if(!Array.isArray(e)||0===e.length)throw new wi(yi.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function dh(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new wi(yi.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new wi(yi.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class hh{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ys(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw mi()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return os(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>ys(e.doubleValue)));return new Ad(i)}convertGeoPoint(e){return new Ld(ys(e.latitude),ys(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=_s(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(xs(e));default:return null}}convertTimestamp(e){const t=vs(e);return new Ai(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Oi.fromString(e);gi(Nl(n));const r=new Es(n.get(1),n.get(3)),i=new Ui(n.popFirst(5));return r.isEqual(t)||hi("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function fh(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class ph{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mh extends th{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(rh("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class gh extends mh{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class vh{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ph(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new gh(this._firestore,this._userDataWriter,n.key,n,new ph(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new wi(yi.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new gh(e._firestore,e._userDataWriter,n.doc.key,n.doc,new ph(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new gh(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ph(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:yh(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function yh(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mi()}}function wh(e){e=gd(e,bd);const t=gd(e.firestore,Cd);return ld(Td(t),e._key).then((n=>Th(t,e,n)))}class bh extends hh{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bd(this.firestore,null,t)}}function _h(e){e=gd(e,wd);const t=gd(e.firestore,Cd),n=Td(t),r=new bh(t);return ih(e._query),cd(n,e._query).then((n=>new vh(t,r,e,n)))}function xh(e,t,n){e=gd(e,bd);const r=gd(e.firestore,Cd),i=fh(e.converter,t,n);return Ch(r,[zd(Fd(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,fa.none())])}function Sh(e,t,n){e=gd(e,bd);const r=gd(e.firestore,Cd),i=Fd(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=pn(t))||t instanceof jd?Wd(i,"updateDoc",e._key,t,n,a):Hd(i,"updateDoc",e._key,t),Ch(r,[s.toMutation(e._key,fa.exists(!0))])}function Eh(e){return Ch(gd(e.firestore,Cd),[new Ca(e._key,fa.none())])}function kh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,o;e=pn(e);let a={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||kd(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(kd(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let u,d,h;if(e instanceof bd)d=gd(e.firestore,Cd),h=xo(e._key.path),u={next:t=>{n[l]&&n[l](Th(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=gd(e,wd);d=gd(t.firestore,Cd),h=t._query;const r=new bh(d);u={next:e=>{n[l]&&n[l](new vh(d,r,t,e))},error:n[l+1],complete:n[l+2]},ih(e._query)}return function(e,t,n,r){const i=new Zu(r),s=new _u(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>pu(await ad(e),s))),()=>{i.za(),e.asyncQueue.enqueueAndForget((async()=>mu(await ad(e),s)))}}(Td(d),h,c,u)}function Ch(e,t){return function(e,t){const n=new bi;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Xu(e);try{const e=await function(e,t){const n=vi(e),r=Ai.now(),i=t.reduce(((e,t)=>e.add(t.key)),Qo());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Uo(),l=Qo();return n.cs.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=wa(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new xa(e.key,t,Ws(t.value.mapValue),fa.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Bo(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new ls(Ri)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await Ku(r,e.changes),await Gc(r.remoteStore)}catch(e){const t=au(e,"Failed to persist write");n.reject(t)}}(await od(e),t,n))),n.promise}(Td(e),t)}function Th(e,t,n){const r=n.docs.get(t._key),i=new bh(e);return new mh(e,i,t._key,r,new ph(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){li=e}(Nr),Er(new mn("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new Cd(new Ei(e.getProvider("auth-internal")),new Ii(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new wi(yi.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Es(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Lr(oi,"4.7.2",e),Lr(oi,"4.7.2","esm2017")}();Lr("firebase","10.13.2","app");function Ih(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Nh(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jh=Nh,Rh=new sn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Lh=new kn("@firebase/auth");function Ah(e){if(Lh.logLevel<=bn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Lh.error("Auth (".concat(Nr,"): ").concat(e),...n)}}function Dh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Uh(e,...n)}function Ph(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Uh(e,...n)}function Oh(e,t,n){const r=Object.assign(Object.assign({},jh()),{[t]:n});return new sn("auth","Firebase",r).create(t,{appName:e.name})}function Mh(e){return Oh(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vh(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Dh(e,"argument-error"),Oh(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Uh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Rh.create(e,...n)}function Fh(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Uh(t,...r)}}function zh(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ah(t),new Error(t)}function Bh(e,t){e||zh(t)}function Hh(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Wh(){return"http:"===qh()||"https:"===qh()}function qh(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Kh(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Wh()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Gh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Bh(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Kh()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qh(e,t){Bh(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Yh{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void zh("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void zh("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void zh("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Xh={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Jh=new Gh(3e4,6e4);function $h(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Zh(e,t,n,r){return ef(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=cn(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Yh.fetch()(nf(e,e.config.apiHost,n,o),l)}))}async function ef(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Xh),t);try{const t=new sf(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw of(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw of(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw of(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw of(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Oh(e,a,o);Dh(e,a)}}catch(Eb){if(Eb instanceof rn)throw Eb;Dh(e,"network-request-failed",{message:String(Eb)})}}async function tf(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Zh(e,t,n,r,i);return"mfaPendingCredential"in s&&Dh(e,"multi-factor-auth-required",{_serverResponse:s}),s}function nf(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Qh(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function rf(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sf{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Ph(this.auth,"network-request-failed"))),Jh.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function of(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ph(e,t,r);return i.customData._tokenResponse=n,i}function af(e){return void 0!==e&&void 0!==e.enterprise}class lf{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return rf(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function cf(e,t){return Zh(e,"GET","/v2/recaptchaConfig",$h(e,t))}async function uf(e,t){return Zh(e,"POST","/v1/accounts:lookup",t)}function df(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Eb){}}function hf(e){return 1e3*Number(e)}function ff(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Ah("JWT malformed, contained fewer than 3 sections"),null;try{const e=qt(n);return e?JSON.parse(e):(Ah("Failed to decode base64 JWT payload"),null)}catch(Eb){return Ah("Caught error parsing JWT payload as JSON",null===Eb||void 0===Eb?void 0:Eb.toString()),null}}function pf(e){const t=ff(e);return Fh(t,"internal-error"),Fh("undefined"!==typeof t.exp,"internal-error"),Fh("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function mf(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(Eb){throw Eb instanceof rn&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(Eb)&&e.auth.currentUser===e&&await e.auth.signOut(),Eb}}class gf{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(Eb){return void((null===Eb||void 0===Eb?void 0:Eb.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class vf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=df(this.lastLoginAt),this.creationTime=df(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function yf(e){var t;const n=e.auth,r=await e.getIdToken(),i=await mf(e,uf(n,{idToken:r}));Fh(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?wf(s.providerUserInfo):[],a=(l=e.providerData,c=o,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),h=!!u&&d,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new vf(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function wf(e){return e.map((e=>{var{providerId:t}=e,n=Ih(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class bf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fh(e.idToken,"internal-error"),Fh("undefined"!==typeof e.idToken,"internal-error"),Fh("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):pf(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Fh(0!==e.length,"internal-error");const t=pf(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Fh(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await ef(e,{},(async()=>{const n=cn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=nf(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Yh.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new bf;return n&&(Fh("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Fh("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Fh("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bf,this.toJSON())}_performRefresh(){return zh("not implemented")}}function _f(e,t){Fh("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class xf{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Ih(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gf(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new vf(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await mf(this,this.stsTokenManager.getToken(this.auth,e));return Fh(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=pn(e),r=await n.getIdToken(t),i=ff(r);Fh(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:df(hf(i.auth_time)),issuedAtTime:df(hf(i.iat)),expirationTime:df(hf(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=pn(e);await yf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Fh(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new xf(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Fh(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await yf(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cr(this.auth.app))return Promise.reject(Mh(this.auth));const e=await this.getIdToken();return await mf(this,async function(e,t){return Zh(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:x}=t;Fh(y&&x,e,"internal-error");const S=bf.fromJSON(this.name,x);Fh("string"===typeof y,e,"internal-error"),_f(u,e.name),_f(d,e.name),Fh("boolean"===typeof w,e,"internal-error"),Fh("boolean"===typeof b,e,"internal-error"),_f(h,e.name),_f(f,e.name),_f(p,e.name),_f(m,e.name),_f(g,e.name),_f(v,e.name);const E=new xf({uid:y,auth:e,email:d,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(E.providerData=_.map((e=>Object.assign({},e)))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new bf;r.updateFromServerResponse(t);const i=new xf({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await yf(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Fh(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?wf(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),o=new bf;o.updateFromIdToken(n);const a=new xf({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new vf(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const Sf=new Map;function Ef(e){Bh(e instanceof Function,"Expected a class definition");let t=Sf.get(e);return t?(Bh(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Sf.set(e,t),t)}class kf{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}kf.type="NONE";const Cf=kf;function Tf(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class If{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Tf(this.userKey,r.apiKey,i),this.fullPersistenceKey=Tf("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?xf._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new If(Ef(Cf),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Ef(Cf);const s=Tf(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){const n=xf._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new If(i,e,n)):new If(i,e,n)}}function Nf(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Af(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(jf(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Pf(t))return"Blackberry";if(Of(t))return"Webos";if(Rf(t))return"Safari";if((t.includes("chrome/")||Lf(t))&&!t.includes("edge/"))return"Chrome";if(Df(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function jf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en();return/firefox\//i.test(e)}function Rf(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:en()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Lf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en();return/crios\//i.test(e)}function Af(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en();return/iemobile/i.test(e)}function Df(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en();return/android/i.test(e)}function Pf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en();return/blackberry/i.test(e)}function Of(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en();return/webos/i.test(e)}function Mf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Vf(){return function(){const e=en();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Uf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en();return Mf(e)||Df(e)||Of(e)||Pf(e)||/windows phone/i.test(e)||Af(e)}function Ff(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Nf(en());break;case"Worker":t="".concat(Nf(en()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Nr,"/").concat(r)}class zf{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(Eb){r(Eb)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(Eb){t.reverse();for(const n of t)try{n()}catch(Av){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===Eb||void 0===Eb?void 0:Eb.message})}}}class Bf{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Hf{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qf(this),this.idTokenSubscription=new qf(this),this.beforeStateQueue=new zf(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rh,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ef(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await If.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Eb){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await uf(this,{idToken:e}),n=await xf._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Cr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(Eb){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(Eb)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Fh(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(Eb){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await yf(e)}catch(Eb){if((null===Eb||void 0===Eb?void 0:Eb.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cr(this.app))return Promise.reject(Mh(this));const t=e?pn(e):null;return t&&Fh(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Fh(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Cr(this.app)?Promise.reject(Mh(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cr(this.app)?Promise.reject(Mh(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Ef(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Zh(e,"GET","/v2/passwordPolicy",$h(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Bf(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new sn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Zh(e,"POST","/v2/accounts:revokeToken",$h(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ef(e)||this._popupRedirectResolver;Fh(t,this,"argument-error"),this.redirectPersistenceManager=await If.create(this,[Ef(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fh(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fh(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ff(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Lh.logLevel<=bn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Lh.warn("Auth (".concat(Nr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Wf(e){return pn(e)}class qf{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new hn(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Fh(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Kf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Gf(e){return Kf.loadJS(e)}function Qf(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Yf{constructor(e){this.type="recaptcha-enterprise",this.auth=Wf(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;af(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{cf(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new lf(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&af(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Kf.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Gf(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Xf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Yf(e);let s;try{s=await i.verify(n)}catch(a){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Jf(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Xf(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Xf(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function $f(e,t,n){const r=Wf(e);Fh(r._canInitEmulator,r,"emulator-config-failed"),Fh(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Zf(t),{host:o,port:a}=function(e){const t=Zf(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:ep(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:ep(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Zf(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ep(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class tp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return zh("not implemented")}_getIdTokenResponse(e){return zh("not implemented")}_linkToIdToken(e,t){return zh("not implemented")}_getReauthenticationResolver(e){return zh("not implemented")}}async function np(e,t){return Zh(e,"POST","/v1/accounts:signUp",t)}async function rp(e,t){return tf(e,"POST","/v1/accounts:signInWithPassword",$h(e,t))}class ip extends tp{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ip(e,t,"password")}static _fromEmailAndCode(e,t){return new ip(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Jf(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",rp);case"emailLink":return async function(e,t){return tf(e,"POST","/v1/accounts:signInWithEmailLink",$h(e,t))}(e,{email:this._email,oobCode:this._password});default:Dh(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Jf(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",np);case"emailLink":return async function(e,t){return tf(e,"POST","/v1/accounts:signInWithEmailLink",$h(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Dh(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function sp(e,t){return tf(e,"POST","/v1/accounts:signInWithIdp",$h(e,t))}class op extends tp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new op(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Dh("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Ih(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new op(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return sp(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,sp(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,sp(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=cn(t)}return e}}const ap={USER_NOT_FOUND:"user-not-found"};class lp extends tp{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new lp({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new lp({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return tf(e,"POST","/v1/accounts:signInWithPhoneNumber",$h(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await tf(e,"POST","/v1/accounts:signInWithPhoneNumber",$h(e,t));if(n.temporaryProof)throw of(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return tf(e,"POST","/v1/accounts:signInWithPhoneNumber",$h(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ap)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new lp({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class cp{constructor(e){var t,n,r,i,s,o;const a=un(dn(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Fh(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=un(dn(e)).link,n=t?un(dn(t)).deep_link_id:null,r=un(dn(e)).deep_link_id;return(r?un(dn(r)).link:null)||r||n||t||e}(e);try{return new cp(t)}catch(n){return null}}}class up{constructor(){this.providerId=up.PROVIDER_ID}static credential(e,t){return ip._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=cp.parseLink(t);return Fh(n,"argument-error"),ip._fromEmailAndCode(e,n.code,n.tenantId)}}up.PROVIDER_ID="password",up.EMAIL_PASSWORD_SIGN_IN_METHOD="password",up.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class dp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class hp extends dp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class fp extends hp{constructor(){super("facebook.com")}static credential(e){return op._fromParams({providerId:fp.PROVIDER_ID,signInMethod:fp.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fp.credentialFromTaggedObject(e)}static credentialFromError(e){return fp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return fp.credential(t.oauthAccessToken)}catch(n){return null}}}fp.FACEBOOK_SIGN_IN_METHOD="facebook.com",fp.PROVIDER_ID="facebook.com";class pp extends hp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return op._fromParams({providerId:pp.PROVIDER_ID,signInMethod:pp.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return pp.credentialFromTaggedObject(e)}static credentialFromError(e){return pp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return pp.credential(n,r)}catch(i){return null}}}pp.GOOGLE_SIGN_IN_METHOD="google.com",pp.PROVIDER_ID="google.com";class mp extends hp{constructor(){super("github.com")}static credential(e){return op._fromParams({providerId:mp.PROVIDER_ID,signInMethod:mp.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mp.credentialFromTaggedObject(e)}static credentialFromError(e){return mp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return mp.credential(t.oauthAccessToken)}catch(n){return null}}}mp.GITHUB_SIGN_IN_METHOD="github.com",mp.PROVIDER_ID="github.com";class gp extends hp{constructor(){super("twitter.com")}static credential(e,t){return op._fromParams({providerId:gp.PROVIDER_ID,signInMethod:gp.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return gp.credentialFromTaggedObject(e)}static credentialFromError(e){return gp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return gp.credential(n,r)}catch(i){return null}}}gp.TWITTER_SIGN_IN_METHOD="twitter.com",gp.PROVIDER_ID="twitter.com";class vp{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await xf._fromIdTokenResponse(e,n,r),s=yp(n);return new vp({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=yp(n);return new vp({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function yp(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class wp extends rn{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,wp.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new wp(e,t,n,r)}}function bp(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw wp._fromErrorAndOperation(e,n,t,r);throw n}))}async function _p(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await mf(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return vp._forOperation(e,"link",r)}async function xp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Cr(r.app))return Promise.reject(Mh(r));const i="reauthenticate";try{const s=await mf(e,bp(r,i,t,e),n);Fh(s.idToken,r,"internal-error");const o=ff(s.idToken);Fh(o,r,"internal-error");const{sub:a}=o;return Fh(e.uid===a,r,"user-mismatch"),vp._forOperation(e,i,s)}catch(Eb){throw(null===Eb||void 0===Eb?void 0:Eb.code)==="auth/".concat("user-not-found")&&Dh(r,"user-mismatch"),Eb}}async function Sp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Cr(e.app))return Promise.reject(Mh(e));const r="signIn",i=await bp(e,r,t),s=await vp._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}new WeakMap;const Ep="__sak";class kp{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ep,"1"),this.storage.removeItem(Ep),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Cp extends kp{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Uf(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Vf()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Cp.type="LOCAL";const Tp=Cp;class Ip extends kp{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ip.type="SESSION";const Np=Ip;class jp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new jp(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Rp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}jp.receivers=[];class Lp{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=Rp("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Ap(){return window}function Dp(){return"undefined"!==typeof Ap().WorkerGlobalScope&&"function"===typeof Ap().importScripts}const Pp="firebaseLocalStorageDb",Op="firebaseLocalStorage",Mp="fbase_key";class Vp{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Up(e,t){return e.transaction([Op],t?"readwrite":"readonly").objectStore(Op)}function Fp(){const e=indexedDB.open(Pp,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Op,{keyPath:Mp})}catch(Eb){n(Eb)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Op)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Pp);return new Vp(e).toPromise()}(),t(await Fp()))}))}))}async function zp(e,t,n){const r=Up(e,!0).put({[Mp]:t,value:n});return new Vp(r).toPromise()}function Bp(e,t){const n=Up(e,!0).delete(t);return new Vp(n).toPromise()}class Hp{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Fp()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(Eb){if(t++>3)throw Eb;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Dp()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jp._getInstance(Dp()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Lp(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fp();return await zp(e,Ep,"1"),await Bp(e,Ep),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>zp(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Up(e,!1).get(t),r=await new Vp(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Bp(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Up(e,!1).getAll();return new Vp(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Hp.type="LOCAL";const Wp=Hp;Qf("rcb"),new Gh(3e4,6e4);const qp="recaptcha";async function Kp(e,t,n){var r;const i=await n.verify();try{let s;if(Fh("string"===typeof i,e,"argument-error"),Fh(n.type===qp,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Fh("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Zh(e,"POST","/v2/accounts/mfaEnrollment:start",$h(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Fh("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Fh(n,e,"missing-multi-factor-info");const o=await function(e,t){return Zh(e,"POST","/v2/accounts/mfaSignIn:start",$h(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Zh(e,"POST","/v1/accounts:sendVerificationCode",$h(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Gp{constructor(e){this.providerId=Gp.PROVIDER_ID,this.auth=Wf(e)}verifyPhoneNumber(e,t){return Kp(this.auth,e,pn(t))}static credential(e,t){return lp._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Gp.credentialFromTaggedObject(t)}static credentialFromError(e){return Gp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?lp._fromTokenResponse(n,r):null}}function Qp(e,t){return t?Ef(t):(Fh(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Gp.PROVIDER_ID="phone",Gp.PHONE_SIGN_IN_METHOD="phone";class Yp extends tp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sp(e,this._buildIdpRequest())}_linkToIdToken(e,t){return sp(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return sp(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Xp(e){return Sp(e.auth,new Yp(e),e.bypassAuthState)}function Jp(e){const{auth:t,user:n}=e;return Fh(n,t,"internal-error"),xp(n,new Yp(e),e.bypassAuthState)}async function $p(e){const{auth:t,user:n}=e;return Fh(n,t,"internal-error"),_p(n,new Yp(e),e.bypassAuthState)}class Zp{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Eb){this.reject(Eb)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(Eb){this.reject(Eb)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Xp;case"linkViaPopup":case"linkViaRedirect":return $p;case"reauthViaPopup":case"reauthViaRedirect":return Jp;default:Dh(this.auth,"internal-error")}}resolve(e){Bh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const em=new Gh(2e3,1e4);async function tm(e,t,n){if(Cr(e.app))return Promise.reject(Ph(e,"operation-not-supported-in-this-environment"));const r=Wf(e);Vh(e,t,dp);const i=Qp(r,n);return new nm(r,"signInViaPopup",t,i).executeNotNull()}class nm extends Zp{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,nm.currentPopupAction&&nm.currentPopupAction.cancel(),nm.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fh(e,this.auth,"internal-error"),e}async onExecution(){Bh(1===this.filter.length,"Popup operations only handle one event");const e=Rp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Ph(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Ph(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nm.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Ph(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,em.get())};e()}}nm.currentPopupAction=null;const rm="pendingRedirect",im=new Map;class sm extends Zp{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=im.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=lm(t),r=am(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(Eb){e=()=>Promise.reject(Eb)}im.set(this.auth._key(),e)}return this.bypassAuthState||im.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function om(e,t){im.set(e._key(),t)}function am(e){return Ef(e._redirectPersistence)}function lm(e){return Tf(rm,e.config.apiKey,e.name)}async function cm(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Cr(e.app))return Promise.reject(Mh(e));const r=Wf(e),i=Qp(r,t),s=new sm(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class um{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hm(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!hm(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ph(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(dm(e))}saveEventToCache(e){this.cachedEventUids.add(dm(e)),this.lastProcessedEventTime=Date.now()}}function dm(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function hm(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const fm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pm=/^https?/;async function mm(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Zh(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(gm(r))return}catch(n){}Dh(e,"unauthorized-domain")}function gm(e){const t=Hh(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!pm.test(n))return!1;if(fm.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const vm=new Gh(3e4,6e4);function ym(){const e=Ap().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function wm(e){return new Promise(((t,n)=>{var r,i,s;function o(){ym(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ym(),n(Ph(e,"network-request-failed"))},timeout:vm.get()})}if(null===(i=null===(r=Ap().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Ap().gapi)||void 0===s?void 0:s.load)){const t=Qf("iframefcb");return Ap()[t]=()=>{gapi.load?o():n(Ph(e,"network-request-failed"))},Gf("".concat(Kf.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw bm=null,e}))}let bm=null;const _m=new Gh(5e3,15e3),xm="__/auth/iframe",Sm="emulator/auth/iframe",Em={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},km=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cm(e){const t=e.config;Fh(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Qh(t,Sm):"https://".concat(e.config.authDomain,"/").concat(xm),r={apiKey:t.apiKey,appName:e.name,v:Nr},i=km.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(cn(r).slice(1))}async function Tm(e){const t=await function(e){return bm=bm||wm(e),bm}(e),n=Ap().gapi;return Fh(n,e,"internal-error"),t.open({where:document.body,url:Cm(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Em,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Ph(e,"network-request-failed"),s=Ap().setTimeout((()=>{r(i)}),_m.get());function o(){Ap().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}const Im={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Nm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Eb){}}}function jm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Im),{width:r.toString(),height:i.toString(),top:s,left:o}),c=en().toLowerCase();n&&(a=Lf(c)?"_blank":n),jf(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Mf(arguments.length>0&&void 0!==arguments[0]?arguments[0]:en())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Nm(null);const d=window.open(t||"",a,u);Fh(d,e,"popup-blocked");try{d.focus()}catch(Eb){}return new Nm(d)}const Rm="__/auth/handler",Lm="emulator/auth/handler",Am=encodeURIComponent("fac");async function Dm(e,t,n,r,i,s){Fh(e.config.authDomain,e,"auth-domain-config-required"),Fh(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Nr,eventId:i};if(t instanceof dp){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof hp){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Am,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Rm);return Qh(t,Lm)}(e),"?").concat(cn(a).slice(1)).concat(c)}const Pm="webStorageSupport";const Om=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Np,this._completeRedirectFn=cm,this._overrideRedirectResult=om}async _openPopup(e,t,n,r){var i;Bh(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return jm(e,await Dm(e,t,n,Hh(),r),Rp())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Ap().location.href=e}(await Dm(e,t,n,Hh(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Bh(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Tm(e),n=new um(e);return t.register("authEvent",(t=>{Fh(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Pm,{type:Pm},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Pm];void 0!==i&&t(!!i),Dh(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=mm(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Uf()||Rf()||Mf()}};var Mm="@firebase/auth",Vm="1.7.9";class Um{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Fh(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Fm=Jt("authIdTokenMaxAge")||300;let zm=null;var Bm;!function(e){Kf=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Ph("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),Bm="Browser",Er(new mn("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Fh(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:Bm,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ff(Bm)},c=new Hf(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ef);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Er(new mn("auth-internal",(e=>(e=>new Um(e))(Wf(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(Mm,Vm,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Bm)),Lr(Mm,Vm,"esm2017");const Hm="firebasestorage.googleapis.com",Wm="storageBucket";class qm extends rn{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Qm(e),"Firebase Storage: ".concat(t," (").concat(Qm(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qm.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Qm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var Km,Gm;function Qm(e){return"storage/"+e}function Ym(){return new qm(Km.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Xm(){return new qm(Km.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Jm(){return new qm(Km.CANCELED,"User canceled the upload/download.")}function $m(){return new qm(Km.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Zm(e){return new qm(Km.INVALID_ARGUMENT,e)}function eg(){return new qm(Km.APP_DELETED,"The Firebase app was deleted.")}function tg(e,t){return new qm(Km.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function ng(e){throw new qm(Km.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Km||(Km={}));class rg{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=rg.makeFromUrl(e,t)}catch(Eb){return new rg(e,"")}if(""===n.path)return n;throw r=e,new qm(Km.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===Hm?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new rg(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new qm(Km.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class ig{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function sg(e){return"string"===typeof e||e instanceof String}function og(e){return ag()&&e instanceof Blob}function ag(){return"undefined"!==typeof Blob}function lg(e,t,n,r){if(r<t)throw Zm("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Zm("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function cg(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function ug(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function dg(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Gm||(Gm={}));class hg{constructor(e,t,n,r,i,s,o,a,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new fg(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Gm.NO_ERROR,i=n.getStatus();if(!t||dg(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Gm.ABORT;return void e(!1,new fg(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new fg(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(Eb){r(Eb)}else if(null!==i){const e=Ym();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?eg():Jm())}else{r(Xm())}};this.canceled_?t(0,new fg(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function h(){s&&clearTimeout(s)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||o)return h(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===a?(a=2,s=0):s=1e3*(r+Math.random()),d(s)}let p=!1;function m(e){p||(p=!0,h(),c||(null!==i?(e||(a=2),clearTimeout(i),d(0)):e||(a=1)))}return d(0),s=setTimeout((()=>{o=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class fg{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function pg(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function mg(){const e=pg();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(ag())return new Blob(n);throw new qm(Km.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function gg(e){if("undefined"===typeof atob)throw t="base-64",new qm(Km.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const vg={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class yg{constructor(e,t){this.data=e,this.contentType=t||null}}function wg(e,t){switch(e){case vg.RAW:return new yg(bg(t));case vg.BASE64:case vg.BASE64URL:return new yg(_g(e,t));case vg.DATA_URL:return new yg(function(e){const t=new xg(e);return t.base64?_g(vg.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(Eb){throw tg(vg.DATA_URL,"Malformed data URL.")}return bg(t)}(t.rest)}(t),new xg(t).contentType)}throw Ym()}function bg(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function _g(e,t){switch(e){case vg.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw tg(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case vg.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw tg(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=gg(t)}catch(Eb){if(Eb.message.includes("polyfill"))throw Eb;throw tg(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class xg{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw tg(vg.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Sg{constructor(e,t){let n=0,r="";og(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(og(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new Sg(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Sg(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(ag()){const e=t.map((e=>e instanceof Sg?e.data_:e));return new Sg(mg.apply(null,e))}{const e=t.map((e=>sg(e)?wg(vg.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new Sg(r,!0)}}uploadData(){return this.data_}}function Eg(e){let t;try{t=JSON.parse(e)}catch(Eb){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function kg(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Cg(e,t){return t}class Tg{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Cg}}let Ig=null;function Ng(){if(Ig)return Ig;const e=[];e.push(new Tg("bucket")),e.push(new Tg("generation")),e.push(new Tg("metageneration")),e.push(new Tg("name","fullPath",!0));const t=new Tg("name");t.xform=function(e,t){return function(e){return!sg(e)||e.length<2?e:kg(e)}(t)},e.push(t);const n=new Tg("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Tg("timeCreated")),e.push(new Tg("updated")),e.push(new Tg("md5Hash",null,!0)),e.push(new Tg("cacheControl",null,!0)),e.push(new Tg("contentDisposition",null,!0)),e.push(new Tg("contentEncoding",null,!0)),e.push(new Tg("contentLanguage",null,!0)),e.push(new Tg("contentType",null,!0)),e.push(new Tg("metadata","customMetadata",!0)),Ig=e,Ig}function jg(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new rg(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Rg(e,t,n){const r=Eg(t);if(null===r)return null;return jg(e,r,n)}function Lg(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class Ag{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Dg(e){if(!e)throw Ym()}function Pg(e,t){return function(n,r){const i=Rg(e,r,t);return Dg(null!==i),i}}function Og(e,t){return function(n,r){const i=Rg(e,r,t);return Dg(null!==i),function(e,t,n,r){const i=Eg(t);if(null===i)return null;if(!sg(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return cg("/b/"+o(i)+"/o/"+o(s),n,r)+ug({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function Mg(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new qm(Km.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new qm(Km.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new qm(Km.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new qm(Km.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Vg(e){const t=Mg(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new qm(Km.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Ug(e,t,n){const r=cg(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new Ag(r,"GET",Pg(e,n),i);return s.errorHandler=Vg(t),s}function Fg(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function zg(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+a;const l=Fg(t,r,i),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Lg(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+a+"--",d=Sg.getBlob(c,r,u);if(null===d)throw $m();const h={name:l.fullPath},f=cg(s,e.host,e._protocol),p=e.maxUploadRetryTime,m=new Ag(f,"POST",Pg(e,n),p);return m.urlParams=h,m.headers=o,m.body=d.uploadData(),m.errorHandler=Mg(t),m}class Bg{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function Hg(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(Eb){Dg(!1)}return Dg(!!n&&-1!==(t||["active"]).indexOf(n)),n}const Wg=262144;function qg(e,t,n,r,i,s,o,a){const l=new Bg(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new qm(Km.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const c=l.total-l.current;let u=c;i>0&&(u=Math.min(u,i));const d=l.current,h=d+u;let f="";f=0===u?"finalize":c===u?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":"".concat(l.current)},m=r.slice(d,h);if(null===m)throw $m();const g=t.maxUploadRetryTime,v=new Ag(n,"POST",(function(e,n){const i=Hg(e,["active","final"]),o=l.current+u,a=r.size();let c;return c="final"===i?Pg(t,s)(e,n):null,new Bg(o,a,"final"===i,c)}),g);return v.headers=p,v.body=m.uploadData(),v.progressCallback=a||null,v.errorHandler=Mg(e),v}const Kg="running",Gg="paused",Qg="success",Yg="canceled",Xg="error";function Jg(e){switch(e){case"running":case"pausing":case"canceling":return Kg;case"paused":return Gg;case"success":return Qg;case"canceled":return Yg;default:return Xg}}class $g{constructor(e,t,n){const r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function Zg(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((()=>e(...n)))}}let ev=null;class tv{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Gm.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=Gm.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=Gm.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw ng("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ng("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ng("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Eb){return-1}}getResponse(){if(!this.sent_)throw ng("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ng("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class nv extends tv{initXhr(){this.xhr_.responseType="text"}}function rv(){return ev?ev():new nv}class iv{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=Ng(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(Km.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(dg(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=Xm()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(Km.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o=Fg(t,r,i),a={name:o.fullPath},l=cg(s,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},u=Lg(o,n),d=e.maxUploadRetryTime,h=new Ag(l,"POST",(function(e){let t;Hg(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(Eb){Dg(!1)}return Dg(sg(t)),t}),d);return h.urlParams=a,h.headers=c,h.body=u,h.errorHandler=Mg(t),h}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,rv,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,s=new Ag(n,"POST",(function(e){const t=Hg(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Eb){Dg(!1)}n||Dg(!1);const i=Number(n);return Dg(!isNaN(i)),new Bg(i,r.size(),"final"===t)}),i);return s.headers={"X-Goog-Upload-Command":"query"},s.errorHandler=Mg(t),s}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,rv,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=Wg*this._chunkMultiplier,t=new Bg(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let s;try{s=qg(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(Eb){return this._error=Eb,void this._transition("error")}const o=this._ref.storage._makeRequest(s,rv,r,i,!1);this._request=o,o.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(Wg*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=Ug(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,rv,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=zg(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,rv,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Jm(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=Jg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new $g(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(Jg(this._state)){case Qg:Zg(this._resolve.bind(null,this.snapshot))();break;case Yg:case Xg:Zg(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Jg(this._state)){case Kg:case Gg:e.next&&Zg(e.next.bind(e,this.snapshot))();break;case Qg:e.complete&&Zg(e.complete.bind(e))();break;default:e.error&&Zg(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class sv{constructor(e,t){this._service=e,this._location=t instanceof rg?t:rg.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new sv(e,t)}get root(){const e=new rg(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return kg(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new rg(this._location.bucket,e);return new sv(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new qm(Km.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function ov(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=cg(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new Ag(r,"GET",Og(e,n),i);return s.errorHandler=Vg(t),s}(e.storage,e._location,Ng());return e.storage.makeRequestWithTokens(t,rv).then((e=>{if(null===e)throw new qm(Km.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function av(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new rg(e._location.bucket,n);return new sv(e.storage,r)}function lv(e,t){if(e instanceof dv){const n=e;if(null==n._bucket)throw new qm(Km.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Wm+"' property when initializing the app?");const r=new sv(n,n._bucket);return null!=t?lv(r,t):r}return void 0!==t?av(e,t):e}function cv(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof dv)return new sv(e,t);throw Zm("To use ref(service, url), the first argument must be a Storage instance.")}return lv(e,t)}function uv(e,t){const n=null===t||void 0===t?void 0:t[Wm];return null==n?null:rg.makeFromBucketSpec(n,e)}class dv{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Hm,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?rg.makeFromBucketSpec(r,this._host):uv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=rg.makeFromBucketSpec(this._url,e):this._bucket=uv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){lg("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){lg("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new sv(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new ig(eg());{const s=function(e,t,n,r,i,s){let o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=ug(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new hg(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const hv="@firebase/storage",fv="0.13.2",pv="storage";function mv(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new iv(e,new Sg(t),n)}(e=pn(e),t,n)}function gv(e){return ov(e=pn(e))}function vv(e,t){return cv(e=pn(e),t)}function yv(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new dv(r,i,s,n,Nr)}Er(new mn(pv,yv,"PUBLIC").setMultipleInstances(!0)),Lr(hv,fv,""),Lr(hv,fv,"esm2017");const wv=jr({apiKey:"AIzaSyDcBfLZr0nx7aXWUThapTUp4vPHhwB8azA",authDomain:"newproject-34a9e.firebaseapp.com",projectId:"newproject-34a9e",storageBucket:"newproject-34a9e.appspot.com",messagingSenderId:"813090913972",appId:"1:813090913972:web:0991cb9e95e8b4ce18e1e1"}),bv=function(e,t){const n="string"==typeof e?e:t||"(default)",r=kr("object"==typeof e?e:Rr(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=Yt("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=gd(e,yd))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&fi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=ai.MOCK_USER;else{t=Zt(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new wi(yi.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ai(s)}e._authCredentials=new Si(new _i(t,n))}}(r,...e)}return r}(wv),_v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rr(),t=arguments.length>1?arguments[1]:void 0;e=pn(e);const n=kr(e,pv).getImmediate({identifier:t}),r=Yt("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Zt(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(wv),xv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rr();const t=kr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=kr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(an(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Dh(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Om,persistence:[Wp,Tp,Np]}),r=Jt("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Fm)return;const r=null===t||void 0===t?void 0:t.token;zm!==r&&(zm=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){pn(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){pn(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const s=Qt("auth");return s&&$f(n,"http://".concat(s)),n}(wv),Sv=e=>"number"==typeof e&&!isNaN(e),Ev=e=>"string"==typeof e,kv=e=>"function"==typeof e,Cv=t=>(0,e.isValidElement)(t)||Ev(t)||kv(t)||Sv(t);function Tv(t){let{enter:n,exit:r,appendPosition:i=!1,collapse:s=!0,collapseDuration:o=300}=t;return function(t){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:h,playToast:f}=t;const p=i?"".concat(n,"--").concat(l):n,m=i?"".concat(r,"--").concat(l):r,g=(0,e.useRef)(0);return(0,e.useLayoutEffect)((()=>{const e=d.current,t=p.split(" "),n=r=>{r.target===d.current&&(f(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===g.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}),[]),(0,e.useEffect)((()=>{const e=d.current,t=()=>{e.removeEventListener("animationend",t),s?function(e,t,n){void 0===n&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame((()=>{i.minHeight="initial",i.height=r+"px",i.transition="all ".concat(n,"ms"),requestAnimationFrame((()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,u,o):u()};h||(c?t():(g.current=1,e.className+=" ".concat(m),e.addEventListener("animationend",t)))}),[h]),e.createElement(e.Fragment,null,a)}}const Iv=new Map;let Nv=[];const jv=new Set,Rv=()=>Iv.size>0;function Lv(e,t){var n;if(t)return!(null==(n=Iv.get(t))||!n.isToastActive(e));let r=!1;return Iv.forEach((t=>{t.isToastActive(e)&&(r=!0)})),r}function Av(e,t){Cv(e)&&(Rv()||Nv.push({content:e,options:t}),Iv.forEach((n=>{n.buildToast(e,t)})))}function Dv(e,t){Iv.forEach((n=>{null!=t&&null!=t&&t.containerId?(null==t?void 0:t.containerId)===n.id&&n.toggle(e,null==t?void 0:t.id):n.toggle(e,null==t?void 0:t.id)}))}let Pv=1;const Ov=()=>""+Pv++;function Mv(e){return e&&(Ev(e.toastId)||Sv(e.toastId))?e.toastId:Ov()}function Vv(e,t){return Av(e,t),t.toastId}function Uv(e,t){return{...t,type:t&&t.type||e,toastId:Mv(t)}}function Fv(e){return(t,n)=>Vv(t,Uv(e,n))}function zv(e,t){return Vv(e,Uv("default",t))}zv.loading=(e,t)=>Vv(e,Uv("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),zv.promise=function(e,t,n){let r,{pending:i,error:s,success:o}=t;i&&(r=Ev(i)?zv.loading(i,n):zv.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,i)=>{if(null==t)return void zv.dismiss(r);const s={type:e,...a,...n,data:i},o=Ev(t)?{render:t}:t;return r?zv.update(r,{...s,...o}):zv(o.render,{...s,...o}),i},c=kv(e)?e():e;return c.then((e=>l("success",o,e))).catch((e=>l("error",s,e))),c},zv.success=Fv("success"),zv.info=Fv("info"),zv.error=Fv("error"),zv.warning=Fv("warning"),zv.warn=zv.warning,zv.dark=(e,t)=>Vv(e,Uv("default",{theme:"dark",...t})),zv.dismiss=function(e){!function(e){var t;if(Rv()){if(null==e||Ev(t=e)||Sv(t))Iv.forEach((t=>{t.removeToast(e)}));else if(e&&("containerId"in e||"id"in e)){const t=Iv.get(e.containerId);t?t.removeToast(e.id):Iv.forEach((t=>{t.removeToast(e.id)}))}}else Nv=Nv.filter((t=>null!=e&&t.options.toastId!==e))}(e)},zv.clearWaitingQueue=function(e){void 0===e&&(e={}),Iv.forEach((t=>{!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()}))},zv.isActive=Lv,zv.update=function(e,t){void 0===t&&(t={});const n=((e,t)=>{var n;let{containerId:r}=t;return null==(n=Iv.get(r||1))?void 0:n.toasts.get(e)})(e,t);if(n){const{props:r,content:i}=n,s={delay:100,...r,...t,toastId:t.toastId||e,updateId:Ov()};s.toastId!==e&&(s.staleId=e);const o=s.render||i;delete s.render,Vv(o,s)}},zv.done=e=>{zv.update(e,{progress:1})},zv.onChange=function(e){return jv.add(e),()=>{jv.delete(e)}},zv.play=e=>Dv(!0,e),zv.pause=e=>Dv(!1,e);"undefined"!=typeof window?e.useLayoutEffect:e.useEffect;const Bv=function(e,t){return void 0===t&&(t=!1),{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}};Tv(Bv("bounce",!0)),Tv(Bv("slide",!0)),Tv(Bv("zoom")),Tv(Bv("flip"));var Hv=n(579);const Wv=(0,e.createContext)(),qv=t=>{let{children:n}=t;const[r,i]=(0,e.useState)(!1),[s,o]=(0,e.useState)(!1),[a,l]=(0,e.useState)(!1),[c,u]=(0,e.useState)(""),[d,h]=(0,e.useState)(!1),[f,p]=(0,e.useState)(!1);return(0,Hv.jsx)(Wv.Provider,{value:{showModal:r,showToastNotification:a,shortvideoShowMessages:f,NotificationMessage:c,Description:d,bottomlayout:s,setDescription:h,setshortvideoShowMessages:p,setbottomlayout:o,setshowModal:i,setNotificationMessage:u,setshowToastNotification:l,LikeVideo:async(e,t,n)=>{if(e){const r=Sd(xd(bv,"users/".concat(e.uid,"/LV")),t),i=Sd(bv,"videos",t),s=await wh(r),o=Sd(xd(bv,"users/".concat(e.uid,"/DV")),t);if((await wh(o)).data()&&await Eh(o),s.exists())await Eh(r),await Sh(i,{likes:n.likes-1}),l(!0),u("video disliked");else{const e={videoURL:t};await xh(r,e),await Sh(i,{likes:n.likes+1}),l(!0),u("videoLiked")}}else u("You are not logged in"),l(!0)},WatchLater:async(e,t)=>{if(e){const n=Sd(xd(bv,"users/".concat(null===e||void 0===e?void 0:e.uid,"/WL")),t);return(await wh(n)).exists()?(await Eh(Sd(xd(bv,"users/".concat(null===e||void 0===e?void 0:e.uid,"/WL")),t)),u("videoRemovedFromWatchLater"),"videoRemovedFromWatchLater"):(await xh(n,{videoURL:t}),u("Saved to Watchlater"),"videoAddedFromWatchLater")}u("You are not LoggedIn"),document.body.style.opacity="1",l(!0)},getVideoPublishedTime:e=>{if(e.Videodata.Time){let t=Math.floor((Date.now()-e.Videodata.Time)/1e3),n=t;return t>=31536e3?(n=Math.floor(t/31536e3),n>1?n+"  years ago":n+"  year ago"):t>=2419200?(n=Math.floor(t/2419200),n>1?n+"  months ago":n+"  month ago"):t>=604800?(n=Math.floor(t/604800),n>1?n+"  weeks ago":n+"  week ago"):t>=86400?(n=Math.floor(t/86400),n>1?n+"  days ago":n+"  day ago"):t>=3600?(n=Math.floor(t/3600),n>1?n+"  hours ago":n+"  hour ago"):t>=60?(n=Math.floor(t/60),n>1?n+"  minutes ago":n+"  minute ago"):(n=Math.floor(t),n>1?n+"  seconds ago":"now")}},returnvideoTime:e=>{const t=Math.floor(e%60),n=Math.floor(e/60)%60,r=Math.floor(e/3600);return 0!==r?r+":"+n+":"+t:n+":"+t.toString().padStart(2,0)},subscribeChannel:async(e,t)=>{const n=Sd(xd(bv,"users/".concat(null===e||void 0===e?void 0:e.uid,"/subscribedChannel")),t.uid),r=Sd(xd(bv,"users"),t.uid),i=Sd(xd(bv,"users/".concat(t.uid,"/subscribers")),e.uid),s={name:t.name,email:t.email,channel:t.channelPic,userId:t.uid};if((await wh(n)).exists()){await Eh(Sd(xd(bv,"users/".concat(e.uid,"/subscribedChannel")),t.uid));const n=Sd(xd(bv,"users"),t.uid);return await Sh(n,{subscribers:t.subscribers-=1}),"Unsubscribed"}return await xh(n,s),await Sh(r,{subscribers:t.subscribers+=1}),await xh(i,{userId:e.uid}),"subscribed"},DisLikeVideo:async(e,t,n)=>{const r=Sd(xd(bv,"users/".concat(e.uid,"/DV")),t),i=Sd(bv,"videos",t),s=await wh(r),o=Sd(xd(bv,"users/".concat(e.uid,"/LV")),t);if((await wh(o)).exists()){await Eh(Sd(xd(bv,"users/".concat(null===e||void 0===e?void 0:e.uid,"/LV")),t)),await Sh(i,{likes:n.likes-1});const s={videoURL:t};return await xh(r,s),"video disliked"}if(s.exists())return await Eh(r),"videoRemoved From dislikes";{const e={videoURL:t};return await xh(r,e),"video disliked"}},CheckSubscribedOrNot:async(e,t)=>{if(e&&t){const n=Sd(xd(bv,"users/".concat(null===e||void 0===e?void 0:e.uid,"/subscribedChannel")),t.uid);return!!(await wh(n)).exists()}}},children:n})};const Kv=function(t){var n,r,i,s;let{video:o}=t;const a=(0,e.useContext)(Wv);return(0,Hv.jsxs)("div",{id:"video",style:{minWidth:"calc(26% - 16px)"},children:[(0,Hv.jsx)(Mt,{to:"/watch?v=".concat(null===(n=o.Videodata)||void 0===n?void 0:n.videoId),children:(0,Hv.jsxs)("div",{id:"thumbnail_container",children:[(0,Hv.jsx)("img",{src:null===(r=o.Videodata)||void 0===r?void 0:r.Thumbnail,alt:"",className:"video"}),(0,Hv.jsx)("p",{className:"videoLength",children:a.returnvideoTime(o.Videodata.videoLength)})]})}),(0,Hv.jsx)("div",{className:"video_bottom",children:(0,Hv.jsx)("div",{className:"video_bttom_left",children:(0,Hv.jsxs)("div",{className:"video_title_and_channelName",children:[(0,Hv.jsx)("h3",{id:"video_title",className:"title",children:null===(i=o.Videodata)||void 0===i?void 0:i.Title}),(0,Hv.jsx)("div",{children:(0,Hv.jsxs)("p",{children:[null===(s=o.user)||void 0===s?void 0:s.name," \u2022 ",o.Videodata.views," Views \u2022 ",a.getVideoPublishedTime(o)]})})]})})})]})};var Gv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Qv=e.createContext&&e.createContext(Gv),Yv=["attr","size","title"];function Xv(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Jv(){return Jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jv.apply(this,arguments)}function $v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$v(Object(n),!0).forEach((function(t){ey(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ey(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ty(t){return t&&t.map(((t,n)=>e.createElement(t.tag,Zv({key:n},t.attr),ty(t.child))))}function ny(t){return n=>e.createElement(ry,Jv({attr:Zv({},t.attr)},n),ty(t.child))}function ry(t){var n=n=>{var r,{attr:i,size:s,title:o}=t,a=Xv(t,Yv),l=s||n.size||"1em";return n.className&&(r=n.className),t.className&&(r=(r?r+" ":"")+t.className),e.createElement("svg",Jv({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,a,{className:r,style:Zv(Zv({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&e.createElement("title",null,o),t.children)};return void 0!==Qv?e.createElement(Qv.Consumer,null,(e=>n(e))):n(Gv)}function iy(e){return ny({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"},child:[]}]})(e)}function sy(e){return ny({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(e)}function oy(e){return ny({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z"},child:[]}]})(e)}function ay(e){return ny({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216.4 163.7c5.1 5 5.1 13.3.1 18.4L155.8 243h231.3c7.1 0 12.9 5.8 12.9 13s-5.8 13-12.9 13H155.8l60.8 60.9c5 5.1 4.9 13.3-.1 18.4-5.1 5-13.2 5-18.3-.1l-82.4-83c-1.1-1.2-2-2.5-2.7-4.1-.7-1.6-1-3.3-1-5 0-3.4 1.3-6.6 3.7-9.1l82.4-83c4.9-5.2 13.1-5.3 18.2-.3z"},child:[]}]})(e)}function ly(e){return ny({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(e)}function cy(e){return ny({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"},child:[]}]})(e)}function uy(e){return ny({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M208 448V320h96v128h97.6V256H464L256 64 48 256h62.4v192z"},child:[]}]})(e)}function dy(e){return ny({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M64 384h384v-42.666H64V384zm0-106.666h384v-42.667H64v42.667zM64 128v42.665h384V128H64z"},child:[]}]})(e)}function hy(e){return ny({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M257 120.471c7.083 0 23.911 4.479 23.911 4.479 45.589 10.447 77.678 52.439 77.678 99.85V352.412l9.321 9.364 7.788 7.823H136.302l7.788-7.823 9.321-9.364V224.8c0-47.41 32.089-89.403 77.678-99.85 0 0 18.043-4.479 23.911-4.479M256 48c-17.602 0-31.059 13.518-31.059 31.2v14.559c-59.015 13.523-103.53 67.601-103.53 131.041v114.4L80 380.8v20.8h352v-20.8l-41.411-41.6V224.8c0-63.44-44.516-117.518-103.53-131.041V79.2c0-17.682-13.457-31.2-31.059-31.2zm41.411 374.4h-82.823c0 22.881 18.633 41.6 41.412 41.6s41.411-18.719 41.411-41.6z"},child:[]}]})(e)}function fy(e){return ny({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M96 52v408l320-204L96 52z"},child:[]}]})(e)}function py(e){return ny({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5.75 15.5a.75.75 0 0 1-.75-.75v-9A.75.75 0 0 1 5.75 5h9a.75.75 0 0 1 0 1.5H7.56l10.22 10.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L6.5 7.56v7.19a.75.75 0 0 1-.75.75Z"},child:[]}]})(e)}function my(e){return ny({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16 12a4 4 0 1 1-8 0 4 4 0 0 1 8 0Zm-1.5 0a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"},child:[]},{tag:"path",attr:{d:"M12 1c.266 0 .532.009.797.028.763.055 1.345.617 1.512 1.304l.352 1.45c.019.078.09.171.225.221.247.089.49.19.728.302.13.061.246.044.315.002l1.275-.776c.603-.368 1.411-.353 1.99.147.402.349.78.726 1.128 1.129.501.578.515 1.386.147 1.99l-.776 1.274c-.042.069-.058.185.002.315.112.238.213.481.303.728.048.135.142.205.22.225l1.45.352c.687.167 1.249.749 1.303 1.512.038.531.038 1.063 0 1.594-.054.763-.616 1.345-1.303 1.512l-1.45.352c-.078.019-.171.09-.221.225-.089.248-.19.491-.302.728-.061.13-.044.246-.002.315l.776 1.275c.368.603.353 1.411-.147 1.99-.349.402-.726.78-1.129 1.128-.578.501-1.386.515-1.99.147l-1.274-.776c-.069-.042-.185-.058-.314.002a8.606 8.606 0 0 1-.729.303c-.135.048-.205.142-.225.22l-.352 1.45c-.167.687-.749 1.249-1.512 1.303-.531.038-1.063.038-1.594 0-.763-.054-1.345-.616-1.512-1.303l-.352-1.45c-.019-.078-.09-.171-.225-.221a8.138 8.138 0 0 1-.728-.302c-.13-.061-.246-.044-.315-.002l-1.275.776c-.603.368-1.411.353-1.99-.147-.402-.349-.78-.726-1.128-1.129-.501-.578-.515-1.386-.147-1.99l.776-1.274c.042-.069.058-.185-.002-.314a8.606 8.606 0 0 1-.303-.729c-.048-.135-.142-.205-.22-.225l-1.45-.352c-.687-.167-1.249-.749-1.304-1.512a11.158 11.158 0 0 1 0-1.594c.055-.763.617-1.345 1.304-1.512l1.45-.352c.078-.019.171-.09.221-.225.089-.248.19-.491.302-.728.061-.13.044-.246.002-.315l-.776-1.275c-.368-.603-.353-1.411.147-1.99.349-.402.726-.78 1.129-1.128.578-.501 1.386-.515 1.99-.147l1.274.776c.069.042.185.058.315-.002.238-.112.481-.213.728-.303.135-.048.205-.142.225-.22l.352-1.45c.167-.687.749-1.249 1.512-1.304C11.466 1.01 11.732 1 12 1Zm-.69 1.525c-.055.004-.135.05-.161.161l-.353 1.45a1.832 1.832 0 0 1-1.172 1.277 7.147 7.147 0 0 0-.6.249 1.833 1.833 0 0 1-1.734-.074l-1.274-.776c-.098-.06-.186-.036-.228 0a9.774 9.774 0 0 0-.976.976c-.036.042-.06.131 0 .228l.776 1.274c.314.529.342 1.18.074 1.734a7.147 7.147 0 0 0-.249.6 1.831 1.831 0 0 1-1.278 1.173l-1.45.351c-.11.027-.156.107-.16.162a9.63 9.63 0 0 0 0 1.38c.004.055.05.135.161.161l1.45.353a1.832 1.832 0 0 1 1.277 1.172c.074.204.157.404.249.6.268.553.24 1.204-.074 1.733l-.776 1.275c-.06.098-.036.186 0 .228.301.348.628.675.976.976.042.036.131.06.228 0l1.274-.776a1.83 1.83 0 0 1 1.734-.075c.196.093.396.176.6.25a1.831 1.831 0 0 1 1.173 1.278l.351 1.45c.027.11.107.156.162.16a9.63 9.63 0 0 0 1.38 0c.055-.004.135-.05.161-.161l.353-1.45a1.834 1.834 0 0 1 1.172-1.278 6.82 6.82 0 0 0 .6-.248 1.831 1.831 0 0 1 1.733.074l1.275.776c.098.06.186.036.228 0 .348-.301.675-.628.976-.976.036-.042.06-.131 0-.228l-.776-1.275a1.834 1.834 0 0 1-.075-1.733c.093-.196.176-.396.25-.6a1.831 1.831 0 0 1 1.278-1.173l1.45-.351c.11-.027.156-.107.16-.162a9.63 9.63 0 0 0 0-1.38c-.004-.055-.05-.135-.161-.161l-1.45-.353c-.626-.152-1.08-.625-1.278-1.172a6.576 6.576 0 0 0-.248-.6 1.833 1.833 0 0 1 .074-1.734l.776-1.274c.06-.098.036-.186 0-.228a9.774 9.774 0 0 0-.976-.976c-.042-.036-.131-.06-.228 0l-1.275.776a1.831 1.831 0 0 1-1.733.074 6.88 6.88 0 0 0-.6-.249 1.835 1.835 0 0 1-1.173-1.278l-.351-1.45c-.027-.11-.107-.156-.162-.16a9.63 9.63 0 0 0-1.38 0Z"},child:[]}]})(e)}function gy(e){return ny({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.998 2.5A9.503 9.503 0 0 0 3.378 8H5.75a.75.75 0 0 1 0 1.5H2a1 1 0 0 1-1-1V4.75a.75.75 0 0 1 1.5 0v1.697A10.997 10.997 0 0 1 11.998 1C18.074 1 23 5.925 23 12s-4.926 11-11.002 11C6.014 23 1.146 18.223 1 12.275a.75.75 0 0 1 1.5-.037 9.5 9.5 0 0 0 9.498 9.262c5.248 0 9.502-4.253 9.502-9.5s-4.254-9.5-9.502-9.5Z"},child:[]},{tag:"path",attr:{d:"M12.5 7.25a.75.75 0 0 0-1.5 0v5.5c0 .27.144.518.378.651l3.5 2a.75.75 0 0 0 .744-1.302L12.5 12.315V7.25Z"},child:[]}]})(e)}const vy=function(){const[t,n]=(0,e.useState)([]),r=(0,e.useRef)(),[i,s]=(0,e.useState)(!1);return(0,e.useEffect)((()=>{kh(xd(bv,"users/".concat(xv.currentUser.uid,"/WV")),(async e=>{n(await Promise.all(e.docs.map((async e=>{var t;const n=Sd(bv,"videos",e.data().videoURL),r=await wh(n),i=Sd(bv,"users",null===(t=r.data())||void 0===t?void 0:t.createdBy),s=await wh(i);return{videoId:n.id,Videodata:r.data(),userData:s.data()}}))))}))}),[]),t.length>0&&(0,Hv.jsxs)(Hv.Fragment,{children:[(0,Hv.jsxs)("div",{className:"top_Section",children:[(0,Hv.jsxs)("div",{className:"left",children:[(0,Hv.jsx)(gy,{}),(0,Hv.jsx)("h4",{children:"History"})]}),(0,Hv.jsx)(Mt,{to:"/playlist?list=WV",className:"viewAll",children:"View all"})]}),t.length>=5&&(0,Hv.jsx)("div",{className:"forwardIcon watched_VideosforwardIcon",style:{display:i?"none":"block"},onClick:e=>{r.current.scrollBy({left:847,behavior:"smooth"}),s(!0)},children:(0,Hv.jsx)(oy,{})}),(0,Hv.jsx)("div",{ref:r,className:"watchedVideos_body",style:{display:"flex",overflowX:"scroll",width:"-webkit-fill-available",gap:"8px"},children:t.slice(0,6).filter((e=>!e.Videodata.shortVideo)).map(((e,t)=>(0,Hv.jsx)(Kv,{video:e},t)))}),(0,Hv.jsx)("div",{className:"backwardIcon",style:i?{display:"block",position:"absolute",bottom:"0",top:"0",height:"36px",transform:"translate(-17px, 174px)"}:{display:"none"},onClick:e=>{r.current.scrollBy({left:-847,behavior:"smooth"}),s(!1)},children:(0,Hv.jsx)(iy,{})})]})};function yy(e){return ny({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M112 111v290c0 17.44 17 28.52 31 20.16l247.9-148.37c12.12-7.25 12.12-26.33 0-33.58L143 90.84c-14-8.36-31 2.72-31 20.16z"},child:[]}]})(e)}function wy(e){return ny({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"m400 148-21.12-24.57A191.43 191.43 0 0 0 240 64C134 64 48 150 48 256s86 192 192 192a192.09 192.09 0 0 0 181.07-128"},child:[]},{tag:"path",attr:{d:"M464 97.42V208a16 16 0 0 1-16 16H337.42c-14.26 0-21.4-17.23-11.32-27.31L436.69 86.1C446.77 76 464 83.16 464 97.42z"},child:[]}]})(e)}function by(e){return ny({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"square",strokeMiterlimit:"10",strokeWidth:"32",d:"M416 432 64 80"},child:[]},{tag:"path",attr:{d:"M352 256c0-24.56-5.81-47.88-17.75-71.27L327 170.47 298.48 185l7.27 14.25C315.34 218.06 320 236.62 320 256a112.91 112.91 0 0 1-.63 11.74l27.32 27.32A148.8 148.8 0 0 0 352 256zm64 0c0-51.19-13.08-83.89-34.18-120.06l-8.06-13.82-27.64 16.12 8.06 13.82C373.07 184.44 384 211.83 384 256c0 25.93-3.89 46.21-11 65.33l24.5 24.51C409.19 319.68 416 292.42 416 256z"},child:[]},{tag:"path",attr:{d:"M480 256c0-74.26-20.19-121.11-50.51-168.61l-8.61-13.49-27 17.22 8.61 13.49C429.82 147.38 448 189.5 448 256c0 48.76-9.4 84-24.82 115.55l23.7 23.7C470.16 351.39 480 309 480 256zM256 72l-73.6 58.78 73.6 73.59V72zM32 176.1v159.8h93.65L256 440V339.63L92.47 176.1H32z"},child:[]}]})(e)}function _y(e){return ny({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 3H6.693A2.01 2.01 0 0 0 4.82 4.298l-2.757 7.351A1 1 0 0 0 2 12v2c0 1.103.897 2 2 2h5.612L8.49 19.367a2.004 2.004 0 0 0 .274 1.802c.376.52.982.831 1.624.831H12c.297 0 .578-.132.769-.36l4.7-5.64H20c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2zm-8.469 17h-1.145l1.562-4.684A1 1 0 0 0 11 14H4v-1.819L6.693 5H16v9.638L11.531 20zM18 14V5h2l.001 9H18z"},child:[]}]})(e)}function xy(e){return ny({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 8h-5.612l1.123-3.367c.202-.608.1-1.282-.275-1.802S14.253 2 13.612 2H12c-.297 0-.578.132-.769.36L6.531 8H4c-1.103 0-2 .897-2 2v9c0 1.103.897 2 2 2h13.307a2.01 2.01 0 0 0 1.873-1.298l2.757-7.351A1 1 0 0 0 22 12v-2c0-1.103-.897-2-2-2zM4 10h2v9H4v-9zm16 1.819L17.307 19H8V9.362L12.468 4h1.146l-1.562 4.683A.998.998 0 0 0 13 10h7v1.819z"},child:[]}]})(e)}function Sy(e){return ny({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 3h-1v13h1a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zM4 16h7l-1.122 3.368A2 2 0 0 0 11.775 22H12l5-5.438V3H6l-3.937 8.649-.063.293V14a2 2 0 0 0 2 2z"},child:[]}]})(e)}function Ey(e){return ny({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 21h1V8H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2zM20 8h-7l1.122-3.368A2 2 0 0 0 12.225 2H12L7 7.438V21h11l3.912-8.596L22 12v-2a2 2 0 0 0-2-2z"},child:[]}]})(e)}function ky(e){return ny({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 3 4 9v12h5v-7h6v7h5V9z"},child:[]}]})(e)}function Cy(e){return ny({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19.5 5.5v13h-15v-13h15zM19 4H5a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 7H9.5v-.5h-2v3h2V13H11v1c0 .55-.45 1-1 1H7c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1zm7 0h-1.5v-.5h-2v3h2V13H18v1c0 .55-.45 1-1 1h-3c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1z"},child:[]}]})(e)}function Ty(e){return ny({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9h-4v4h-2v-4H9V9h4V5h2v4h4v2z"},child:[]}]})(e)}function Iy(e){return ny({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"},child:[]}]})(e)}function Ny(e){return ny({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m6 18 8.5-6L6 6v12zM16 6v12h2V6h-2z"},child:[]}]})(e)}function jy(e){return ny({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 6h2v12H6zm3.5 6 8.5 6V6z"},child:[]}]})(e)}function Ry(e){return ny({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z"},child:[]}]})(e)}function Ly(e){return ny({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19 11h-8v6h8v-6zm-2 4h-4v-2h4v2zm4-12H3c-1.1 0-2 .88-2 1.98V19c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V4.98C23 3.88 22.1 3 21 3zm0 16.02H3V4.97h18v14.05z"},child:[]}]})(e)}function Ay(e){return ny({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H8V4h12v12zm-7-2h2v-3h3V9h-3V6h-2v3h-3v2h3z"},child:[]}]})(e)}function Dy(e){return ny({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M4 6h16v2H4zm2-4h12v2H6zm14 8H4c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm0 10H4v-8h16v8zm-10-7.27v6.53L16 16z"},child:[]}]})(e)}function Py(e){return ny({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M15 8v8H5V8h10m1-2H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4V7c0-.55-.45-1-1-1z"},child:[]}]})(e)}function Oy(e){return ny({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM20 4v13.17L18.83 16H4V4h16zM6 12h12v2H6zm0-3h12v2H6zm0-3h12v2H6z"},child:[]}]})(e)}function My(e){return ny({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M4 4h16v12H5.17L4 17.17V4m0-2c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2H4zm2 10h12v2H6v-2zm0-3h12v2H6V9zm0-3h12v2H6V6z"},child:[]}]})(e)}function Vy(e){return ny({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z",opacity:".87"},child:[]},{tag:"path",attr:{d:"M17.51 3.87 15.73 2.1 5.84 12l9.9 9.9 1.77-1.77L9.38 12l8.13-8.13z"},child:[]}]})(e)}function Uy(e){return ny({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"},child:[]}]})(e)}function Fy(e){return ny({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 11H15V13H3V11ZM3 18H21V20H3V18Z"},child:[]}]})(e)}function zy(e){return ny({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 14H11C7.54202 14 4.53953 15.9502 3.03239 18.8107C3.01093 18.5433 3 18.2729 3 18C3 12.4772 7.47715 8 13 8V2.5L23.5 11L13 19.5V14ZM11 12H15V15.3078L20.3214 11L15 6.69224V10H13C10.5795 10 8.41011 11.0749 6.94312 12.7735C8.20873 12.2714 9.58041 12 11 12Z"},child:[]}]})(e)}const By=function(){let[t,n]=(0,e.useState)(""),[r,i]=(0,e.useState)(!1);return(0,e.useEffect)((()=>{sessionStorage.setItem("Description",t),console.log(t)}),[t]),r?(0,Hv.jsx)(hw,{}):(0,Hv.jsxs)("div",{className:"description_page",children:[(0,Hv.jsx)(ay,{onClick:()=>i(!0)}),(0,Hv.jsx)("textarea",{name:"description",id:"description",placeholder:"Write Video description",onChange:e=>{n(e.target.value),sessionStorage.setItem("Description",t)}})]})};const Hy=function(){let[t,n]=(0,e.useState)(!1);const r=e=>{console.log(e.target.value),sessionStorage.setItem("commentMode",e.target.value)};return t?(0,Hv.jsx)(hw,{}):(0,Hv.jsxs)("div",{className:"comment_Type",children:[(0,Hv.jsx)("h3",{children:"Comment Mode"}),(0,Hv.jsxs)("div",{children:[(0,Hv.jsx)("input",{type:"radio",name:"commentType",value:"on",id:"on",onChange:r}),(0,Hv.jsx)("label",{htmlFor:"On",children:"On"})]}),(0,Hv.jsxs)("div",{children:[(0,Hv.jsx)("input",{type:"radio",name:"commentType",id:"off",value:"Off",onChange:r}),(0,Hv.jsx)("label",{htmlFor:"Off",children:"Off"})]}),(0,Hv.jsx)("button",{onClick:()=>{n(!0)},children:"Next"})]})};function Wy(e){return ny({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z"},child:[]}]})(e)}function qy(e){return ny({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 121.941V128H256V0h6.059a24 24 0 0 1 16.97 7.029l97.941 97.941a24.002 24.002 0 0 1 7.03 16.971zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zm-135.455 16c26.51 0 48 21.49 48 48s-21.49 48-48 48-48-21.49-48-48 21.491-48 48-48zm208 240h-256l.485-48.485L104.545 328c4.686-4.686 11.799-4.201 16.485.485L160.545 368 264.06 264.485c4.686-4.686 12.284-4.686 16.971 0L320.545 304v112z"},child:[]}]})(e)}function Ky(e){return ny({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 0H48C21.49 0 0 21.49 0 48v464l192-112 192 112V48c0-26.51-21.49-48-48-48zm0 428.43l-144-84-144 84V54a6 6 0 0 1 6-6h276c3.314 0 6 2.683 6 5.996V428.43z"},child:[]}]})(e)}function Gy(e){return ny({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 104c-53 0-96 43-96 96s43 96 96 96 96-43 96-96-43-96-96-96zm0 144c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm0-240C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-49.7 0-95.1-18.3-130.1-48.4 14.9-23 40.4-38.6 69.6-39.5 20.8 6.4 40.6 9.6 60.5 9.6s39.7-3.1 60.5-9.6c29.2 1 54.7 16.5 69.6 39.5-35 30.1-80.4 48.4-130.1 48.4zm162.7-84.1c-24.4-31.4-62.1-51.9-105.1-51.9-10.2 0-26 9.6-57.6 9.6-31.5 0-47.4-9.6-57.6-9.6-42.9 0-80.6 20.5-105.1 51.9C61.9 339.2 48 299.2 48 256c0-110.3 89.7-200 200-200s200 89.7 200 200c0 43.2-13.9 83.2-37.3 115.9z"},child:[]}]})(e)}const Qy={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var Yy,Xy=new Uint8Array(16);function Jy(){if(!Yy&&!(Yy="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Yy(Xy)}for(var $y=[],Zy=0;Zy<256;++Zy)$y.push((Zy+256).toString(16).slice(1));function ew(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return($y[e[t+0]]+$y[e[t+1]]+$y[e[t+2]]+$y[e[t+3]]+"-"+$y[e[t+4]]+$y[e[t+5]]+"-"+$y[e[t+6]]+$y[e[t+7]]+"-"+$y[e[t+8]]+$y[e[t+9]]+"-"+$y[e[t+10]]+$y[e[t+11]]+$y[e[t+12]]+$y[e[t+13]]+$y[e[t+14]]+$y[e[t+15]]).toLowerCase()}const tw=function(e,t,n){if(Qy.randomUUID&&!t&&!e)return Qy.randomUUID();var r=(e=e||{}).random||(e.rng||Jy)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return ew(r)},nw=(0,e.createContext)(),rw=t=>{let{children:n}=t;const[r,i]=(0,e.useState)(0),[s,o]=(0,e.useState)(0);var a;const l=rt();return(0,Hv.jsx)(nw.Provider,{value:{uploadVideoFunc:async(e,t,n,r,s,c,u,d)=>{const h=vv(_v,"Videos/".concat(tw())),f=vv(_v,"Thumbnail/".concat(tw()));var p=document.createElement("canvas");p.width=d.videoWidth,p.height=d.videoHeight,p.getContext("2d").drawImage(d,0,0,d.videoWidth,d.videoHeight),a=await new Promise((e=>{p.toBlob((n=>{if(n){const r=new Image;r.src=window.URL.createObjectURL(n),Object.assign(n,{src:r.src,name:t.name.replace(".mp4",".png"),lastModified:Date.now()}),e(n)}else console.error("Failed to create blob from canvas"),e(null)}))})),console.log(a);const m=mv(h,t);m.on("state_changed",(e=>{let t=Math.round(e.bytesTransferred/e.totalBytes*100);i(t)}),(e=>{console.log(e)}));const g=mv(f,e||a);g.on("state_changed",(e=>{const t=Math.round(e.bytesTransferred/e.totalBytes*100);o(t)}),(e=>{console.log(e)})),await Promise.all([m,g]).then((async()=>{const e=tw(),t=await gv(m.snapshot.ref),i=await gv(g.snapshot.ref);console.log(i);let o=Sd(bv,"videos",e);const a={Title:n,description:r,videoURL:t,Thumbnail:i,likes:0,dislikes:0,views:0,shortVideo:s,comments:u,createdBy:xv.currentUser.uid,videoLength:d.duration,Time:Date.now()};await xh(o,a).then((async()=>{const t=function(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof sh&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof lh)).length,n=e.filter((e=>e instanceof ah)).length;if(t>1||t>0&&n>0)throw new wi(yi.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}(xd(bv,"users/".concat(xv.currentUser.uid,"/subscribers")));(await _h(t)).forEach((async t=>{const n=Sd(xd(bv,"users/".concat(t.data().userId,"/NewVideos")),e);await xh(n,{Videoid:e}),console.log("new video added in subscriber doc");const r=Sd(bv,"users/".concat(t.data().userId)),i=await wh(r);i.data().Numberofvideos?await Sh(r,{Numberofvideos:i.data().Numberofvideos+1}):await Sh(r,{Numberofvideos:1})}))})).catch((e=>{console.log(e)})),await function(e,t){const n=gd(e.firestore,Cd),r=Sd(e),i=fh(e.converter,t);return Ch(n,[zd(Fd(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,fa.exists(!1))]).then((()=>r))}(xd(bv,"users/".concat(xv.currentUser.uid,"/createdVideos")),{videoUrl:e}).then((()=>{l("/youtube-clone"),console.log("video has been uploaded")}))}))},Videoprogress:r,ThumbnailProgress:s},children:n})};function iw(e){return ny({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M1.5 4.83h2.79L8.15 1l.85.35v13l-.85.33-3.86-3.85H1.5l-.5-.5v-5l.5-.5zM4.85 10L8 13.14V2.56L4.85 5.68l-.35.15H2v4h2.5l.35.17zM15 7.83a6.97 6.97 0 0 1-1.578 4.428l-.712-.71A5.975 5.975 0 0 0 14 7.83c0-1.4-.48-2.689-1.284-3.71l.712-.71A6.971 6.971 0 0 1 15 7.83zm-2 0a4.978 4.978 0 0 1-1.002 3.004l-.716-.716A3.982 3.982 0 0 0 12 7.83a3.98 3.98 0 0 0-.713-2.28l.716-.716c.626.835.997 1.872.997 2.996zm-2 0c0 .574-.16 1.11-.44 1.566l-.739-.738a1.993 1.993 0 0 0 .005-1.647l.739-.739c.276.454.435.988.435 1.558z"},child:[]}]})(e)}function sw(e){return ny({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12.8536 2.85355C13.0488 2.65829 13.0488 2.34171 12.8536 2.14645C12.6583 1.95118 12.3417 1.95118 12.1464 2.14645L7.5 6.79289L2.85355 2.14645C2.65829 1.95118 2.34171 1.95118 2.14645 2.14645C1.95118 2.34171 1.95118 2.65829 2.14645 2.85355L6.79289 7.5L2.14645 12.1464C1.95118 12.3417 1.95118 12.6583 2.14645 12.8536C2.34171 13.0488 2.65829 13.0488 2.85355 12.8536L7.5 8.20711L12.1464 12.8536C12.3417 13.0488 12.6583 13.0488 12.8536 12.8536C13.0488 12.6583 13.0488 12.3417 12.8536 12.1464L8.20711 7.5L12.8536 2.85355Z",fill:"currentColor"},child:[]}]})(e)}function ow(e){return ny({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M2 2.5C2 2.22386 2.22386 2 2.5 2H5.5C5.77614 2 6 2.22386 6 2.5C6 2.77614 5.77614 3 5.5 3H3V5.5C3 5.77614 2.77614 6 2.5 6C2.22386 6 2 5.77614 2 5.5V2.5ZM9 2.5C9 2.22386 9.22386 2 9.5 2H12.5C12.7761 2 13 2.22386 13 2.5V5.5C13 5.77614 12.7761 6 12.5 6C12.2239 6 12 5.77614 12 5.5V3H9.5C9.22386 3 9 2.77614 9 2.5ZM2.5 9C2.77614 9 3 9.22386 3 9.5V12H5.5C5.77614 12 6 12.2239 6 12.5C6 12.7761 5.77614 13 5.5 13H2.5C2.22386 13 2 12.7761 2 12.5V9.5C2 9.22386 2.22386 9 2.5 9ZM12.5 9C12.7761 9 13 9.22386 13 9.5V12.5C13 12.7761 12.7761 13 12.5 13H9.5C9.22386 13 9 12.7761 9 12.5C9 12.2239 9.22386 12 9.5 12H12V9.5C12 9.22386 12.2239 9 12.5 9Z",fill:"currentColor"},child:[]}]})(e)}const aw=n.p+"static/media/youtube.d724d338a49a1e126e70.png",lw=(0,e.createContext)(),cw=t=>{let{children:n}=t;const[r,i]=(0,e.useState)(!1),[s,o]=(0,e.useState)(""),[a,l]=(0,e.useState)(!1),[c,u]=(0,e.useState)(""),[d,h]=(0,e.useState)([]),[f,p]=(0,e.useState)([]),[m,g]=(0,e.useState)([]);return(0,Hv.jsx)(lw.Provider,{value:{searchedVideos:d,searchTerm:s,savedVideos:f,Error:a,showSidebar:r,ErrorMessage:c,setErrorMessage:u,setshowSidebar:i,setError:l,setsearchedVideos:h,GetData:e=>{kh(xd(bv,"videos"),(e=>{g(e.docs.map((e=>({data:e.data(),id:e.id}))))}));let t=e.toLowerCase().split(" ");return h(m.filter((e=>{var n,r,i,s;const o=null===(n=e.data)||void 0===n||null===(r=n.Title)||void 0===r?void 0:r.toLowerCase().split(" "),a=null===(i=e.data)||void 0===i||null===(s=i.description)||void 0===s?void 0:s.toLowerCase().split(" ");for(let l=0;l<(null===o||void 0===o?void 0:o.length)&&l<(null===a||void 0===a?void 0:a.length);l++)return o[l].includes(t[l])||a.includes(t[l])}))),d},setsaveVideos:p,setsearchTerm:o,FilteredVideos:(e,t)=>({FullLengthVideo:null===e||void 0===e?void 0:e.filter((e=>(console.log(e),t?!e.Videodata.shortVideo&&t!==e.id:!e.Videodata.shortVideo))),shortVideo:null===e||void 0===e?void 0:e.filter((e=>!0===e.Videodata.shortVideo))})},children:n})};const uw=function(t){const n=(0,e.useContext)(lw);return console.log(n),n.Error||n.ErrorMessage||(0,Hv.jsx)("div",{className:"error-page",children:(0,Hv.jsxs)("div",{className:"error-page-content",children:[(0,Hv.jsx)("img",{src:aw,alt:"NointernetPic"}),(0,Hv.jsxs)("p",{children:[t.ErrorMessage||n.ErrorMessage,"."]}),(0,Hv.jsx)("button",{children:"Retry"})]})})};const dw=function(t){const n=(0,e.useRef)(),r=(0,e.useRef)(),[i]=Ft(),s=i.get("v"),o=(0,e.useRef)(),a=(0,e.useRef)();let[l,c]=(0,e.useState)(!1),[u,d]=(0,e.useState)(0),[h,f]=(0,e.useState)(0),[p,m]=(0,e.useState)(0),[g,v]=(0,e.useState)(!1),[y,w]=(0,e.useState)(!0),[b,_]=(0,e.useState)(0),[x,S]=(0,e.useState)(0),[E,k]=(0,e.useState)(0),[C,T]=(0,e.useState)(0);const[I,N]=(0,e.useState)(null),[j,R]=(0,e.useState)(null);let[L,A]=(0,e.useState)(null),[D,P]=(0,e.useState)(!0);const[O,M]=(0,e.useState)(!1),[V,U]=(0,e.useState)(!1),[F,z]=(0,e.useState)(""),[B,H]=(0,e.useState)(!1),[W,q]=(0,e.useState)(null),[K,G]=(0,e.useState)(null);(0,e.useEffect)((()=>{var e;_(0),R(null),N(null);document.getElementById("myRange").value=0,(async()=>{P(!0);try{s&&kh(Sd(bv,"videos",s),(async e=>{e.exists()&&A(e.data())}))}catch(e){console.log(e),U(!0),z(e.message)}finally{P(!1)}})(),null===(e=o.current)||void 0===e||e.addEventListener("loadeddata",(()=>{var e;n.current.style.display="none",(null===(e=o.current)||void 0===e?void 0:e.readyState)>=3&&(o.current.play(),o.current.playsInline=!0,o.current.muted=!1,console.log(o.current.duration),n.current.style.display="block",r.current.value=100*o.current.volume,v(!1),w(!1))}))}),[s]),(0,e.useEffect)((()=>{var e;o.current&&(null===(e=o.current)||void 0===e||e.addEventListener("loadeddata",(()=>{console.log(null===L||void 0===L?void 0:L.Title),q(o.current.videoWidth),G(o.current.videoHeight)})))}),[o,s,L]),(0,e.useEffect)((()=>{const e=o.current,t=document.getElementsByClassName("video_section")[0];if(e&&!O){window.innerWidth<507?(N(window.innerWidth),R(I*(9/16))):window.innerWidth>=507&&window.innerWidth<990?(N("unset"),R((window.innerWidth-171)*(9/16)),e.style.margin="0 auto"):window.innerWidth>=990&&window.innerWidth<=1115?(K>480&&K<720?(N(640),R("unset"),t.style.height="306px",n.current.style.bottom="-40px"):K>720&&K<1080?(N(window.innerWidth-474),R(I/2),t.style.height=j+"px",n.current.style.bottom="-40px"):(N(640),R(360)),e.style.margin="unset"):window.innerWidth>1115&&window.innerWidth<=1754?(K>720&&K<1080?(N(window.innerWidth-474),R(I/2),t.style.height=j+"px",n.current.style.bottom="-37px"):(R(.5625*I),N(window.innerWidth-474),n.current.style.bottom="-30px"),e.style.margin="unset"):(K>720&&K<1080?(N(1280),R(640),t.style.height=j+"px"):(N(1280),R(720)),n.current.style.bottom="-57px");const r=()=>{e&&(window.innerWidth<507?(N(window.innerWidth),R(I*(9/16))):window.innerWidth>=507&&window.innerWidth<990?(N("unset"),R((window.innerWidth-171)*(9/16)),e.style.margin="0 auto"):window.innerWidth>=990&&window.innerWidth<=1115?(K>480&&K<720?(N(640),R("unset"),t.style.height="306px",n.current.style.bottom="-40px"):K>720&&K<1080?(N(window.innerWidth-474),R(I/2),t.style.height=j+"px",n.current.style.bottom="-40px"):(N(640),R(360)),e.style.margin="unset"):window.innerWidth>1115&&window.innerWidth<=1754?(K>720&&K<1080?(N(window.innerWidth-474),R(I/2),t.style.height=j+"px",n.current.style.bottom="-37px"):(R(.5625*I),N(window.innerWidth-474),n.current.style.bottom="-30px"),e.style.margin="unset"):(K>720&&K<1080?(N(1280),R(640),t.style.height=j+"px"):(N(1280),R(720)),n.current.style.bttom="-57px"))};return window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}}}),[I,j,s,K,W,O]);const Q=e=>{const t=e.target.duration;d(Math.floor(t%60)),f(Math.floor(t/60)%60),m(Math.floor(t/3600))},Y=()=>{w(!y),y?o.current.play():o.current.pause()},X=e=>{const t=e.target.currentTime;_(Math.floor(e.target.currentTime/e.target.duration*100)),S(Math.floor(t%60)),k(Math.floor(t/60)%60),T(Math.floor(t/3600)),a.current.value=b,b<100&&t===e.target.duration&&(a.current.value=b+1),t===e.target.duration?(w(!0),c(!0)):c(!1)},J=()=>{document.getElementById("wrapper").requestFullscreen(),M(!0)};(0,e.useEffect)((()=>{const e=document.getElementById("wrapper");O&&(e.style.display="flex",e.style.flexDirection="column",e.style.justifyContent="center",o.current.style.width="-webkit-fill-available !important",o.current.style.height="unset !important",o.current.style.borderRadius="0 !important")}),[O]);const $=e=>{o.current.currentTime=e.target.value*(o.current.duration/100)},Z=()=>{o.current.muted?(o.current.muted=!1,v(!1)):(o.current.muted=!0,v(!0))},ee=()=>{const e=document.getElementById("wrapper"),t=document.getElementById("currentVideo");document.fullscreenEnabled||(document.exitFullscreen(),e.style.display="unset",e.style.flexDirection="unset",e.style.justifyContent="unset",t.style.width=I,t.style.height=j,t.style.borderRadius="12px"),M(!1)},te=()=>{r.current.style.display="block"},ne=e=>{o.current.playbackRate=e,H(!1)};return(0,e.useEffect)((()=>{document.body.style.overflow=B?"hidden":"unset"}),[B]),!V||F?(0,Hv.jsxs)("div",{className:"video_section",style:t.src?{height:"320px !important"}:{width:I,height:j},children:[(0,Hv.jsxs)("div",{className:"video_top_controls",children:[(0,Hv.jsx)(Cy,{}),g?(0,Hv.jsx)(by,{onClick:Z}):(0,Hv.jsx)(iw,{onClick:Z})]}),(0,Hv.jsxs)("div",{id:"wrapper",children:[O&&(0,Hv.jsx)("div",{id:"fullscreenDiv",children:(0,Hv.jsx)("h1",{className:"fullscreenVideoTitle",children:L.Title})}),t.src?(0,Hv.jsx)("video",{src:t.src,poster:t.poster?t.poster:null,onLoadedData:Q,onTimeUpdate:X,ref:o,id:"currentVideo",style:{height:"300px",margin:" 0 auto !important"}}):(0,Hv.jsx)("div",{className:"videoContainer",children:(0,Hv.jsx)("video",{src:null===L||void 0===L?void 0:L.videoURL,poster:null===L||void 0===L?void 0:L.Thumbnail,onLoadedData:Q,onTimeUpdate:X,ref:o,id:"currentVideo",controls:!1,autoPlay:!0,playsInline:!0,preload:"yes",type:"video/mp4",muted:!0,style:{width:O?"100%":I,height:j}})}),(0,Hv.jsx)("div",{className:"middle_controls",children:(0,Hv.jsxs)("div",{children:[(0,Hv.jsx)(jy,{}),l?(0,Hv.jsx)(wy,{onClick:()=>{w(!1),o.current.play()}}):y?(0,Hv.jsx)(fy,{onClick:Y}):(0,Hv.jsx)(Iy,{onClick:Y}),(0,Hv.jsx)(Ny,{})]})}),(0,Hv.jsx)("div",{className:"below_controls",children:(0,Hv.jsxs)("div",{className:"small-screen-videoplayer-below_controls",children:[(0,Hv.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"},children:[(0,Hv.jsxs)("p",{children:[(0,Hv.jsx)("span",{children:E+":"+x.toString().padStart(2,0)})," ","/"," ",(0,Hv.jsx)("span",{children:0!==p?p+":"+h+":"+u.toString().padStart(2,0):h+":"+u.toString().padStart(2,0)})]}),O?(0,Hv.jsx)(Uy,{onClick:ee}):(0,Hv.jsx)(ow,{onClick:J})]}),(0,Hv.jsx)("input",{type:"range",min:0,max:100,value:b,ref:a,style:{width:"100%",accentColor:"red"},onChange:$,id:"myRange"})]})}),(0,Hv.jsxs)("div",{className:"large-screen-video-below-controls",ref:n,style:{bottom:O?"0px":null},children:[B&&(0,Hv.jsx)(Hv.Fragment,{children:(0,Hv.jsxs)("div",{className:"playBackSpeedModal",children:[(0,Hv.jsx)("div",{className:"playBackSpeedModalHeader",children:(0,Hv.jsxs)("div",{children:[(0,Hv.jsx)(Vy,{onClick:()=>H(!1)}),(0,Hv.jsx)("p",{children:"Playback Speed"})]})}),(0,Hv.jsxs)("div",{className:"options",children:[(0,Hv.jsx)("p",{onClick:()=>ne(.25),children:"0.25"}),(0,Hv.jsx)("p",{onClick:()=>ne(.5),children:"0.5"}),(0,Hv.jsx)("p",{onClick:()=>ne(.75),children:"0.75"}),(0,Hv.jsx)("p",{onClick:()=>ne(1),children:"Normal Speed"}),(0,Hv.jsx)("p",{onClick:()=>ne(1.25),children:"1.25"}),(0,Hv.jsx)("p",{onClick:()=>ne(1.5),children:"1.5"}),(0,Hv.jsx)("p",{onClick:()=>ne(1.75),children:"1.75"}),(0,Hv.jsx)("p",{onClick:()=>ne(2),children:"2"})]})]})}),(0,Hv.jsx)("input",{type:"range",min:0,max:100,value:b,ref:a,style:{width:"100%"},onChange:$,id:"myRange"}),(0,Hv.jsxs)("div",{className:"bottom-toggle-buttons",children:[(0,Hv.jsxs)("div",{className:"bottom-toggle-buttons-left",onMouseLeave:()=>{r.current.style.display="none"},children:[y?(0,Hv.jsx)(fy,{onClick:Y}):(0,Hv.jsx)(Iy,{onClick:Y}),g?(0,Hv.jsx)(by,{onClick:Z,onMouseEnter:te}):(0,Hv.jsx)(iw,{onClick:Z,onMouseEnter:te}),(0,Hv.jsx)("input",{type:"range",name:"",id:"volume-range",min:0,max:100,step:1,ref:r,style:{display:"none",width:t.src&&"30%"},onChange:e=>{const t=parseFloat((e.target.value/100).toFixed(1));o.current.volume=t}}),(0,Hv.jsxs)("p",{style:{width:"110px",textAlign:"center"},children:[(0,Hv.jsx)("span",{children:E+":"+x.toString().padStart(2,0)})," ","/"," ",(0,Hv.jsx)("span",{children:0!==p?p+":"+h+":"+u.toString().padStart(2,0):h+":"+u.toString().padStart(2,0)})]})]}),(0,Hv.jsxs)("div",{className:"bottom-toggle-buttons-right",children:[(0,Hv.jsx)(Ly,{onClick:()=>{o.current.requestPictureInPicture()}}),(0,Hv.jsx)(my,{onClick:()=>H(!0)}),O?(0,Hv.jsx)(Uy,{onClick:ee}):(0,Hv.jsx)(ow,{onClick:J})]})]})]})]})]}):(0,Hv.jsx)(uw,{ErrorMessage:F})};const hw=function(){rt();let[t,n]=(0,e.useState)("");const[r,i]=(0,e.useState)();let s=(0,e.useRef)();const o=(0,e.useRef)();let[a,l]=(0,e.useState)(!1),[c,u]=(0,e.useState)(""),[d,h]=(0,e.useState)(""),[f,p]=(0,e.useState)(!1),[m,g]=(0,e.useState)(!1),v=sessionStorage.getItem("Description"),y=sessionStorage.getItem("commentMode");const w=(0,e.useContext)(nw),b=(0,e.useRef)(null);let[_,x]=(0,e.useState)(),[S,E]=(0,e.useState)();const k=(0,e.useRef)(null);return(0,e.useEffect)((()=>{(async()=>{i((await wh(Sd(bv,"users",xv.currentUser.uid))).data())})()}),[]),(0,e.useEffect)((()=>{console.log(r)}),[r]),m?(0,Hv.jsx)(vw,{}):!1===a?f?(0,Hv.jsx)(Hy,{}):(0,Hv.jsxs)("div",{className:"uploadVideo",children:[(0,Hv.jsx)(cy,{className:"close_page_icon"}),(0,Hv.jsx)("input",{type:"file",accept:"video/*",onChange:e=>{x(e.target.files[0]),n(URL.createObjectURL(e.target.files[0]))},ref:b,hidden:!0}),""!==t?(0,Hv.jsxs)("div",{className:"Preview_video",children:[(0,Hv.jsx)("div",{ref:o,children:(0,Hv.jsx)(dw,{src:t,poster:c,id:"videplayer"})}),w.Videoprogress>0?(0,Hv.jsx)("button",{className:"select_file",onClick:()=>b.current.click(),disabled:!0,style:{opacity:"0.3"},children:"Select File"}):(0,Hv.jsx)("button",{className:"select_file",onClick:()=>b.current.click(),children:"Select File"}),(0,Hv.jsx)("div",{className:"uploadVideoProgress",children:(0,Hv.jsx)("p",{className:"text-white",style:{width:w.Videoprogress+"%"}})}),(0,Hv.jsxs)("p",{children:[w.Videoprogress,"%"]})]}):(0,Hv.jsxs)("div",{className:"video_upload_top_section",children:[(0,Hv.jsx)("div",{className:"uploadIcon_wrapper",onClick:()=>b.current.click(),children:(0,Hv.jsx)(Ry,{})}),(0,Hv.jsx)("p",{children:"Select Video to upload"}),(0,Hv.jsx)("button",{className:"select_file",onClick:()=>b.current.click(),children:"Select File"})]}),(0,Hv.jsx)("div",{className:"input_title_section",children:(0,Hv.jsx)("input",{type:"text",name:"video_title",id:"Title",placeholder:"Create Title For video",onChange:e=>h(e.target.value)})}),(0,Hv.jsxs)("div",{className:"description_section",onClick:()=>l(!0),children:[(0,Hv.jsx)(Fy,{className:"menu"}),(0,Hv.jsxs)("div",{children:[(0,Hv.jsx)("h5",{children:"Description"}),(0,Hv.jsx)("p",{className:"description_text",children:""!==v?v:"Use the vw unit when sizing the text. 10vw will set the size to 10% of the viewport width."})]})]}),(0,Hv.jsxs)("div",{className:"video_thumbnail",children:[(0,Hv.jsx)("h5",{children:"Thumbnail"}),(0,Hv.jsx)("p",{children:"Set a thumbnail that stands out and draws viewers' attention."}),(0,Hv.jsxs)("div",{className:"thumbnail_picker_div",children:[""!==c?(0,Hv.jsx)("img",{src:c,alt:c,ref:s,onClick:()=>k.current.click()}):(0,Hv.jsx)(qy,{onClick:()=>k.current.click()}),(0,Hv.jsx)("input",{type:"file",hidden:!0,ref:k,onChange:e=>{""!==t?(u(URL.createObjectURL(e.target.files[0])),E(e.target.files[0])):alert("First Select Video")}})]})]}),(0,Hv.jsxs)("div",{className:"comment_mode",children:[(0,Hv.jsx)(Oy,{}),(0,Hv.jsxs)("div",{onClick:()=>p(!0),children:[(0,Hv.jsx)("h5",{children:"Comments"}),(0,Hv.jsx)("p",{children:y})]}),f?(0,Hv.jsx)(Hy,{}):null]}),(0,Hv.jsx)("div",{className:"btn_div",children:w.Videoprogress>0?(0,Hv.jsx)("button",{className:"select_file",disabled:!0,style:{opacity:"0.3"},children:"Uploding Video..."}):(0,Hv.jsx)("button",{className:"select_file",onClick:async()=>{try{const e=sessionStorage.getItem("commentMode"),t=o.current.firstChild.firstChild.nextElementSibling.childNodes[0];let n=o.current.firstChild.firstChild.nextElementSibling.childNodes[0].duration,i=null;const s=Math.floor(n%60),a=Math.floor(n/60)%60;a>=1?i=!1:(1===a||s<=60)&&(i=!0),w.uploadVideoFunc(S,_,d,v,i,r,e,t)}catch(e){console.log(e)}},children:"Upload Video"})})]}):(0,Hv.jsx)(By,{})};function fw(e){return ny({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M16 5H4V7H16V5Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M16 9H4V11H16V9Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M4 13H12V15H4V13Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M20 16L14 13V19L20 16Z",fill:"currentColor"},child:[]}]})(e)}function pw(e){return ny({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}const mw=n.p+"static/media/sign_in_promo.93952db87d99606e47d6.png";const gw=function(){return(0,Hv.jsxs)("div",{className:"notSignedIn",children:[(0,Hv.jsxs)("div",{className:"top",children:[(0,Hv.jsx)(Gy,{}),(0,Hv.jsx)("div",{children:"Sign In"})]}),(0,Hv.jsxs)("div",{className:"body",children:[(0,Hv.jsx)("img",{src:mw,alt:""}),(0,Hv.jsxs)("div",{className:"promo_content",children:[(0,Hv.jsx)("p",{className:"promo_title",children:"You're not signed in"}),(0,Hv.jsx)("p",{className:"promo_subtitle",children:"Sign in now to upload, save and comment on videos"}),(0,Hv.jsx)("button",{className:"promo_btn",onClick:async()=>{let e=new pp;await tm(xv,e).then((async e=>{console.log(e);let t=Sd(bv,"users",e.user.uid);const n={uid:e.user.uid,name:e.user.displayName,email:e.user.email,channelURL:e.user.photoURL,subscribers:0,Time:new Date};await xh(t,n),console.log("Document Created Successfully")})).catch((e=>{console.log(e)}))},children:"Sign In"})]})]})]})};const vw=function(){var t,n,r,i;const s=(0,e.useContext)(Wv),o=(0,e.useRef)();let[a,l]=(0,e.useState)(!1),[c,u]=(0,e.useState)(null);const[d,h]=(0,e.useState)(!1),[f,p]=(0,e.useState)(!0),[m,g]=(0,e.useState)([]),[v,y]=(0,e.useState)([]),[w,b]=(0,e.useState)(!1),[_,x]=(0,e.useState)(!1);(0,e.useEffect)((()=>{xv.onAuthStateChanged((e=>{u(e),console.log(e)}))}),[]),(0,e.useEffect)((()=>{(async()=>{try{if(p(!0),c){const e=Sd(bv,"users",null===c||void 0===c?void 0:c.uid),t=await wh(e);t.data()&&kh(xd(bv,"users/".concat(null===c||void 0===c?void 0:c.uid,"/LV")),(async e=>{const n=await Promise.all(e.docs.map((async e=>{const t=Sd(bv,"videos",e.id),n=await wh(t);return{videoId:t.id,Videodata:n.data()}}),(e=>{b(!0),x(e.message),console.log(e)})));g({LikedVideos:n,user:t.data()})}))}p(!1)}catch(w){console.log(w),b(!0),x(w.message),p(!1)}})()}),[c]),(0,e.useEffect)((()=>{(async()=>{try{if(p(!0),c){const e=Sd(bv,"users",null===c||void 0===c?void 0:c.uid),t=await wh(e);kh(xd(bv,"users/".concat(null===c||void 0===c?void 0:c.uid,"/WL")),(async e=>{const n=await Promise.all(e.docs.map((async e=>{const t=Sd(bv,"videos",e.id),n=await wh(t);return{videoId:t.id,Videodata:n.data()}})));y({Watchlater:n,user:t.data()})}))}p(!1)}catch(w){console.log(w),p(!1)}})()}),[c]),(0,e.useEffect)((()=>{console.log(v)}),[v]);const S=()=>{l(!0)};return a?(0,Hv.jsx)(rw,{children:(0,Hv.jsx)(hw,{})}):c?w&&_?(0,Hv.jsx)(uw,{ErrorMessage:_}):(0,Hv.jsxs)("div",{className:"libraryPage",children:[(0,Hv.jsx)("div",{className:"watched_Videos",children:(0,Hv.jsx)(vy,{})}),m.LikedVideos&&m.LikedVideos.length>0&&(0,Hv.jsx)(Hv.Fragment,{children:(0,Hv.jsxs)("div",{className:"playlists",children:[(0,Hv.jsx)("div",{className:"playlist-header",children:(0,Hv.jsx)("h3",{children:"Playlists"})}),(0,Hv.jsxs)("div",{className:"playlists-cards",children:[f?(0,Hv.jsx)("p",{children:"Loading..."}):m.LikedVideos&&(0,Hv.jsx)("div",{className:"playlist-card",children:(0,Hv.jsx)(Mt,{to:"/playlist?list=LV",children:(0,Hv.jsx)("div",{class:"thumbnail",children:m.LikedVideos&&(0,Hv.jsxs)(Hv.Fragment,{children:[(0,Hv.jsx)("img",{src:null===(t=m.LikedVideos[0])||void 0===t?void 0:t.Videodata.Thumbnail,alt:""}),(0,Hv.jsxs)("div",{className:"overlay",children:[(0,Hv.jsx)(xy,{style:{fontsize:"1.5rem"}}),(0,Hv.jsx)("p",{children:"Liked Videos"}),(0,Hv.jsxs)("span",{className:"video-count",children:[(0,Hv.jsx)(fw,{}),m.LikedVideos.length," ",m.LikedVideos.length>1?"videos":"video"," "]})]})]})})})}),f?(0,Hv.jsx)("p",{children:"Loading..."}):v.Watchlater&&(0,Hv.jsx)("div",{class:"playlist-card",children:(0,Hv.jsx)(Mt,{to:"/playlist?list=WL",children:(0,Hv.jsx)("div",{className:"thumbnail",children:(0,Hv.jsxs)(Hv.Fragment,{children:[(0,Hv.jsx)("img",{src:v.Watchlater[0].Videodata.Thumbnail,alt:""}),(0,Hv.jsxs)("div",{className:"overlay",children:[(0,Hv.jsx)(pw,{style:{fontsize:"1.5rem"}}),(0,Hv.jsx)("p",{children:"Watch Later Videos"}),(0,Hv.jsxs)("span",{className:"video-count",children:[(0,Hv.jsx)(fw,{}),null===(n=v.Watchlater)||void 0===n?void 0:n.length," ",(null===(r=v.Watchlater)||void 0===r?void 0:r.length)>1?"videos":"video"," "]})]})]})})})})]})]})}),(0,Hv.jsxs)("div",{className:"createVideo",children:[(0,Hv.jsxs)("a",{href:"#",children:[(0,Hv.jsx)(yy,{}),(0,Hv.jsx)("p",{children:"Your Videos"})]}),(0,Hv.jsxs)("a",{href:"#",children:[(0,Hv.jsx)(Py,{onClick:S}),(0,Hv.jsx)("p",{onClick:S,children:"Create Video"})]})]}),m.LikedVideos&&m.LikedVideos.length>0&&(0,Hv.jsx)(Hv.Fragment,{children:(0,Hv.jsxs)("div",{className:"Shelf",children:[(0,Hv.jsxs)("div",{className:"Shelf-header",children:[(0,Hv.jsxs)("h3",{children:["Liked Videos ",(0,Hv.jsx)("span",{style:{color:"#8e9493"},children:m.LikedVideos.length})]}),(0,Hv.jsx)(Mt,{to:"/playlist?list=LV",children:"View all"})]}),(0,Hv.jsx)("div",{id:"contents",ref:o,children:m&&m.LikedVideos.slice(0,6).map(((e,t)=>{var n,r,i;return(0,Hv.jsxs)("div",{id:"video",children:[(0,Hv.jsx)(Mt,{to:"/watch?v=".concat(null===e||void 0===e?void 0:e.videoId),children:(0,Hv.jsxs)("div",{id:"thumbnail_container",children:[(0,Hv.jsx)("img",{src:null===(n=e.Videodata)||void 0===n?void 0:n.Thumbnail,alt:"",className:"video"}),(0,Hv.jsx)("p",{className:"videoLength",children:s.returnvideoTime(e.Videodata.videoLength)})]})}),(0,Hv.jsx)("div",{className:"video_bottom",children:(0,Hv.jsx)("div",{className:"video_bttom_left",children:(0,Hv.jsxs)("div",{className:"video_title_and_channelName",children:[(0,Hv.jsx)("h3",{id:"video_title",className:"title",children:null===(r=e.Videodata)||void 0===r?void 0:r.Title}),(0,Hv.jsx)("div",{children:(0,Hv.jsxs)("p",{children:[null===(i=m.user)||void 0===i?void 0:i.name," \u2022 ",e.Videodata.views," Views \u2022 ",s.getVideoPublishedTime(e)]})})]})})})]},t)}))}),m.LikedVideos.length>=5&&(0,Hv.jsx)("div",{className:"forwardIcon",style:{display:d?"none":"block"},onClick:e=>{o.current.scrollBy({left:847,behavior:"smooth"}),h(!0)},children:(0,Hv.jsx)(oy,{})}),(0,Hv.jsx)("div",{className:"backwardIcon",style:{display:d?"block":"none"},onClick:e=>{o.current.scrollBy({left:-847,behavior:"smooth"}),h(!1)},children:(0,Hv.jsx)(iy,{})})]})}),v.Watchlater&&v.Watchlater.length>0&&(0,Hv.jsxs)("div",{className:"Shelf",children:[(0,Hv.jsxs)("div",{className:"Shelf-header",children:[(0,Hv.jsxs)("h3",{children:["Watch later ",(0,Hv.jsx)("span",{style:{color:"#8e9493"},children:null===v||void 0===v||null===(i=v.Watchlater)||void 0===i?void 0:i.length})]}),(0,Hv.jsx)(Mt,{to:"/playlist?list=WL",children:"View all"})]}),(0,Hv.jsx)("div",{id:"contents",children:v.Watchlater&&v.Watchlater.slice(0,6).map(((e,t)=>{var n,r,i,o;return(0,Hv.jsxs)("div",{id:"video",children:[(0,Hv.jsx)(Mt,{to:"/watch?v=".concat(null===(n=e.Videodata)||void 0===n?void 0:n.videoId),children:(0,Hv.jsxs)("div",{id:"thumbnail_container",children:[(0,Hv.jsx)("img",{src:null===(r=e.Videodata)||void 0===r?void 0:r.Thumbnail,alt:"",className:"video"}),(0,Hv.jsx)("p",{className:"videoLength",children:s.returnvideoTime(e.Videodata.videoLength)})]})}),(0,Hv.jsx)("div",{className:"video_bottom",children:(0,Hv.jsx)("div",{className:"video_bttom_left",children:(0,Hv.jsxs)("div",{className:"video_title_and_channelName",children:[(0,Hv.jsx)("h3",{id:"video_title",className:"title",children:null===(i=e.Videodata)||void 0===i?void 0:i.Title}),(0,Hv.jsx)("div",{children:(0,Hv.jsxs)("p",{children:[null===(o=v.user)||void 0===o?void 0:o.name," \u2022 ",e.Videodata.views," Views \u2022 ",s.getVideoPublishedTime(e)]})})]})})})]},t)}))})]})]}):(0,Hv.jsx)(gw,{})};function yw(e){return ny({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m18.931 9.99-1.441-.601 1.717-.913a4.48 4.48 0 0 0 1.874-6.078 4.506 4.506 0 0 0-6.09-1.874L4.792 5.929a4.504 4.504 0 0 0-2.402 4.193 4.521 4.521 0 0 0 2.666 3.904c.036.012 1.442.6 1.442.6l-1.706.901a4.51 4.51 0 0 0-2.369 3.967A4.528 4.528 0 0 0 6.93 24c.725 0 1.437-.174 2.08-.508l10.21-5.406a4.494 4.494 0 0 0 2.39-4.192 4.525 4.525 0 0 0-2.678-3.904ZM9.597 15.19V8.824l6.007 3.184z"},child:[]}]})(e)}const ww=function(){var t;let[n,r]=(0,e.useState)(null),[i,s]=(0,e.useState)([]);const[o,a]=(0,e.useState)(!1),[l,c]=(0,e.useState)([]);return(0,e.useEffect)((()=>{xv.onAuthStateChanged((e=>{r(e)}))}),[]),(0,e.useEffect)((()=>{a(!0);try{kh(xd(bv,"videos"),(async e=>{const t=await Promise.all(e.docs.map((async e=>{const t=Sd(bv,"users",e.data().createdBy),n=await wh(t);return{id:e.id,Videodata:e.data(),UserData:n.data()}})));s(t)}))}catch(e){console.log(e)}finally{a(!1)}}),[]),(0,e.useEffect)((()=>{c(i.filter((e=>!0===e.Videodata.shortVideo)))}),[i]),(0,Hv.jsxs)("div",{className:"footer",children:[(0,Hv.jsxs)(Mt,{to:"/youtube-clone",children:[(0,Hv.jsx)(uy,{}),(0,Hv.jsx)("p",{children:"Home"})]}),o?(0,Hv.jsxs)(Mt,{to:"/",children:[(0,Hv.jsx)(yw,{}),(0,Hv.jsx)("p",{children:"Shorts"})]}):(0,Hv.jsxs)(Mt,{to:"/short/".concat(null===(t=l[0])||void 0===t?void 0:t.id),children:[(0,Hv.jsx)(yw,{}),(0,Hv.jsx)("p",{children:"Shorts"})]}),n?(0,Hv.jsxs)("a",{href:"#",children:[(0,Hv.jsx)(Dy,{}),(0,Hv.jsx)("p",{children:"Subscriptions"})]}):null,(0,Hv.jsx)(Mt,{to:"/Library",children:n?(0,Hv.jsxs)(Hv.Fragment,{children:[(0,Hv.jsx)("img",{src:n.photoURL,alt:"user-pic",style:{height:"20px",width:"20px",borderRadius:"50%"}}),(0,Hv.jsx)("p",{children:"You"})]}):(0,Hv.jsxs)(Hv.Fragment,{children:[(0,Hv.jsx)(Ty,{}),(0,Hv.jsx)("p",{children:"Library"})]})})]})};function bw(e){return ny({tag:"svg",attr:{version:"1.1",id:"search",x:"0px",y:"0px",viewBox:"0 0 24 24",style:"enable-background:new 0 0 24 24;"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M20.031,20.79c0.46,0.46,1.17-0.25,0.71-0.7l-3.75-3.76c1.27-1.41,2.04-3.27,2.04-5.31\n\t\tc0-4.39-3.57-7.96-7.96-7.96s-7.96,3.57-7.96,7.96c0,4.39,3.57,7.96,7.96,7.96c1.98,0,3.81-0.73,5.21-1.94L20.031,20.79z\n\t\t M4.11,11.02c0-3.84,3.13-6.96,6.96-6.96c3.84,0,6.96,3.12,6.96,6.96c0,3.84-3.12,6.96-6.96,6.96C7.24,17.98,4.11,14.86,4.11,11.02\n\t\tz"},child:[]}]}]})(e)}const _w=function(){const t=rt(),n=(0,e.useContext)(lw);let[r,i]=(0,e.useState)(!0);const[s,o]=(0,e.useState)(""),[a,l]=(0,e.useState)([]);return(0,e.useEffect)((()=>{const e=JSON.parse(sessionStorage.getItem("inputData"));e&&o(null===e||void 0===e?void 0:e.searchTerm)}),[]),(0,Hv.jsx)(Hv.Fragment,{children:!0===r?(0,Hv.jsxs)("div",{className:"search_container",children:[(0,Hv.jsx)(ay,{onClick:()=>{i(!1),document.body.style.overflow="visible"}}),(0,Hv.jsx)("input",{type:"text",name:"search",id:"search_input",value:s,placeholder:"Search Youtube",onChange:e=>{o(e.target.value);const t=n.GetData(s);sessionStorage.setItem("inputData",JSON.stringify({searchTerm:e.target.value,searchedVideos:t})),l(t)},onKeyDown:e=>{if(console.log(e),"Enter"===e.code||13===e.keyCode){e.preventDefault(),n.setsearchTerm(s);const r=n.GetData(s);sessionStorage.setItem("inputData",JSON.stringify({searchTerm:s,searchedVideos:r})),t({pathname:"/results",search:xt({v:s}).toString()}),i(!1),l([]),document.body.style.overflow="scroll"}}}),(0,Hv.jsx)(bw,{className:"right_search_icon"}),a&&(0,Hv.jsx)("div",{className:"search_Results",children:a&&a.map(((e,t)=>(console.log(e),(0,Hv.jsx)("div",{className:"search_result",children:(0,Hv.jsxs)(Mt,{to:"/watch/".concat(e.id),onClick:()=>{i(!1),document.body.style.overflowY="scroll"},children:[(0,Hv.jsx)("p",{children:e.data.Title}),(0,Hv.jsx)(py,{})]})},t))))})]}):(0,Hv.jsx)(kw,{})})};const xw=function(){const t=rt();let[n,r]=(0,e.useState)(!0),[i,s]=(0,e.useState)(null);return(0,e.useEffect)((()=>{xv.onAuthStateChanged((async e=>{s(e)}))}),[]),(0,Hv.jsx)(Hv.Fragment,{children:!1===n?(0,Hv.jsx)(_w,{}):(0,Hv.jsx)(Hv.Fragment,{children:(0,Hv.jsxs)("div",{className:"header",children:[(0,Hv.jsxs)("div",{className:"left_side",children:[(0,Hv.jsx)(dy,{id:"menu"}),(0,Hv.jsx)("img",{src:aw,alt:"logo",id:"logo",onClick:()=>t("/youtube-clone")})]}),(0,Hv.jsx)("div",{className:"center"}),(0,Hv.jsxs)("div",{className:"right_side",children:[(0,Hv.jsx)(bw,{id:"search_logo",onClick:()=>{r(!1),document.body.style.overflow="hidden",console.log("clicked")}}),i?(0,Hv.jsx)("img",{src:null===i||void 0===i?void 0:i.photoURL,alt:"profileImg",onClick:()=>xv.signOut()}):(0,Hv.jsx)(Gy,{className:"FaRegUserCircle",onClick:async()=>{let e=new pp;await tm(xv,e).then((async e=>{console.log(e);let t=Sd(bv,"users",e.user.uid);const n={uid:e.user.uid,name:e.user.displayName,email:e.user.email,channelPic:e.user.photoURL,subscribers:0,Time:new Date};(await wh(t)).exists()||(await xh(t,n),console.log("Document Created Successfully"))})).catch((e=>{console.log(e)}))}})]})]})})})};function Sw(e){return ny({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M250.83,74.71a6,6,0,0,0-6.16.3L206,100.79V72a14,14,0,0,0-14-14H32A14,14,0,0,0,18,72V184a14,14,0,0,0,14,14H192a14,14,0,0,0,14-14V155.21L244.67,181a6,6,0,0,0,9.33-5V80A6,6,0,0,0,250.83,74.71ZM194,184a2,2,0,0,1-2,2H32a2,2,0,0,1-2-2V72a2,2,0,0,1,2-2H192a2,2,0,0,1,2,2Zm48-19.21-36-24V115.21l36-24Z"},child:[]}]})(e)}const Ew=()=>{const t=(0,e.useContext)(lw),n=(0,e.useRef)(null),[r,i]=(0,e.useState)(""),[s,o]=(0,e.useState)(!0),[a,l]=(0,e.useState)(!1),[c,u]=(0,e.useState)([]),d=rt(),h=(0,e.useRef)(),[f,p]=(0,e.useState)(null),[m,g]=(0,e.useState)(null),[v,y]=(0,e.useState)([]);(0,e.useEffect)((()=>{xv.onAuthStateChanged((async e=>{p(e)}))}),[xv]),(0,e.useEffect)((()=>{const e=JSON.parse(sessionStorage.getItem("inputData"));e&&i(null===e||void 0===e?void 0:e.searchTerm)}),[]);(0,e.useEffect)((()=>{i(r)}),[r]);(0,e.useEffect)((()=>{(async()=>{t.setError(!0);try{const e=Sd(bv,"users/".concat(null===f||void 0===f?void 0:f.uid)),n=(await wh(e)).data();g(n),t.setError(!1)}catch(e){t.setError(!0),t.setErrorMessage(e.message)}})()}),[f]);return window.addEventListener("click",(e=>{const t=document.querySelector(".notifications"),n=document.querySelector(".notificationIcon"),r=document.querySelector(".notification-badge");t&&(t.contains(e.target)||e.target===r||e.target===n||l(!1))})),(0,Hv.jsxs)("div",{className:"large-screen-Navbar",children:[(0,Hv.jsx)("div",{className:"large-screennavbar-left",children:(0,Hv.jsx)("img",{src:aw,alt:"logo",onClick:()=>{d("/youtube-clone"),t.setshowSidebar(!t.showSidebar)}})}),(0,Hv.jsxs)("div",{className:"large-screennavbar-center",children:[(0,Hv.jsx)("input",{type:"text",name:"",id:"search-term",ref:n,placeholder:"search here",value:r,onChange:e=>{i(e.target.value);const n=t.GetData(r);sessionStorage.setItem("inputData",JSON.stringify({searchTerm:r,searchedVideos:n})),y(n)},onKeyDown:e=>{if("Enter"===e.key){e.preventDefault(),t.setsearchTerm(r);const n=t.GetData(r);sessionStorage.setItem("inputData",JSON.stringify({searchTerm:r,searchedVideos:n})),d({pathname:"/results",search:xt({v:r}).toString()}),y([])}else"Backspace"===e.key&&""===r&&y([])}}),(0,Hv.jsx)("button",{children:(0,Hv.jsx)(bw,{onClick:()=>{if(r){t.setsearchTerm(r);const e=t.GetData(r);sessionStorage.setItem("inputData",JSON.stringify({searchTerm:r,searchedVideos:e})),d({pathname:"/results",search:xt({v:r}).toString()}),y([])}}})}),v&&v.length>0&&(0,Hv.jsx)("div",{className:"results",ref:h,children:v&&v.map(((e,t)=>(0,Hv.jsxs)("div",{id:"result",children:[(0,Hv.jsx)(bw,{}),(0,Hv.jsx)(Mt,{style:{color:"white"},to:e.data.shortVideo?"/short/".concat(e.id):"/watch/".concat(e.id),children:e.data.Title})]},t)))})]}),(0,Hv.jsxs)("div",{className:"large-screennavbar-right",children:[f&&(0,Hv.jsx)(Sw,{onClick:()=>d("/uploadVideo")}),(0,Hv.jsx)(hy,{onClick:()=>{o(!0);try{kh(xd(bv,"users/".concat(null===f||void 0===f?void 0:f.uid,"/NewVideos")),(async e=>{const t=await Promise.all(e.docs.map((async e=>{var t;const n=Sd(bv,"videos",e.data().Videoid),r=await wh(n);if(void 0!==(null===(t=r.data())||void 0===t?void 0:t.createdBy)){var i;const e=Sd(bv,"users",null===(i=r.data())||void 0===i?void 0:i.createdBy),t=await wh(e);return{videoId:r.id,videoData:r.data(),userData:t.data()}}})));u(t)})),o(!1)}catch(e){console.log(e)}finally{l(!a)}},className:"notificationIcon"}),(null===m||void 0===m?void 0:m.Numberofvideos)&&((null===m||void 0===m?void 0:m.Numberofvideos)>0&&(null===m||void 0===m?void 0:m.Numberofvideos)<10?(0,Hv.jsx)("span",{className:"notification-badge",children:null===m||void 0===m?void 0:m.Numberofvideos}):(0,Hv.jsx)("span",{className:"notification-badge",children:"9+"})),a&&(0,Hv.jsxs)("div",{className:"notifications",children:[(0,Hv.jsx)("div",{className:"notifications-top",children:(0,Hv.jsx)("h4",{children:"Notifications"})}),s?(0,Hv.jsx)("p",{children:"Loading..."}):c&&c.filter((e=>void 0!==e)).map(((e,t)=>{var n,r,i;return(0,Hv.jsxs)("div",{className:"notification",children:[(0,Hv.jsx)("img",{src:null===e||void 0===e||null===(n=e.userData)||void 0===n?void 0:n.channelPic,alt:"channelpic",style:{width:"40px",height:"40px",borderRadius:"50%"}}),(0,Hv.jsx)("div",{style:{minWidth:"271px"},children:(0,Hv.jsxs)(Mt,{to:"/watch?v=".concat(null===e||void 0===e?void 0:e.videoId),children:[" ",(0,Hv.jsx)("p",{className:"video-title",children:null===e||void 0===e||null===(r=e.videoData)||void 0===r?void 0:r.Title}),(0,Hv.jsx)("p",{children:"4 hours ago"})]})}),(0,Hv.jsx)("img",{src:null===e||void 0===e||null===(i=e.videoData)||void 0===i?void 0:i.Thumbnail,alt:"video-thumbnail",className:"video-thumbnail"})]},t)}))]}),f?(0,Hv.jsx)("img",{src:null===f||void 0===f?void 0:f.photoURL,alt:"profileImg",onClick:()=>xv.signOut()}):(0,Hv.jsx)(Gy,{className:"FaRegUserCircle",onClick:async()=>{let e=new pp;await tm(xv,e).then((async e=>{console.log(e);let t=Sd(bv,"users",e.user.uid);const n={uid:e.user.uid,name:e.user.displayName,email:e.user.email,channelPic:e.user.photoURL,subscribers:0,Time:new Date};(await wh(t)).exists()||(await xh(t,n),console.log("Document Created Successfully"))})).catch((e=>{console.log(e)}))}})]})]})};const kw=function(){const[t,n]=(0,e.useState)();return(0,e.useEffect)((()=>{n(window.innerWidth),window.onresize=()=>{n(window.innerWidth)}}),[t]),(0,Hv.jsx)(Hv.Fragment,{children:(0,Hv.jsx)(cw,{children:t<991?(0,Hv.jsx)("div",{className:"small-screen-navbar",children:(0,Hv.jsx)(xw,{})}):(0,Hv.jsxs)("div",{className:"large-screen-navbar",children:[" ",(0,Hv.jsx)(Ew,{})]})})})};const Cw=function(t){const[n,r]=(0,e.useState)(),i=(0,e.useRef)(0),s=(0,e.useRef)(0),o=(0,e.useRef)(),[a,l]=(0,e.useState)(),[c,u]=(0,e.useState)(!1),d=(0,e.useContext)(Wv),[h]=Ft(),f=h.get("v"),p=it();(0,e.useEffect)((()=>{if(d.Description){(async()=>{try{kh(Sd(bv,"videos",f||p.id),(async e=>{if(e.exists()){r(e.data());kh(Sd(bv,"users",e.data().createdBy),(e=>{e.exists()&&l(e.data())}))}}))}catch(e){console.log(e),document.write(e)}})()}}),[f]);const m=e=>e.replace(/(https?:\/\/[^\s]+)/g,(function(e){return e.includes("youtube")?'<div style="display:flex;align-items:center;background-color: rgba(255, 255, 255, 0.102);width: fit-content;border-radius: 12px;padding: 0px 7px;"><img src="https://www.gstatic.com/youtube/img/watch/yt_favicon.png" style="height:13px">\u2022<a href='.concat(e,">").concat(e,"</a></div>"):e.toLowerCase().includes("facebook")?'<div style="display:flex;align-items:center;background-color: rgba(255, 255, 255, 0.102);width: fit-content;border-radius: 12px;padding: 0px 7px;"><img src="https://www.gstatic.com/youtube/img/watch/social_media/facebook_1x.png" style="height:13px">\u2022<a href='.concat(e,">").concat(e,"</a></div>"):e.toLowerCase().includes("instagram")?'<div style="display:flex;align-items:center;background-color: rgba(255, 255, 255, 0.102);width: fit-content;border-radius: 12px;padding: 0px 7px;"><img src="https://www.gstatic.com/youtube/img/watch/social_media/instagram_1x.png" style="height:13px">\u2022<a href='.concat(e,">").concat(e,"</a></div>"):'<div style="display:flex;align-items:center;background-color: rgba(255, 255, 255, 0.102);width: fit-content;border-radius: 12px;padding: 0px 7px;"><a href='.concat(e,">").concat(e,"</a></div>")}));return(0,Hv.jsx)(Hv.Fragment,{children:d.Description&&(0,Hv.jsxs)("div",{id:"description_page",ref:o,style:t.isshortVideo?{top:"35%"}:{transform:"translateY(-9.5px)"},children:[(0,Hv.jsxs)("div",{className:"description_top",onTouchMove:e=>{s.current=e.changedTouches[0].clientY;const t=i.current-s.current;o.current.style.transform="translateY(".concat(Math.abs(t),"px)")},onTouchStart:e=>{i.current=e.touches[0].clientY},onTouchEnd:()=>{i.current-s.current<=-100?(o.current.style.display="none",d.setDescription(!1),document.body.style.overflow="scroll"):o.current.style.transform="translateY(-9.5px)"},children:[(0,Hv.jsx)("div",{className:"line",children:(0,Hv.jsx)("span",{})}),(0,Hv.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,Hv.jsx)("h3",{children:"Description"}),(0,Hv.jsx)(sw,{onClick:()=>{d.setDescription(!1)}})]})]}),(0,Hv.jsxs)("div",{className:"description_body",children:[(0,Hv.jsxs)("div",{className:"primary-info",children:[(0,Hv.jsx)("div",{className:"video-title",children:(0,Hv.jsx)("h2",{children:null===n||void 0===n?void 0:n.Title})}),(0,Hv.jsxs)("div",{className:"creator-channel",children:[(0,Hv.jsx)("img",{src:null===a||void 0===a?void 0:a.channelURL,alt:""}),(0,Hv.jsx)("p",{children:null===a||void 0===a?void 0:a.name})]})]}),(0,Hv.jsxs)("div",{className:"video-views-Likes-uploadDate",children:[(0,Hv.jsxs)("div",{className:"Likes",children:[(0,Hv.jsx)("p",{children:null===n||void 0===n?void 0:n.likes}),(0,Hv.jsx)("p",{children:"Likes"})]}),(0,Hv.jsxs)("div",{className:"views",children:[(0,Hv.jsx)("p",{children:null===n||void 0===n?void 0:n.views}),(0,Hv.jsx)("p",{children:"Views"})]}),(0,Hv.jsxs)("div",{className:"uploadDate",children:[(0,Hv.jsx)("p",{children:"24 Aug"}),(0,Hv.jsx)("p",{children:"2024"})]})]}),(0,Hv.jsx)("div",{className:"main-description",children:(0,Hv.jsx)("div",{onClick:()=>u(!c),style:{overflow:"auto"},dangerouslySetInnerHTML:{__html:(null===n||void 0===n?void 0:n.description.length)>0?(null===n||void 0===n?void 0:n.description.length)>160?c?m(n.description):m(n.description.substring(0,160))+"...":m(n.description):"no text"}})}),(0,Hv.jsxs)("div",{className:"creator-channel",children:[(0,Hv.jsx)("img",{src:null===a||void 0===a?void 0:a.channelURL,alt:""}),(0,Hv.jsxs)("div",{style:{height:"32px"},children:[(0,Hv.jsx)("p",{style:{fontsize:"0.8rem"},children:null===a||void 0===a?void 0:a.name}),(0,Hv.jsxs)("p",{style:{fontsize:"0.8rem",color:"darkgray",marginleft:"0.5rem"},children:[null===a||void 0===a?void 0:a.subscribers," ",(null===a||void 0===a?void 0:a.subscribers)>1?"subscribers":"subscriber","  "]})]})]})]})]})})};const Tw=function(){const[t]=Ft(),n=t.get("v"),[r,i]=(0,e.useState)(null),[s,o]=(0,e.useState)(null);return(0,e.useEffect)((()=>{(async()=>{const e=Sd(bv,"videos",n),t=await wh(e);if(t.exists()){i(t.data());const e=Sd(bv,"users",t.data().createdBy),n=await wh(e);n.exists()&&o(n.data()),console.log(r)}})()}),[n]),(0,Hv.jsxs)("div",{style:{padding:"0 0.3em"},children:[(0,Hv.jsx)("h3",{id:"video-title",children:null===r||void 0===r?void 0:r.Title}),(0,Hv.jsxs)("div",{className:"show_views",children:[(0,Hv.jsxs)("div",{children:[(0,Hv.jsxs)("span",{id:"views",children:[null===r||void 0===r?void 0:r.views," Views"]}),(0,Hv.jsx)("span",{className:"video_upload_time",children:"\xa0 3 Months Ago"})]}),(0,Hv.jsx)("span",{children:"...more"})]})]})};function Iw(e){return ny({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"},child:[]}]})(e)}function Nw(e){return ny({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3m5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3m5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3"},child:[]}]})(e)}const jw=function(t){const[n]=Ft(),r=n.get("v"),[i,s]=(0,e.useState)(null),[o,a]=(0,e.useState)(""),[l,c]=(0,e.useState)(!1),[u,d]=(0,e.useState)([]),[h,f]=(0,e.useState)(!1),[p,m]=(0,e.useState)(null),[g,v]=(0,e.useState)(!0),[y,w]=(0,e.useState)(!1),[b,_]=(0,e.useState)(""),[x,S]=(0,e.useState)(null);(0,e.useEffect)((()=>{xv.onAuthStateChanged((e=>{s(e)}))}),[]),(0,e.useEffect)((()=>{v(!0);(()=>{try{kh(Sd(bv,"videos",r||t.videoId),(async e=>{e.exists()&&d(await e.data().Comments)}))}catch(e){console.log(e)}finally{v(!1)}})()}),[r,t.videoId]);const E=async(e,n)=>{if(i){const e=Sd(bv,"videos",r||t.videoId);if(u[n].CommnetLikes.usersId.includes(i.uid)){u[n].CommnetLikes.numberOfLikes>0&&(u[n].CommnetLikes.numberOfLikes-=1);const t=u[n].CommnetLikes.usersId.findIndex((e=>e===i.uid));u[n].CommnetLikes.usersId.splice(t,1),await Sh(e,{Comments:u})}else u[n].CommnetLikes.numberOfLikes+=1,u[n].CommnetLikes.usersId.push(i.uid),await Sh(e,{Comments:u})}},k=async(e,n)=>{if(i){var s;const e=Sd(bv,"videos",r||t.videoId);if(null!==(s=u[n.ParentCommentindex].replies[n.childCommentindex].ReplyCommentLikes)&&void 0!==s&&s.usersId.includes(i.uid)){var o,a;u[n.ParentCommentindex].replies[n.childCommentindex].ReplyCommentLikes.ReplyCommentnumberOfLikes>0&&(u[n.ParentCommentindex].replies[n.childCommentindex].ReplyCommentLikes.ReplyCommentnumberOfLikes-=1);const t=null===(o=u[n.ParentCommentindex].replies[n.childCommentindex].ReplyCommentLikes)||void 0===o?void 0:o.usersId.findIndex((e=>e===i.uid));null===(a=u[n.ParentCommentindex].replies[n.childCommentindex].ReplyCommentLikes)||void 0===a||a.usersId.splice(t,1),await Sh(e,{Comments:u})}else{var l;null===(l=u[n.ParentCommentindex].replies[n.childCommentindex].ReplyCommentLikes)||void 0===l||l.usersId.push(i.uid),u[n.ParentCommentindex].replies[n.childCommentindex].ReplyCommentLikes.ReplyCommentnumberOfLikes+=1,await Sh(e,{Comments:u})}console.log(u[n.ParentCommentindex].replies[n.childCommentindex])}},C=e=>{_(e.target.value)};return(0,Hv.jsx)(Hv.Fragment,{children:(0,Hv.jsxs)("div",{className:"message-body",children:[(0,Hv.jsxs)("div",{className:"send-message-input",children:[(0,Hv.jsx)("img",{src:null===i||void 0===i?void 0:i.photoURL,alt:null===i||void 0===i?void 0:i.displayName}),(0,Hv.jsx)("input",{type:"text",id:"message",placeholder:"Send Your Message Here",value:o,onChange:e=>{a(e.target.value)},onKeyDown:async e=>{if("Enter"===e.key){if(i){const e={name:xv.currentUser.displayName,userPic:xv.currentUser.photoURL,CommentText:o,CommnetLikes:{numberOfLikes:0,usersId:[]},CommnetDislikes:0},n=Sd(bv,"videos",t.videoId),r=await wh(n);if(r.exists()){const t=r.data();t.Comments?await Sh(n,{Comments:[e,...t.Comments],NumberOfComments:t.NumberOfComments+1}):await Sh(n,{Comments:[e],NumberOfComments:1})}}a("")}}})]}),(0,Hv.jsx)("div",{className:"Comments",children:g?(0,Hv.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"},children:(0,Hv.jsx)("span",{class:"loader"})}):u?null===u||void 0===u?void 0:u.map(((e,n)=>{var s;return(0,Hv.jsxs)("div",{id:"comment",children:[(0,Hv.jsx)("div",{className:"commentChannelPic",children:(0,Hv.jsx)("img",{src:e.userPic,alt:e.name})}),(0,Hv.jsxs)("div",{className:"comment-right-section",children:[(0,Hv.jsxs)("div",{className:"comment-header",children:[(0,Hv.jsxs)("span",{children:["@",e.name]}),(0,Hv.jsx)("span",{})]}),(0,Hv.jsx)("div",{className:"comment-content",children:(null===e||void 0===e?void 0:e.CommentText.length)>120?(0,Hv.jsxs)("p",{onClick:()=>c(!l),children:[l?e.CommentText:e.CommentText.substring(0,120)+"..."," "]}):e.CommentText}),(0,Hv.jsxs)("div",{className:"comment-bottom",children:[(0,Hv.jsxs)("div",{className:"icons",children:[i&&null!==(s=e.CommnetLikes)&&void 0!==s&&s.usersId.includes(i.uid)?(0,Hv.jsx)(Ey,{onClick:e=>{E(0,n)}}):(0,Hv.jsx)(xy,{onClick:e=>{E(0,n)}}),(0,Hv.jsx)("span",{children:e.CommnetLikes.numberOfLikes}),(0,Hv.jsx)(_y,{}),(0,Hv.jsx)(My,{onClick:()=>{m(n),f(!h)}})]}),(0,Hv.jsx)(Iw,{})]}),h&&n==p&&(0,Hv.jsxs)("div",{className:"replybox",children:[(0,Hv.jsx)("input",{type:"text",name:"",id:"replyinput",value:b,onChange:C,placeholder:"Send a reply here"}),(0,Hv.jsx)("button",{onClick:()=>{f(!1)},children:"cancel"}),(0,Hv.jsx)("button",{onClick:()=>{(async e=>{if(i&&b){const n=Sd(bv,"videos",r||t.videoId),i={Replyname:xv.currentUser.displayName,ReplyuserPic:xv.currentUser.photoURL,ReplyCommentText:b,ReplyCommentLikes:{ReplyCommentnumberOfLikes:0,usersId:[]},ReplyCommentDislikes:0};u[e].replies?(u[e].replies=[...u[e].replies,i],await Sh(n,{Comments:u})):(Object.assign(u[e],{replies:[i]}),await Sh(n,{Comments:u}))}f(!1),_("")})(n)},children:"send"})]}),e.replies&&(0,Hv.jsxs)(Hv.Fragment,{children:[(0,Hv.jsxs)("div",{id:"showreplybtn",onClick:()=>{w(!y),S(n)},children:[y&&x===n?(0,Hv.jsx)(ly,{}):(0,Hv.jsx)(sy,{}),(0,Hv.jsxs)("button",{children:[e.replies.length," replies"]})]}),y&&n===x&&(0,Hv.jsx)(Hv.Fragment,{children:e.replies.map(((e,t)=>{var r;return(0,Hv.jsxs)("div",{id:"comment",children:[(0,Hv.jsx)("div",{className:"commentChannelPic",children:(0,Hv.jsx)("img",{src:e.ReplyuserPic,alt:e.Replyname})}),(0,Hv.jsxs)("div",{className:"comment-right-section",children:[(0,Hv.jsxs)("div",{className:"comment-header",children:[(0,Hv.jsxs)("span",{children:["@",e.Replyname]}),(0,Hv.jsx)("span",{})]}),(0,Hv.jsx)("div",{className:"comment-content",children:(null===e||void 0===e?void 0:e.ReplyCommentText.length)>120?(0,Hv.jsxs)("p",{children:[e.ReplyCommentText.substring(0,120)+"..."," "]}):e.ReplyCommentText}),(0,Hv.jsxs)("div",{className:"comment-bottom",children:[(0,Hv.jsxs)("div",{className:"icons",children:[i&&null!==(r=e.ReplyCommentLikes)&&void 0!==r&&r.usersId.includes(i.uid)?(0,Hv.jsx)(Ey,{onClick:e=>{k(0,{ParentCommentindex:n,childCommentindex:t})}}):(0,Hv.jsx)(xy,{onClick:e=>{k(0,{ParentCommentindex:n,childCommentindex:t})}}),(0,Hv.jsx)("span",{children:e.ReplyCommentLikes.ReplyCommentnumberOfLikes}),(0,Hv.jsx)(_y,{})]}),(0,Hv.jsx)(Iw,{})]})]})]},t)}))})]})]})]},n)})):(0,Hv.jsx)("p",{style:{display:"flex",justifycontent:"center",alignItems:"center",height:"50vh",justifyContent:"center"},children:"No Comments Till Now"})})]})})};const Rw=function(t){var n;const r=(0,e.useContext)(Wv),[i,s]=(0,e.useState)(null),[o,a]=(0,e.useState)(!1),l=(0,e.useRef)(0),c=(0,e.useRef)(0),u=(0,e.useRef)();let[d,h]=(0,e.useState)("");const[f,p]=(0,e.useState)([]);return(0,e.useEffect)((()=>{xv.onAuthStateChanged((e=>{s(e)}))}),[]),(0,e.useEffect)((()=>{kh(Sd(bv,"videos",t.videoId),(async e=>{e.exists()&&p(await e.data().Comments)}))}),[t.videoId]),(0,Hv.jsx)(Hv.Fragment,{children:r.shortvideoShowMessages&&(0,Hv.jsxs)("div",{id:"message_page",ref:u,style:{transform:"translateY(-9.5px)"},children:[(0,Hv.jsxs)("div",{className:"message-top",onTouchMove:e=>{c.current=e.changedTouches[0].clientY;const t=l.current-c.current;u.current.style.transform="translateY(".concat(Math.abs(t),"px)")},onTouchStart:e=>{l.current=e.touches[0].clientY},onTouchEnd:()=>{l.current-c.current<=-100?(u.current.style.display="none",r.setshortvideoShowMessages(!1),document.body.style.overflow="scroll"):u.current.style.transform="translateY(-9.5px)"},children:[(0,Hv.jsx)("div",{className:"line",children:(0,Hv.jsx)("span",{})}),(0,Hv.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,Hv.jsxs)("h3",{children:["Comments  ",(0,Hv.jsx)("span",{style:{fontweight:"500"},children:null===(n=t.video)||void 0===n?void 0:n.NumberOfComments})]}),(0,Hv.jsx)(sw,{onClick:()=>{r.setshortvideoShowMessages(!1),document.body.style.overflow="scroll",a(!0)}})]})]}),(0,Hv.jsx)("div",{className:"message-body",children:(0,Hv.jsx)(jw,{videoId:t.videoId,video:t.video})})]})})},Lw=n.p+"static/media/Youtube_shorts_icon.e0df4014580ddbcd6347.webp";var Aw=n(834),Dw=function(e,t){return Dw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Dw(e,t)},Pw=function(){return Pw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Pw.apply(this,arguments)};function Ow(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function Mw(e){var t=Object.entries(e).filter((function(e){return null!=e[1]})).map((function(e){var t=e[0],n=e[1];return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(String(n)))}));return t.length>0?"?".concat(t.join("&")):""}"function"==typeof SuppressedError&&SuppressedError;var Vw={gab:{color:"#00d178",name:"gab",path:"m17.0506,23.97457l5.18518,0l0,14.23933c0,6.82699 -3.72695,10.09328 -9.33471,10.09328c-2.55969,0 -4.82842,-0.87286 -6.22084,-2.0713l2.07477,-3.88283c1.19844,0.81051 2.33108,1.29543 3.85511,1.29543c2.75366,0 4.44049,-1.97432 4.44049,-4.82149l0,-0.87286c-1.16728,1.39242 -2.81947,2.0713 -4.63446,2.0713c-4.44048,0 -7.81068,-3.68885 -7.81068,-8.28521c0,-4.59289 3.37019,-8.28174 7.81068,-8.28174c1.81499,0 3.46718,0.67888 4.63446,2.0713l0,-1.55521zm-3.62997,11.39217c1.97777,0 3.62997,-1.6522 3.62997,-3.62652c0,-1.97432 -1.6522,-3.62305 -3.62997,-3.62305c-1.97778,0 -3.62997,1.64873 -3.62997,3.62305c0,1.97432 1.65219,3.62652 3.62997,3.62652zm25.7077,4.13913l-5.18518,0l0,-1.29197c-1.00448,1.13264 -2.3969,1.81152 -4.21188,1.81152c-3.62997,0 -5.63893,-2.52504 -5.63893,-5.4034c0,-4.27076 5.251,-5.85715 9.78846,-4.49937c-0.09698,-1.39241 -0.9733,-2.39343 -2.78829,-2.39343c-1.26426,0 -2.72248,0.48492 -3.62997,1.00102l-1.5552,-3.72003c1.19844,-0.77587 3.40136,-1.55174 5.96452,-1.55174c3.78931,0 7.25648,2.13365 7.25648,7.95962l0,8.08777zm-5.18518,-6.14809c-2.42806,-0.77587 -4.66563,-0.3533 -4.66563,1.36124c0,1.00101 0.84168,1.6799 1.84616,1.6799c1.20191,0 2.56315,-0.96984 2.81947,-3.04115zm13.00626,-17.66495l0,9.83695c1.16727,-1.39242 2.81946,-2.0713 4.63445,-2.0713c4.44048,0 7.81068,3.68885 7.81068,8.28174c0,4.59636 -3.37019,8.28521 -7.81068,8.28521c-1.81499,0 -3.46718,-0.67888 -4.63445,-2.0713l0,1.55174l-5.18519,0l0,-23.81304l5.18519,0zm3.62997,19.67391c1.97777,0 3.62997,-1.6522 3.62997,-3.62652c0,-1.97432 -1.6522,-3.62305 -3.62997,-3.62305c-1.97778,0 -3.62997,1.64873 -3.62997,3.62305c0,1.97432 1.65219,3.62652 3.62997,3.62652zm0,0"},email:{color:"#7f7f7f",name:"email",path:"M17,22v20h30V22H17z M41.1,25L32,32.1L22.9,25H41.1z M20,39V26.6l12,9.3l12-9.3V39H20z"},facebook:{color:"#3b5998",name:"facebook",path:"M34.1,47V33.3h4.6l0.7-5.3h-5.3v-3.4c0-1.5,0.4-2.6,2.6-2.6l2.8,0v-4.8c-0.5-0.1-2.2-0.2-4.1-0.2 c-4.1,0-6.9,2.5-6.9,7V28H24v5.3h4.6V47H34.1z"},facebookmessenger:{color:"#2196F3",name:"facebookmessenger",path:"M 53.066406 21.871094 C 52.667969 21.339844 51.941406 21.179688 51.359375 21.496094 L 37.492188 29.058594 L 28.867188 21.660156 C 28.339844 21.207031 27.550781 21.238281 27.054688 21.730469 L 11.058594 37.726562 C 10.539062 38.25 10.542969 39.09375 11.0625 39.613281 C 11.480469 40.027344 12.121094 40.121094 12.640625 39.839844 L 26.503906 32.28125 L 35.136719 39.679688 C 35.667969 40.132812 36.457031 40.101562 36.949219 39.609375 L 52.949219 23.613281 C 53.414062 23.140625 53.464844 22.398438 53.066406 21.871094 Z M 53.066406 21.871094"},github:{color:"#24292e",name:"github",path:"M32,16c-8.8,0-16,7.2-16,16c0,7.1,4.6,13.1,10.9,15.2 c0.8,0.1,1.1-0.3,1.1-0.8c0-0.4,0-1.4,0-2.7c-4.5,1-5.4-2.1-5.4-2.1c-0.7-1.8-1.8-2.3-1.8-2.3c-1.5-1,0.1-1,0.1-1 c1.6,0.1,2.5,1.6,2.5,1.6c1.4,2.4,3.7,1.7,4.7,1.3c0.1-1,0.6-1.7,1-2.1c-3.6-0.4-7.3-1.8-7.3-7.9c0-1.7,0.6-3.2,1.6-4.3 c-0.2-0.4-0.7-2,0.2-4.2c0,0,1.3-0.4,4.4,1.6c1.3-0.4,2.6-0.5,4-0.5c1.4,0,2.7,0.2,4,0.5c3.1-2.1,4.4-1.6,4.4-1.6 c0.9,2.2,0.3,3.8,0.2,4.2c1,1.1,1.6,2.5,1.6,4.3c0,6.1-3.7,7.5-7.3,7.9c0.6,0.5,1.1,1.5,1.1,3c0,2.1,0,3.9,0,4.4 c0,0.4,0.3,0.9,1.1,0.8C43.4,45.1,48,39.1,48,32C48,23.2,40.8,16,32,16z"},hatena:{color:"#009ad9",name:"hatena",path:"M 36.164062 33.554688 C 34.988281 32.234375 33.347656 31.5 31.253906 31.34375 C 33.125 30.835938 34.476562 30.09375 35.335938 29.09375 C 36.191406 28.09375 36.609375 26.78125 36.609375 25.101562 C 36.628906 23.875 36.332031 22.660156 35.75 21.578125 C 35.160156 20.558594 34.292969 19.71875 33.253906 19.160156 C 32.304688 18.640625 31.175781 18.265625 29.847656 18.042969 C 28.523438 17.824219 26.195312 17.730469 22.867188 17.730469 L 14.769531 17.730469 L 14.769531 47.269531 L 23.113281 47.269531 C 26.46875 47.269531 28.886719 47.15625 30.367188 46.929688 C 31.851562 46.695312 33.085938 46.304688 34.085938 45.773438 C 35.289062 45.148438 36.28125 44.179688 36.933594 42.992188 C 37.597656 41.796875 37.933594 40.402344 37.933594 38.816406 C 37.933594 36.621094 37.347656 34.867188 36.164062 33.554688 Z M 22.257812 24.269531 L 23.984375 24.269531 C 25.988281 24.269531 27.332031 24.496094 28.015625 24.945312 C 28.703125 25.402344 29.042969 26.183594 29.042969 27.285156 C 29.042969 28.390625 28.664062 29.105469 27.9375 29.550781 C 27.210938 29.992188 25.84375 30.199219 23.855469 30.199219 L 22.257812 30.199219 Z M 29.121094 41.210938 C 28.328125 41.691406 26.976562 41.925781 25.078125 41.925781 L 22.257812 41.925781 L 22.257812 35.488281 L 25.195312 35.488281 C 27.144531 35.488281 28.496094 35.738281 29.210938 36.230469 C 29.925781 36.726562 30.304688 37.582031 30.304688 38.832031 C 30.304688 40.078125 29.914062 40.742188 29.105469 41.222656 Z M 29.121094 41.210938 M 46.488281 39.792969 C 44.421875 39.792969 42.742188 41.46875 42.742188 43.535156 C 42.742188 45.605469 44.421875 47.28125 46.488281 47.28125 C 48.554688 47.28125 50.230469 45.605469 50.230469 43.535156 C 50.230469 41.46875 48.554688 39.792969 46.488281 39.792969 Z M 46.488281 39.792969 M 43.238281 17.730469 L 49.738281 17.730469 L 49.738281 37.429688 L 43.238281 37.429688 Z M 43.238281 17.730469 "},instagram:{color:"#e94475",name:"instagram",path:"M 39.88,25.89 C 40.86,25.89 41.65,25.10 41.65,24.12 41.65,23.14 40.86,22.35 39.88,22.35 38.90,22.35 38.11,23.14 38.11,24.12 38.11,25.10 38.90,25.89 39.88,25.89 Z M 32.00,24.42 C 27.82,24.42 24.42,27.81 24.42,32.00 24.42,36.19 27.82,39.58 32.00,39.58 36.18,39.58 39.58,36.18 39.58,32.00 39.58,27.82 36.18,24.42 32.00,24.42 Z M 32.00,36.92 C 29.28,36.92 27.08,34.72 27.08,32.00 27.08,29.28 29.28,27.08 32.00,27.08 34.72,27.08 36.92,29.28 36.92,32.00 36.92,34.72 34.72,36.92 32.00,36.92 Z M 32.00,19.90 C 35.94,19.90 36.41,19.92 37.96,19.99 39.41,20.05 40.19,20.29 40.71,20.50 41.40,20.77 41.89,21.08 42.41,21.60 42.92,22.12 43.24,22.61 43.51,23.30 43.71,23.82 43.95,24.60 44.02,26.04 44.09,27.60 44.11,28.06 44.11,32.01 44.11,35.95 44.09,36.41 44.02,37.97 43.95,39.41 43.71,40.19 43.51,40.71 43.24,41.40 42.92,41.90 42.41,42.41 41.89,42.93 41.40,43.25 40.71,43.51 40.19,43.71 39.41,43.96 37.96,44.02 36.41,44.09 35.94,44.11 32.00,44.11 28.06,44.11 27.59,44.09 26.04,44.02 24.59,43.96 23.81,43.72 23.29,43.51 22.60,43.24 22.11,42.93 21.59,42.41 21.08,41.90 20.76,41.40 20.49,40.71 20.29,40.19 20.05,39.41 19.98,37.97 19.91,36.41 19.89,35.95 19.89,32.01 19.89,28.06 19.91,27.60 19.98,26.04 20.05,24.60 20.29,23.82 20.49,23.30 20.76,22.61 21.08,22.12 21.59,21.60 22.11,21.08 22.60,20.76 23.29,20.50 23.81,20.30 24.59,20.05 26.04,19.99 27.59,19.91 28.06,19.90 32.00,19.90 Z M 32.00,17.24 C 27.99,17.24 27.49,17.26 25.91,17.33 24.34,17.40 23.27,17.65 22.33,18.01 21.36,18.39 20.54,18.90 19.72,19.72 18.90,20.54 18.39,21.37 18.01,22.33 17.65,23.27 17.40,24.34 17.33,25.92 17.26,27.49 17.24,27.99 17.24,32.00 17.24,36.01 17.26,36.51 17.33,38.09 17.40,39.66 17.65,40.73 18.01,41.67 18.39,42.65 18.90,43.47 19.72,44.29 20.54,45.11 21.37,45.61 22.33,45.99 23.27,46.36 24.34,46.61 25.92,46.68 27.49,46.75 27.99,46.77 32.01,46.77 36.02,46.77 36.52,46.75 38.09,46.68 39.66,46.61 40.74,46.36 41.68,45.99 42.65,45.62 43.47,45.11 44.29,44.29 45.11,43.47 45.62,42.64 46.00,41.67 46.36,40.74 46.61,39.66 46.68,38.09 46.75,36.51 46.77,36.01 46.77,32.00 46.77,27.99 46.75,27.49 46.68,25.91 46.61,24.34 46.36,23.27 46.00,22.33 45.62,21.35 45.11,20.53 44.29,19.71 43.47,18.89 42.65,18.39 41.68,18.01 40.74,17.64 39.67,17.39 38.09,17.32 36.51,17.26 36.01,17.24 32.00,17.24 Z"},instapaper:{color:"#1F1F1F",name:"instapaper",path:"M35.688 43.012c0 2.425.361 2.785 3.912 3.056V48H24.401v-1.932c3.555-.27 3.912-.63 3.912-3.056V20.944c0-2.379-.36-2.785-3.912-3.056V16H39.6v1.888c-3.55.27-3.912.675-3.912 3.056v22.068h.001z"},line:{color:"#00b800",name:"line",path:"M52.62 30.138c0 3.693-1.432 7.019-4.42 10.296h.001c-4.326 4.979-14 11.044-16.201 11.972-2.2.927-1.876-.591-1.786-1.112l.294-1.765c.069-.527.142-1.343-.066-1.865-.232-.574-1.146-.872-1.817-1.016-9.909-1.31-17.245-8.238-17.245-16.51 0-9.226 9.251-16.733 20.62-16.733 11.37 0 20.62 7.507 20.62 16.733zM27.81 25.68h-1.446a.402.402 0 0 0-.402.401v8.985c0 .221.18.4.402.4h1.446a.401.401 0 0 0 .402-.4v-8.985a.402.402 0 0 0-.402-.401zm9.956 0H36.32a.402.402 0 0 0-.402.401v5.338L31.8 25.858a.39.39 0 0 0-.031-.04l-.002-.003-.024-.025-.008-.007a.313.313 0 0 0-.032-.026.255.255 0 0 1-.021-.014l-.012-.007-.021-.012-.013-.006-.023-.01-.013-.005-.024-.008-.014-.003-.023-.005-.017-.002-.021-.003-.021-.002h-1.46a.402.402 0 0 0-.402.401v8.985c0 .221.18.4.402.4h1.446a.401.401 0 0 0 .402-.4v-5.337l4.123 5.568c.028.04.063.072.101.099l.004.003a.236.236 0 0 0 .025.015l.012.006.019.01a.154.154 0 0 1 .019.008l.012.004.028.01.005.001a.442.442 0 0 0 .104.013h1.446a.4.4 0 0 0 .401-.4v-8.985a.402.402 0 0 0-.401-.401zm-13.442 7.537h-3.93v-7.136a.401.401 0 0 0-.401-.401h-1.447a.4.4 0 0 0-.401.401v8.984a.392.392 0 0 0 .123.29c.072.068.17.111.278.111h5.778a.4.4 0 0 0 .401-.401v-1.447a.401.401 0 0 0-.401-.401zm21.429-5.287c.222 0 .401-.18.401-.402v-1.446a.401.401 0 0 0-.401-.402h-5.778a.398.398 0 0 0-.279.113l-.005.004-.006.008a.397.397 0 0 0-.111.276v8.984c0 .108.043.206.112.278l.005.006a.401.401 0 0 0 .284.117h5.778a.4.4 0 0 0 .401-.401v-1.447a.401.401 0 0 0-.401-.401h-3.93v-1.519h3.93c.222 0 .401-.18.401-.402V29.85a.401.401 0 0 0-.401-.402h-3.93V27.93h3.93z"},linkedin:{color:"#007fb1",name:"linkedin",path:"M20.4,44h5.4V26.6h-5.4V44z M23.1,18c-1.7,0-3.1,1.4-3.1,3.1c0,1.7,1.4,3.1,3.1,3.1 c1.7,0,3.1-1.4,3.1-3.1C26.2,19.4,24.8,18,23.1,18z M39.5,26.2c-2.6,0-4.4,1.4-5.1,2.8h-0.1v-2.4h-5.2V44h5.4v-8.6 c0-2.3,0.4-4.5,3.2-4.5c2.8,0,2.8,2.6,2.8,4.6V44H46v-9.5C46,29.8,45,26.2,39.5,26.2z"},livejournal:{color:"#21A5D8",name:"livejournal",path:"M18.3407821,28.1764706 L21.9441341,31.789916 L33.0055865,42.882353 C33.0055865,42.882353 33.0893855,42.9663866 33.0893855,42.9663866 L46.6648046,47 C46.6648046,47 46.6648046,47 46.7486034,47 C46.8324022,47 46.8324022,47 46.9162012,46.9159664 C47,46.8319327 47,46.8319327 47,46.7478991 L42.9776536,33.1344537 C42.9776536,33.1344537 42.9776536,33.1344537 42.8938548,33.0504202 L31.1620111,21.3697479 L31.1620111,21.3697479 L28.1452514,18.2605042 C27.3072626,17.4201681 26.5530726,17 25.7150838,17 C24.2905028,17 23.0335195,18.3445378 21.5251397,19.8571429 C21.273743,20.1092437 20.9385475,20.4453781 20.6871508,20.697479 C20.3519553,21.0336134 20.1005586,21.2857143 19.849162,21.5378151 C18.3407821,22.9663866 17.0837989,24.2268908 17,25.7394958 C17.0837989,26.4957983 17.5027933,27.3361345 18.3407821,28.1764706 Z M39.9012319,39.6134454 C39.7336341,39.4453781 39.4822374,37.6806724 40.2364275,36.8403362 C40.9906174,36.0840337 41.6610084,36 42.1638017,36 C42.3313995,36 42.4989973,36 42.5827961,36 L44.8453659,43.5630253 L43.5883828,44.8235295 L36.0464833,42.5546218 C35.9626843,42.2184874 35.8788855,41.2100841 36.8844722,40.2016807 C37.2196676,39.8655463 37.8900587,39.6134454 38.5604498,39.6134454 C39.147042,39.6134454 39.5660364,39.7815126 39.5660364,39.7815126 C39.6498353,39.8655463 39.8174331,39.8655463 39.8174331,39.7815126 C39.9850307,39.7815126 39.9850307,39.697479 39.9012319,39.6134454 Z"},mailru:{color:"#168DE2",name:"mailru",path:"M39.7107745,17 C41.6619755,17 43.3204965,18.732852 43.3204965,21.0072202 C43.3204965,23.2815885 41.7595357,25.0144404 39.7107745,25.0144404 C37.7595732,25.0144404 36.1010522,23.2815885 36.1010522,21.0072202 C36.1010522,18.732852 37.7595732,17 39.7107745,17 Z M24.3938451,17 C26.3450463,17 28.0035672,18.732852 28.0035672,21.0072202 C28.0035672,23.2815885 26.4426063,25.0144404 24.3938451,25.0144404 C22.4426439,25.0144404 20.7841229,23.2815885 20.7841229,21.0072202 C20.7841229,18.732852 22.4426439,17 24.3938451,17 Z M51.9057817,43.4259928 C51.7106617,44.0758123 51.4179815,44.6173285 50.9301812,44.9422383 C50.637501,45.1588448 50.2472607,45.267148 49.8570205,45.267148 C49.07654,45.267148 48.3936197,44.833935 48.0033795,44.0758123 L46.2472985,40.7184115 L45.759498,41.2599278 C42.5400162,44.9422383 37.466893,47 32.0035297,47 C26.5401664,47 21.5646034,44.9422383 18.2475614,41.2599278 L17.7597611,40.7184115 L16.00368,44.0758123 C15.6134398,44.833935 14.9305194,45.267148 14.1500389,45.267148 C13.7597986,45.267148 13.3695584,45.1588448 13.0768782,44.9422383 C12.0037176,44.2924187 11.7110374,42.7761733 12.2963978,41.5848375 L16.7841605,33.0288807 C17.1744007,32.270758 17.8573211,31.8375453 18.6378016,31.8375453 C19.0280418,31.8375453 19.4182821,31.9458485 19.7109623,32.1624548 C20.7841229,32.8122743 21.0768031,34.3285197 20.4914427,35.5198555 L20.1012025,36.2779783 L20.2963226,36.602888 C22.4426439,39.9602888 27.0279667,42.234657 31.9059697,42.234657 C36.7839727,42.234657 41.3692955,40.068592 43.5156167,36.602888 L43.7107367,36.2779783 L43.3204965,35.6281587 C43.0278165,35.0866425 42.9302562,34.436823 43.1253765,33.7870035 C43.3204965,33.137184 43.6131767,32.5956678 44.100977,32.270758 C44.3936572,32.0541515 44.7838975,31.9458485 45.1741377,31.9458485 C45.9546182,31.9458485 46.6375385,32.3790613 47.0277787,33.137184 L51.5155415,41.6931408 C52.003342,42.234657 52.100902,42.8844765 51.9057817,43.4259928 Z"},pinterest:{color:"#cb2128",name:"pinterest",path:"M32,16c-8.8,0-16,7.2-16,16c0,6.6,3.9,12.2,9.6,14.7c0-1.1,0-2.5,0.3-3.7 c0.3-1.3,2.1-8.7,2.1-8.7s-0.5-1-0.5-2.5c0-2.4,1.4-4.1,3.1-4.1c1.5,0,2.2,1.1,2.2,2.4c0,1.5-0.9,3.7-1.4,5.7 c-0.4,1.7,0.9,3.1,2.5,3.1c3,0,5.1-3.9,5.1-8.5c0-3.5-2.4-6.1-6.7-6.1c-4.9,0-7.9,3.6-7.9,7.7c0,1.4,0.4,2.4,1.1,3.1 c0.3,0.3,0.3,0.5,0.2,0.9c-0.1,0.3-0.3,1-0.3,1.3c-0.1,0.4-0.4,0.6-0.8,0.4c-2.2-0.9-3.3-3.4-3.3-6.1c0-4.5,3.8-10,11.4-10 c6.1,0,10.1,4.4,10.1,9.2c0,6.3-3.5,11-8.6,11c-1.7,0-3.4-0.9-3.9-2c0,0-0.9,3.7-1.1,4.4c-0.3,1.2-1,2.5-1.6,3.4 c1.4,0.4,3,0.7,4.5,0.7c8.8,0,16-7.2,16-16C48,23.2,40.8,16,32,16z"},pocket:{color:"#EF3F56",name:"pocket",path:"M41.084 29.065l-7.528 7.882a2.104 2.104 0 0 1-1.521.666 2.106 2.106 0 0 1-1.522-.666l-7.528-7.882c-.876-.914-.902-2.43-.065-3.384.84-.955 2.228-.987 3.1-.072l6.015 6.286 6.022-6.286c.88-.918 2.263-.883 3.102.071.841.938.82 2.465-.06 3.383l-.015.002zm6.777-10.976C47.463 16.84 46.361 16 45.14 16H18.905c-1.2 0-2.289.82-2.716 2.044-.125.363-.189.743-.189 1.125v10.539l.112 2.096c.464 4.766 2.73 8.933 6.243 11.838.06.053.125.102.19.153l.04.033c1.882 1.499 3.986 2.514 6.259 3.014a14.662 14.662 0 0 0 6.13.052c.118-.042.235-.065.353-.087.03 0 .065-.022.098-.042a15.395 15.395 0 0 0 6.011-2.945l.039-.045.18-.153c3.502-2.902 5.765-7.072 6.248-11.852L48 29.674v-10.52c0-.366-.041-.728-.161-1.08l.022.015z"},reddit:{color:"#ff4500",name:"reddit",path:"m 52.8165,31.942362 c 0,-2.4803 -2.0264,-4.4965 -4.5169,-4.4965 -1.2155,0 -2.3171,0.4862 -3.128,1.2682 -3.077,-2.0247 -7.2403,-3.3133 -11.8507,-3.4782 l 2.5211,-7.9373 6.8272,1.5997 -0.0102,0.0986 c 0,2.0281 1.6575,3.6771 3.6958,3.6771 2.0366,0 3.6924,-1.649 3.6924,-3.6771 0,-2.0281 -1.6575,-3.6788 -3.6924,-3.6788 -1.564,0 -2.8968,0.9758 -3.4357,2.3443 l -7.3593,-1.7255 c -0.3213,-0.0782 -0.6477,0.1071 -0.748,0.4233 L 32,25.212062 c -4.8246,0.0578 -9.1953,1.3566 -12.41,3.4425 -0.8058,-0.7446 -1.8751,-1.2104 -3.0583,-1.2104 -2.4905,0 -4.5152,2.0179 -4.5152,4.4982 0,1.649 0.9061,3.0787 2.2389,3.8607 -0.0884,0.4794 -0.1462,0.9639 -0.1462,1.4569 0,6.6487 8.1736,12.0581 18.2223,12.0581 10.0487,0 18.224,-5.4094 18.224,-12.0581 0,-0.4658 -0.0493,-0.9248 -0.1275,-1.377 1.4144,-0.7599 2.3885,-2.2304 2.3885,-3.9406 z m -29.2808,3.0872 c 0,-1.4756 1.207,-2.6775 2.6894,-2.6775 1.4824,0 2.6877,1.2019 2.6877,2.6775 0,1.4756 -1.2053,2.6758 -2.6877,2.6758 -1.4824,0 -2.6894,-1.2002 -2.6894,-2.6758 z m 15.4037,7.9373 c -1.3549,1.3481 -3.4816,2.0043 -6.5008,2.0043 l -0.0221,-0.0051 -0.0221,0.0051 c -3.0209,0 -5.1476,-0.6562 -6.5008,-2.0043 -0.2465,-0.2448 -0.2465,-0.6443 0,-0.8891 0.2465,-0.2465 0.6477,-0.2465 0.8942,0 1.105,1.0999 2.9393,1.6337 5.6066,1.6337 l 0.0221,0.0051 0.0221,-0.0051 c 2.6673,0 4.5016,-0.5355 5.6066,-1.6354 0.2465,-0.2465 0.6477,-0.2448 0.8942,0 0.2465,0.2465 0.2465,0.6443 0,0.8908 z m -0.3213,-5.2615 c -1.4824,0 -2.6877,-1.2002 -2.6877,-2.6758 0,-1.4756 1.2053,-2.6775 2.6877,-2.6775 1.4824,0 2.6877,1.2019 2.6877,2.6775 0,1.4756 -1.2053,2.6758 -2.6877,2.6758 z"},spotify:{color:"#2EBD59",name:"spotify",path:"M32,16c-8.8,0-16,7.2-16,16c0,8.8,7.2,16,16,16c8.8,0,16-7.2,16-16C48,23.2,40.8,16,32,16 M39.3,39.1c-0.3,0.5-0.9,0.6-1.4,0.3c-3.8-2.3-8.5-2.8-14.1-1.5c-0.5,0.1-1.1-0.2-1.2-0.7c-0.1-0.5,0.2-1.1,0.8-1.2 c6.1-1.4,11.3-0.8,15.5,1.8C39.5,38,39.6,38.6,39.3,39.1 M41.3,34.7c-0.4,0.6-1.1,0.8-1.7,0.4c-4.3-2.6-10.9-3.4-15.9-1.9 c-0.7,0.2-1.4-0.2-1.6-0.8c-0.2-0.7,0.2-1.4,0.8-1.6c5.8-1.8,13-0.9,18,2.1C41.5,33.4,41.7,34.1,41.3,34.7 M41.5,30.2 c-5.2-3.1-13.7-3.3-18.6-1.9c-0.8,0.2-1.6-0.2-1.9-1c-0.2-0.8,0.2-1.6,1-1.9c5.7-1.7,15-1.4,21,2.1c0.7,0.4,0.9,1.3,0.5,2.1 C43.1,30.4,42.2,30.6,41.5,30.2"},telegram:{color:"#37aee2",name:"telegram",path:"m45.90873,15.44335c-0.6901,-0.0281 -1.37668,0.14048 -1.96142,0.41265c-0.84989,0.32661 -8.63939,3.33986 -16.5237,6.39174c-3.9685,1.53296 -7.93349,3.06593 -10.98537,4.24067c-3.05012,1.1765 -5.34694,2.05098 -5.4681,2.09312c-0.80775,0.28096 -1.89996,0.63566 -2.82712,1.72788c-0.23354,0.27218 -0.46884,0.62161 -0.58825,1.10275c-0.11941,0.48114 -0.06673,1.09222 0.16682,1.5716c0.46533,0.96052 1.25376,1.35737 2.18443,1.71383c3.09051,0.99037 6.28638,1.93508 8.93263,2.8236c0.97632,3.44171 1.91401,6.89571 2.84116,10.34268c0.30554,0.69185 0.97105,0.94823 1.65764,0.95525l-0.00351,0.03512c0,0 0.53908,0.05268 1.06412,-0.07375c0.52679,-0.12292 1.18879,-0.42846 1.79109,-0.99212c0.662,-0.62161 2.45836,-2.38812 3.47683,-3.38552l7.6736,5.66477l0.06146,0.03512c0,0 0.84989,0.59703 2.09312,0.68132c0.62161,0.04214 1.4399,-0.07726 2.14229,-0.59176c0.70766,-0.51626 1.1765,-1.34683 1.396,-2.29506c0.65673,-2.86224 5.00979,-23.57745 5.75257,-27.00686l-0.02107,0.08077c0.51977,-1.93157 0.32837,-3.70159 -0.87096,-4.74991c-0.60054,-0.52152 -1.2924,-0.7498 -1.98425,-0.77965l0,0.00176zm-0.2072,3.29069c0.04741,0.0439 0.0439,0.0439 0.00351,0.04741c-0.01229,-0.00351 0.14048,0.2072 -0.15804,1.32576l-0.01229,0.04214l-0.00878,0.03863c-0.75858,3.50668 -5.15554,24.40802 -5.74203,26.96472c-0.08077,0.34417 -0.11414,0.31959 -0.09482,0.29852c-0.1756,-0.02634 -0.50045,-0.16506 -0.52679,-0.1756l-13.13468,-9.70175c4.4988,-4.33199 9.09945,-8.25307 13.744,-12.43229c0.8218,-0.41265 0.68483,-1.68573 -0.29852,-1.70681c-1.04305,0.24584 -1.92279,0.99564 -2.8798,1.47502c-5.49971,3.2626 -11.11882,6.13186 -16.55882,9.49279c-2.792,-0.97105 -5.57873,-1.77704 -8.15298,-2.57601c2.2336,-0.89555 4.00889,-1.55579 5.75608,-2.23009c3.05188,-1.1765 7.01687,-2.7042 10.98537,-4.24067c7.94051,-3.06944 15.92667,-6.16346 16.62028,-6.43037l0.05619,-0.02283l0.05268,-0.02283c0.19316,-0.0878 0.30378,-0.09658 0.35471,-0.10009c0,0 -0.01756,-0.05795 -0.00351,-0.04566l-0.00176,0zm-20.91715,22.0638l2.16687,1.60145c-0.93418,0.91311 -1.81743,1.77353 -2.45485,2.38812l0.28798,-3.98957"},tumblr:{color:"#2c4762",name:"tumblr",path:"M39.2,41c-0.6,0.3-1.6,0.5-2.4,0.5c-2.4,0.1-2.9-1.7-2.9-3v-9.3h6v-4.5h-6V17c0,0-4.3,0-4.4,0 c-0.1,0-0.2,0.1-0.2,0.2c-0.3,2.3-1.4,6.4-5.9,8.1v3.9h3V39c0,3.4,2.5,8.1,9,8c2.2,0,4.7-1,5.2-1.8L39.2,41z"},twitter:{color:"#000000",name:"twitter",path:"M 41.116 18.375 h 4.962 l -10.8405 12.39 l 12.753 16.86 H 38.005 l -7.821 -10.2255 L 21.235 47.625 H 16.27 l 11.595 -13.2525 L 15.631 18.375 H 25.87 l 7.0695 9.3465 z m -1.7415 26.28 h 2.7495 L 24.376 21.189 H 21.4255 z"},viber:{color:"#7C529E",name:"viber",path:"m31.0,12.3c9.0,0.2 16.4,6.2 18.0,15.2c0.2,1.5 0.3,3.0 0.4,4.6a1.0,1.0 0 0 1 -0.8,1.2l-0.1,0a1.1,1.1 0 0 1 -1.0,-1.2l0,0c-0.0,-1.2 -0.1,-2.5 -0.3,-3.8a16.1,16.1 0 0 0 -13.0,-13.5c-1.0,-0.1 -2.0,-0.2 -3.0,-0.3c-0.6,-0.0 -1.4,-0.1 -1.6,-0.8a1.1,1.1 0 0 1 0.9,-1.2l0.6,0l0.0,-0.0zm10.6,39.2a19.9,19.9 0 0 1 -2.1,-0.6c-6.9,-2.9 -13.2,-6.6 -18.3,-12.2a47.5,47.5 0 0 1 -7.0,-10.7c-0.8,-1.8 -1.6,-3.7 -2.4,-5.6c-0.6,-1.7 0.3,-3.4 1.4,-4.7a11.3,11.3 0 0 1 3.7,-2.8a2.4,2.4 0 0 1 3.0,0.7a39.0,39.0 0 0 1 4.7,6.5a3.1,3.1 0 0 1 -0.8,4.2c-0.3,0.2 -0.6,0.5 -1.0,0.8a3.3,3.3 0 0 0 -0.7,0.7a2.1,2.1 0 0 0 -0.1,1.9c1.7,4.9 4.7,8.7 9.7,10.8a5.0,5.0 0 0 0 2.5,0.6c1.5,-0.1 2.0,-1.8 3.1,-2.7a2.9,2.9 0 0 1 3.5,-0.1c1.1,0.7 2.2,1.4 3.3,2.2a37.8,37.8 0 0 1 3.1,2.4a2.4,2.4 0 0 1 0.7,3.0a10.4,10.4 0 0 1 -4.4,4.8a10.8,10.8 0 0 1 -1.9,0.6c-0.7,-0.2 0.6,-0.2 0,0l0.0,0l0,-0.0zm3.1,-21.4a4.2,4.2 0 0 1 -0.0,0.6a1.0,1.0 0 0 1 -1.9,0.1a2.7,2.7 0 0 1 -0.1,-0.8a10.9,10.9 0 0 0 -1.4,-5.5a10.2,10.2 0 0 0 -4.2,-4.0a12.3,12.3 0 0 0 -3.4,-1.0c-0.5,-0.0 -1.0,-0.1 -1.5,-0.2a0.9,0.9 0 0 1 -0.9,-1.0l0,-0.1a0.9,0.9 0 0 1 0.9,-0.9l0.1,0a14.1,14.1 0 0 1 5.9,1.5a11.9,11.9 0 0 1 6.5,9.3c0,0.1 0.0,0.3 0.0,0.5c0,0.4 0.0,0.9 0.0,1.5l0,0l0.0,0.0zm-5.6,-0.2a1.1,1.1 0 0 1 -1.2,-0.9l0,-0.1a11.3,11.3 0 0 0 -0.2,-1.4a4.0,4.0 0 0 0 -1.5,-2.3a3.9,3.9 0 0 0 -1.2,-0.5c-0.5,-0.1 -1.1,-0.1 -1.6,-0.2a1.0,1.0 0 0 1 -0.8,-1.1l0,0l0,0a1.0,1.0 0 0 1 1.1,-0.8c3.4,0.2 6.0,2.0 6.3,6.2a2.8,2.8 0 0 1 0,0.8a0.8,0.8 0 0 1 -0.8,0.7l0,0l0.0,-0.0z"},vk:{color:"#45668e",name:"vk",path:"M44.94,44.84h-0.2c-2.17-.36-3.66-1.92-4.92-3.37C39.1,40.66,38,38.81,36.7,39c-1.85.3-.93,3.52-1.71,4.9-0.62,1.11-3.29.91-5.12,0.71-5.79-.62-8.75-3.77-11.35-7.14A64.13,64.13,0,0,1,11.6,26a10.59,10.59,0,0,1-1.51-4.49C11,20.7,12.56,21,14.11,21c1.31,0,3.36-.29,4.32.2C19,21.46,19.57,23,20,24a37.18,37.18,0,0,0,3.31,5.82c0.56,0.81,1.41,2.35,2.41,2.14s1.06-2.63,1.1-4.18c0-1.77,0-4-.5-4.9S25,22,24.15,21.47c0.73-1.49,2.72-1.63,5.12-1.63,2,0,4.84-.23,5.62,1.12s0.25,3.85.2,5.71c-0.06,2.09-.41,4.25,1,5.21,1.09-.12,1.68-1.2,2.31-2A28,28,0,0,0,41.72,24c0.44-1,.91-2.65,1.71-3,1.21-.47,3.15-0.1,4.92-0.1,1.46,0,4.05-.41,4.52.61,0.39,0.85-.75,3-1.1,3.57a61.88,61.88,0,0,1-4.12,5.61c-0.58.78-1.78,2-1.71,3.27,0.05,0.94,1,1.67,1.71,2.35a33.12,33.12,0,0,1,3.92,4.18c0.47,0.62,1.5,2,1.4,2.76C52.66,45.81,46.88,44.24,44.94,44.84Z"},weibo:{color:"#CD201F",name:"weibo",path:"M40.9756152,15.0217119 C40.5000732,15.0546301 39.9999314,15.1204666 39.5325878,15.2192213 C38.6634928,15.4085016 38.0977589,16.2643757 38.2863368,17.1284787 C38.4667163,18.0008129 39.3194143,18.5686519 40.1885094,18.3793715 C42.8613908,17.8115326 45.7720411,18.6427174 47.7316073,20.8153207 C49.6911735,22.996153 50.2077122,25.975254 49.3714112,28.5840234 C49.1008441,29.4316684 49.5763861,30.3533789 50.4208857,30.6249537 C51.2653852,30.8965286 52.1754769,30.4192153 52.4542425,29.5715703 C53.6349013,25.9011885 52.9133876,21.7699494 50.1585171,18.7085538 C48.0923641,16.4042776 45.2063093,15.1533848 42.3530505,15.0217119 C41.8775084,14.9970227 41.4511594,14.9887937 40.9756152,15.0217119 Z M27.9227762,19.8277737 C24.9957268,20.140498 20.863421,22.4365431 17.2312548,26.0822378 C13.2711279,30.0571148 11,34.2871065 11,37.9328012 C11,44.9032373 19.8713401,49.125 28.5786978,49.125 C39.9917329,49.125 47.600423,42.4261409 47.600423,37.1427636 C47.600423,33.9496952 44.9603397,32.1638816 42.549827,31.4149913 C41.9594976,31.2339421 41.5167516,31.1434164 41.8283133,30.3616079 C42.5006339,28.66632 42.6236176,27.1932286 41.8939054,26.1480742 C40.5328692,24.1894405 36.7203236,24.2881952 32.448635,26.0822378 C32.448635,26.0822378 31.1203949,26.6912261 31.4647526,25.6213825 C32.1206742,23.4981576 32.0304845,21.712342 31.0056075,20.6836478 C30.2840938,19.9512176 29.2510184,19.6878718 27.9227762,19.8277737 Z M42.0906819,20.6836478 C41.6233383,20.6589586 41.1723917,20.716566 40.7132466,20.8153207 C39.9671353,20.9716828 39.4997917,21.7781784 39.6637721,22.5270687 C39.8277525,23.275959 40.5574647,23.7450433 41.303576,23.5804521 C42.1972686,23.3911718 43.2057485,23.6380596 43.8616701,24.3704897 C44.5175916,25.1029198 44.6733735,26.0657797 44.3864073,26.9381118 C44.1486363,27.6705419 44.5093932,28.4770397 45.2391054,28.7156963 C45.9688176,28.9461239 46.780521,28.5922524 47.0100936,27.8598223 C47.584026,26.0740087 47.2396661,24.0248493 45.8950269,22.5270687 C44.886547,21.4078489 43.4845162,20.7494842 42.0906819,20.6836478 Z M29.496988,29.9665891 C35.3100922,30.1723275 39.9917329,33.0691319 40.3852858,37.0769272 C40.8362324,41.6607904 35.5970585,45.9319315 28.6442899,46.6232144 C21.6915214,47.3144973 15.6488446,44.154347 15.197898,39.5787128 C14.7469514,34.9948495 20.059916,30.7237084 27.004486,30.0324256 C27.8735831,29.950131 28.6688875,29.9336709 29.496988,29.9665891 Z M25.5614586,34.3776322 C23.183744,34.5916017 20.9372116,35.9577073 19.9205332,37.9328012 C18.5348994,40.6238672 19.9041362,43.6029661 23.0689567,44.582284 C26.340366,45.5945202 30.1857056,44.0638213 31.5303448,41.1587879 C32.8503864,38.3195909 31.1613894,35.3734082 27.9227762,34.5751416 C27.1438688,34.3776322 26.356763,34.3035667 25.5614586,34.3776322 Z M24.052839,38.7228388 C24.3316067,38.7310678 24.5857748,38.8215935 24.8399449,38.9203482 C25.8648218,39.3400561 26.1845841,40.4428158 25.5614586,41.4221338 C24.9219361,42.3932227 23.5690963,42.8623069 22.5442194,42.4096807 C21.5357395,41.9652856 21.2487754,40.8542948 21.8882979,39.9078951 C22.3638421,39.2001542 23.2247386,38.7146097 24.052839,38.7228388 Z"},whatsapp:{color:"#25D366",name:"whatsapp",path:"m42.32286,33.93287c-0.5178,-0.2589 -3.04726,-1.49644 -3.52105,-1.66732c-0.4712,-0.17346 -0.81554,-0.2589 -1.15987,0.2589c-0.34175,0.51004 -1.33075,1.66474 -1.63108,2.00648c-0.30032,0.33658 -0.60064,0.36247 -1.11327,0.12945c-0.5178,-0.2589 -2.17994,-0.80259 -4.14759,-2.56312c-1.53269,-1.37217 -2.56312,-3.05503 -2.86603,-3.57283c-0.30033,-0.5178 -0.03366,-0.80259 0.22524,-1.06149c0.23301,-0.23301 0.5178,-0.59547 0.7767,-0.90616c0.25372,-0.31068 0.33657,-0.5178 0.51262,-0.85437c0.17088,-0.36246 0.08544,-0.64725 -0.04402,-0.90615c-0.12945,-0.2589 -1.15987,-2.79613 -1.58964,-3.80584c-0.41424,-1.00971 -0.84142,-0.88027 -1.15987,-0.88027c-0.29773,-0.02588 -0.64208,-0.02588 -0.98382,-0.02588c-0.34693,0 -0.90616,0.12945 -1.37736,0.62136c-0.4712,0.5178 -1.80194,1.76053 -1.80194,4.27186c0,2.51134 1.84596,4.945 2.10227,5.30747c0.2589,0.33657 3.63497,5.51458 8.80262,7.74113c1.23237,0.5178 2.1903,0.82848 2.94111,1.08738c1.23237,0.38836 2.35599,0.33657 3.24402,0.20712c0.99159,-0.15534 3.04985,-1.24272 3.47963,-2.45956c0.44013,-1.21683 0.44013,-2.22654 0.31068,-2.45955c-0.12945,-0.23301 -0.46601,-0.36247 -0.98382,-0.59548m-9.40068,12.84407l-0.02589,0c-3.05503,0 -6.08417,-0.82849 -8.72495,-2.38189l-0.62136,-0.37023l-6.47252,1.68286l1.73463,-6.29129l-0.41424,-0.64725c-1.70875,-2.71846 -2.6149,-5.85116 -2.6149,-9.07706c0,-9.39809 7.68934,-17.06155 17.15993,-17.06155c4.58253,0 8.88029,1.78642 12.11655,5.02268c3.23625,3.21036 5.02267,7.50812 5.02267,12.06476c-0.0078,9.3981 -7.69712,17.06155 -17.14699,17.06155m14.58906,-31.58846c-3.93529,-3.80584 -9.1133,-5.95471 -14.62789,-5.95471c-11.36055,0 -20.60848,9.2065 -20.61625,20.52564c0,3.61684 0.94757,7.14565 2.75211,10.26282l-2.92557,10.63564l10.93337,-2.85309c3.0136,1.63108 6.4052,2.4958 9.85634,2.49839l0.01037,0c11.36574,0 20.61884,-9.2091 20.62403,-20.53082c0,-5.48093 -2.14111,-10.64081 -6.03239,-14.51915"},workplace:{color:"#3b3d4a",name:"workplace",path:"M34.019,10.292c0.21,0.017,0.423,0.034,0.636,0.049 c3.657,0.262,6.976,1.464,9.929,3.635c3.331,2.448,5.635,5.65,6.914,9.584c0.699,2.152,0.983,4.365,0.885,6.623 c-0.136,3.171-1.008,6.13-2.619,8.867c-0.442,0.75-0.908,1.492-1.495,2.141c-0.588,0.651-1.29,1.141-2.146,1.383 c-1.496,0.426-3.247-0.283-3.961-1.642c-0.26-0.494-0.442-1.028-0.654-1.548c-1.156-2.838-2.311-5.679-3.465-8.519 c-0.017-0.042-0.037-0.082-0.065-0.145c-0.101,0.245-0.192,0.472-0.284,0.698c-1.237,3.051-2.475,6.103-3.711,9.155 c-0.466,1.153-1.351,1.815-2.538,2.045c-1.391,0.267-2.577-0.154-3.496-1.247c-0.174-0.209-0.31-0.464-0.415-0.717 c-2.128-5.22-4.248-10.442-6.37-15.665c-0.012-0.029-0.021-0.059-0.036-0.104c0.054-0.003,0.103-0.006,0.15-0.006 c1.498-0.001,2.997,0,4.495-0.004c0.12-0.001,0.176,0.03,0.222,0.146c1.557,3.846,3.117,7.691,4.679,11.536 c0.018,0.046,0.039,0.091,0.067,0.159c0.273-0.673,0.536-1.32,0.797-1.968c1.064-2.627,2.137-5.25,3.19-7.883 c0.482-1.208,1.376-1.917,2.621-2.135c1.454-0.255,2.644,0.257,3.522,1.449c0.133,0.18,0.229,0.393,0.313,0.603 c1.425,3.495,2.848,6.991,4.269,10.488c0.02,0.047,0.04,0.093,0.073,0.172c0.196-0.327,0.385-0.625,0.559-0.935 c0.783-1.397,1.323-2.886,1.614-4.461c0.242-1.312,0.304-2.634,0.187-3.962c-0.242-2.721-1.16-5.192-2.792-7.38 c-2.193-2.939-5.086-4.824-8.673-5.625c-1.553-0.346-3.124-0.405-4.705-0.257c-3.162,0.298-6.036,1.366-8.585,3.258 c-3.414,2.534-5.638,5.871-6.623,10.016c-0.417,1.76-0.546,3.547-0.384,5.348c0.417,4.601,2.359,8.444,5.804,11.517 c2.325,2.073,5.037,3.393,8.094,3.989c1.617,0.317,3.247,0.395,4.889,0.242c1-0.094,1.982-0.268,2.952-0.529 c0.04-0.01,0.081-0.018,0.128-0.028c0,1.526,0,3.047,0,4.586c-0.402,0.074-0.805,0.154-1.21,0.221 c-0.861,0.14-1.728,0.231-2.601,0.258c-0.035,0.002-0.071,0.013-0.108,0.021c-0.493,0-0.983,0-1.476,0 c-0.049-0.007-0.1-0.018-0.149-0.022c-0.315-0.019-0.629-0.033-0.945-0.058c-1.362-0.105-2.702-0.346-4.017-0.716 c-3.254-0.914-6.145-2.495-8.66-4.752c-2.195-1.971-3.926-4.29-5.176-6.963c-1.152-2.466-1.822-5.057-1.993-7.774 c-0.014-0.226-0.033-0.451-0.05-0.676c0-0.502,0-1.003,0-1.504c0.008-0.049,0.02-0.099,0.022-0.148 c0.036-1.025,0.152-2.043,0.338-3.052c0.481-2.616,1.409-5.066,2.8-7.331c2.226-3.625,5.25-6.386,9.074-8.254 c2.536-1.24,5.217-1.947,8.037-2.126c0.23-0.015,0.461-0.034,0.691-0.051C33.052,10.292,33.535,10.292,34.019,10.292z"}},Uw=e.memo((function(t){var n=t.color,r=t.background,i=t.round,s=t.size,o=t.borderRadius,a=t.network,l=Vw[a.toString()];return e.createElement("svg",{viewBox:"0 0 64 64",width:s,height:s},i?e.createElement("circle",{cx:"32",cy:"32",r:"31",fill:null!=r?r:null==l?void 0:l.color}):e.createElement("rect",{width:"64",height:"64",rx:o,ry:o,fill:null!=r?r:null==l?void 0:l.color}),e.createElement("path",{d:null==l?void 0:l.path,fill:n||"#ffffff"}))})),Fw=function(t){var n=t.onShareWindowClose,r=t.windowHeight,i=void 0===r?400:r,s=t.windowPosition,o=void 0===s?"windowCenter":s,a=t.windowWidth,l=void 0===a?550:a,c=t.blankTarget,u=void 0!==c&&c,d=t.beforeOnClick,h=t.disabled,f=t.networkLink,p=t.onClick,m=t.url,g=t.openShareDialogOnClick,v=t.opts;t.children;var y=t.forwardedRef,w=t.networkName,b=t.style,_=t.round,x=t.bgColor,S=t.size,E=void 0===S?64:S,k=t.borderRadius,C=void 0===k?0:k;t.iconFillColor;var T=t.buttonTitle,I=t.color,N=Ow(t,["onShareWindowClose","windowHeight","windowPosition","windowWidth","blankTarget","beforeOnClick","disabled","networkLink","onClick","url","openShareDialogOnClick","opts","children","forwardedRef","networkName","style","round","bgColor","size","borderRadius","iconFillColor","buttonTitle","color"]),j=(0,e.useRef)(null),R=function(e){var t,r;!function(e,t,n,r){var i,s=t.height,o=t.width,a=Ow(t,["height","width"]),l=Pw({height:s,width:o,location:"no",toolbar:"no",status:"no",directories:"no",menubar:"no",scrollbars:"yes",resizable:"no",centerscreen:"yes",chrome:"yes"},a);if(i=n?window.open(e,"_blank"):window.open(e,"",Object.keys(l).map((function(e){return"".concat(e,"=").concat(l[e])})).join(", ")),r)var c=window.setInterval((function(){try{(null===i||i.closed)&&(window.clearInterval(c),r(i))}catch(e){console.error(e)}}),1e3)}(e,Pw({height:i,width:l},"windowCenter"===o?(t=l,r=i,{left:window.outerWidth/2+(window.screenX||window.screenLeft||0)-t/2,top:window.outerHeight/2+(window.screenY||window.screenTop||0)-r/2}):function(e,t){return{top:(window.screen.height-t)/2,left:(window.screen.width-e)/2}}(l,i)),u,n)},L=Pw({backgroundColor:"transparent",border:"none",padding:0,font:"inherit",color:"inherit",cursor:"pointer",outline:"none"},b);return e.createElement("button",{"aria-label":N["aria-label"]||w,onClick:function(e){return function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var t,n;return function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,(function(r){switch(r.label){case 0:return t=f(m,v),h?[2]:(e.preventDefault(),d?!(i=n=d())||"object"!=typeof i&&"function"!=typeof i||"function"!=typeof i.then?[3,2]:[4,n]:[3,2]);case 1:r.sent(),r.label=2;case 2:return g&&R(t),p&&p(e,t),[2]}var i}))}))},ref:y||j,style:L},T||e.createElement(Uw,{network:w,background:x,color:I,borderRadius:C,round:_,size:E}))};function zw(t,n,r,i){function s(s,o){var a=r(s),l=Pw({},s);return Object.keys(a).forEach((function(e){delete l[e]})),e.createElement(Fw,Pw({},i,l,{forwardedRef:o,networkName:t,networkLink:n,opts:r(s)}))}return s.displayName="ShareButton-".concat(t),(0,e.forwardRef)(s)}Fw.defaultProps={disabledStyle:{opacity:.6},openShareDialogOnClick:!0,resetButtonStyle:!0};var Bw=zw("facebook",(function(e,t){return"https://www.facebook.com/sharer/sharer.php"+Mw({u:e,quote:t.quote,hashtag:t.hashtag})}),(function(e){return{quote:e.quote,hashtag:e.hashtag}}),{windowWidth:550,windowHeight:400}),Hw=(zw("line",(function(e,t){return"https://social-plugins.line.me/lineit/share"+Mw({url:e,text:t.title})}),(function(e){return{title:e.title}}),{windowWidth:500,windowHeight:500}),zw("pinterest",(function(e,t){return"https://pinterest.com/pin/create/button/"+Mw({url:e,media:t.media,description:t.description})}),(function(e){return{media:e.media,description:e.description}}),{windowWidth:1e3,windowHeight:730})),Ww=zw("reddit",(function(e,t){return"https://www.reddit.com/submit"+Mw({url:e,title:t.title})}),(function(e){return{title:e.title}}),{windowWidth:660,windowHeight:460,windowPosition:"windowCenter"}),qw=(zw("telegram",(function(e,t){return"https://telegram.me/share/"+Mw({url:e,text:t.title})}),(function(e){return{title:e.title}}),{windowWidth:550,windowHeight:400}),zw("tumblr",(function(e,t){return"https://www.tumblr.com/widgets/share/tool"+Mw({canonicalUrl:e,title:t.title,caption:t.caption,tags:t.tags,posttype:t.posttype})}),(function(e){var t=e.title,n=e.tags,r=e.caption,i=e.posttype;return{title:t,caption:r,tags:(n||[]).join(","),posttype:i||"link"}}),{windowWidth:660,windowHeight:460}),zw("twitter",(function(e,t){var n=t.title,r=t.via,i=t.hashtags,s=void 0===i?[]:i,o=t.related,a=void 0===o?[]:o;return"https://twitter.com/intent/tweet"+Mw({url:e,text:n,via:r,hashtags:s.length>0?s.join(","):void 0,related:a.length>0?a.join(","):void 0})}),(function(e){var t=e.title,n=e.via,r=e.related;return{hashtags:e.hashtags,title:t,via:n,related:r}}),{windowWidth:550,windowHeight:400})),Kw=(zw("viber",(function(e,t){var n=t.title,r=t.separator;return"viber://forward"+Mw({text:n?n+r+e:e})}),(function(e){var t=e.separator;return{title:e.title,separator:t||" "}}),{windowWidth:660,windowHeight:460}),zw("weibo",(function(e,t){return"http://service.weibo.com/share/share.php"+Mw({url:e,title:t.title,pic:t.image})}),(function(e){return{title:e.title,image:e.image}}),{windowWidth:660,windowHeight:550,windowPosition:"screenCenter"}),zw("whatsapp",(function(e,t){var n=t.title,r=t.separator;return"https://"+(/(android|iphone|ipad|mobile)/i.test(navigator.userAgent)?"api":"web")+".whatsapp.com/send"+Mw({text:n?n+r+e:e})}),(function(e){return{title:e.title,separator:e.separator||" "}}),{windowWidth:550,windowHeight:400})),Gw=(zw("linkedin",(function(e,t){return"https://linkedin.com/sharing/share-offsite"+Mw({url:e,mini:"true",title:t.title,summary:t.summary,source:t.source})}),(function(e){return{title:e.title,summary:e.summary,source:e.source}}),{windowWidth:750,windowHeight:600}),zw("vk",(function(e,t){return"https://vk.com/share.php"+Mw({url:e,title:t.title,image:t.image,noparse:t.noParse?1:0,no_vk_links:t.noVkLinks?1:0})}),(function(e){return{title:e.title,image:e.image,noParse:e.noParse,noVkLinks:e.noVkLinks}}),{windowWidth:660,windowHeight:460}),zw("mailru",(function(e,t){return"https://connect.mail.ru/share"+Mw({url:e,title:t.title,description:t.description,image_url:t.imageUrl})}),(function(e){return{title:e.title,description:e.description,imageUrl:e.imageUrl}}),{windowWidth:660,windowHeight:460}),zw("livejournal",(function(e,t){return"https://www.livejournal.com/update.bml"+Mw({subject:t.title,event:t.description})}),(function(e){var t=e.description;return{title:e.title,description:t}}),{windowWidth:660,windowHeight:460}),zw("workplace",(function(e,t){return"https://work.facebook.com/sharer.php"+Mw({u:e,quote:t.quote,hashtag:t.hashtag})}),(function(e){return{quote:e.quote,hashtag:e.hashtag}}),{windowWidth:550,windowHeight:400}),zw("pocket",(function(e,t){return"https://getpocket.com/save"+Mw({url:e,title:t.title})}),(function(e){return{title:e.title}}),{windowWidth:500,windowHeight:500}),zw("instapaper",(function(e,t){return"http://www.instapaper.com/hello2"+Mw({url:e,title:t.title,description:t.description})}),(function(e){return{title:e.title,description:e.description}}),{windowWidth:500,windowHeight:500,windowPosition:"windowCenter"}),zw("hatena",(function(e,t){var n=t.title;return"http://b.hatena.ne.jp/add?mode=confirm&url=".concat(e,"&title=").concat(n)}),(function(e){return{title:e.title}}),{windowWidth:660,windowHeight:460,windowPosition:"windowCenter"}),zw("facebookmessenger",(function(e,t){var n=t.appId;return"https://www.facebook.com/dialog/send"+Mw({link:e,redirect_uri:t.redirectUri||e,app_id:n,to:t.to})}),(function(e){return{appId:e.appId,redirectUri:e.redirectUri,to:e.to}}),{windowWidth:1e3,windowHeight:820}),zw("email",(function(e,t){var n=t.subject,r=t.body,i=t.separator;return"mailto:"+Mw({subject:n,body:r?r+i+e:e})}),(function(e){return{subject:e.subject,body:e.body,separator:e.separator||" "}}),{openShareDialogOnClick:!1,onClick:function(e,t){window.location.href=t}})),Qw=(zw("gab",(function(e,t){return"https://gab.com/compose"+Mw({url:e,text:t.title})}),(function(e){return{title:e.title}}),{windowWidth:660,windowHeight:640,windowPosition:"windowCenter"}),function(e){return e}),Yw=function(t){function n(e){var n=t.call(this,e)||this;return n._isMounted=!1,n.state={count:0,isLoading:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Dw(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(n,t),n.prototype.componentDidMount=function(){this._isMounted=!0,this.updateCount(this.props.url,this.props.appId,this.props.appSecret)},n.prototype.componentDidUpdate=function(e){this.props.url!==e.url&&this.updateCount(this.props.url,this.props.appId,this.props.appSecret)},n.prototype.componentWillUnmount=function(){this._isMounted=!1},n.prototype.updateCount=function(e,t,n){var r=this;this.setState({isLoading:!0}),this.props.getCount(e,(function(e){r._isMounted&&r.setState({count:e,isLoading:!1})}),t,n)},n.prototype.render=function(){var t=this.state,n=t.count,r=t.isLoading,i=this.props,s=i.children,o=void 0===s?Qw:s,a=i.className;return i.getCount,e.createElement("span",{className:a},!r&&void 0!==n&&o(n))},n}(e.Component);function Xw(t){var n=function(n){return e.createElement(Yw,Pw({getCount:t},n))};return n.displayName="ShareCount(".concat(t.name,")"),n}Xw((function(e,t){window.OK||(window.OK={Share:{count:function(e,t){window.OK.callbacks[e](t)}},callbacks:[]});var n=window.OK.callbacks.length;return window.ODKL={updateCount:function(e,t){var n=""===e?0:parseInt(e.replace("react-share-",""),10);window.OK.callbacks[n](""===t?void 0:parseInt(t,10))}},window.OK.callbacks.push(t),Aw("https://connect.ok.ru/dk"+Mw({"st.cmd":"extLike",uid:"react-share-".concat(n),ref:e}))})),Xw((function(e,t){Aw("https://api.pinterest.com/v1/urls/count.json"+Mw({url:e}),(function(e,n){t(!e&&n?n.count:void 0)}))})),Xw((function(e,t){return Aw("https://api.tumblr.com/v2/share/stats"+Mw({url:e}),(function(e,n){t(!e&&n&&n.response?n.response.note_count:void 0)}))})),Xw((function(e,t){window.VK||(window.VK={}),window.VK.Share={count:function(e,t){return window.VK.callbacks[e](t)}},window.VK.callbacks=[];var n=window.VK.callbacks.length;return window.VK.callbacks.push(t),Aw("https://vk.com/share.php"+Mw({act:"count",index:n,url:e}))})),Xw((function(e,t){Aw("https://bookmark.hatenaapis.com/count/entry"+Mw({url:e}),(function(e,n){t(e?void 0:n)}))})),Xw((function(e,t,n,r){var i="https://graph.facebook.com/?id=".concat(e,"&fields=engagement&access_token=").concat(n,"|").concat(r);Aw(i,(function(e,n){t(!e&&n&&n.engagement?n.engagement.share_count:void 0)}))})),Xw((function(e,t){var n="https://www.reddit.com/api/info.json?limit=1&url=".concat(e);Aw(n,{param:"jsonp"},(function(e,n){t(!e&&n&&n.data&&n.data.children.length>0&&n.data.children[0].data.score?n.data.children[0].data.score:void 0)}))}));const Jw=function(t){const n=(0,e.useContext)(Wv);return n.showModal&&(0,Hv.jsxs)("div",{className:"shareModal",children:[(0,Hv.jsxs)("div",{className:"modalHeader",children:[(0,Hv.jsx)(sw,{onClick:()=>n.setshowModal(!1)}),(0,Hv.jsx)("div",{children:(0,Hv.jsx)("h2",{children:"Share Video on Social Media"})})]}),(0,Hv.jsxs)("div",{id:"Icons",children:[(0,Hv.jsx)(Bw,{url:"www.google.com",quote:"My video",hashtag:"#react-share-kit",borderRadius:"50%",style:{marginRight:"12px"}}),(0,Hv.jsx)(Kw,{url:"www.google.com",title:"My video",borderRadius:"50%",style:{marginRight:"12px"}}),(0,Hv.jsx)(qw,{url:"https://github.com/ayda-tech/react-share-kit",title:"react-share-kit - social share buttons for next & react apps.",hashtags:["#react-share-kit","#front-end"],borderRadius:"50%",style:{marginRight:"12px"}}),(0,Hv.jsx)(Gw,{url:"www.google.com",subject:"Next Share",body:"body",borderRadius:"50%",style:{marginRight:"12px"}}),(0,Hv.jsx)(Ww,{url:"www.google.com",subject:"Next Share",body:"body",borderRadius:"50%",style:{marginRight:"12px"}}),(0,Hv.jsx)(Hw,{url:"www.google.com",subject:"Next Share",body:"body",borderRadius:"50%",style:{marginRight:"12px"}})]}),(0,Hv.jsxs)("div",{id:"url",children:[(0,Hv.jsx)("input",{type:"text",id:"link",disabled:!0,value:t.URL?"http://localhost:3000/watch?v=".concat(t.URL):window.location.href}),(0,Hv.jsx)("button",{onClick:async e=>{const t=document.getElementById("link");try{await navigator.clipboard.writeText(t.value),e.target.innerText="Copied!",n.setshowToastNotification(!0),n.setNotificationMessage("Link Copied!"),setTimeout((()=>{e.target.innerText="Copy",n.setshowToastNotification(!1)}),1e3),setTimeout((()=>{n.setshowToastNotification(!1)}),3e3)}catch(r){console.log(r)}},children:"Copy"})]})]})};const $w=function(t){const n=(0,e.useContext)(Wv),r=(0,e.useRef)(0),i=(0,e.useRef)(0),s=(0,e.useRef)(),[o,a]=(0,e.useState)(248);return document.addEventListener("click",(e=>{s.current&&(s.current.contains(e.target)||"svg"===e.target.localName||"path"===e.target.nodeName?n.setbottomlayout(!0):(n.setbottomlayout(!1),document.body.style.opacity="1"))})),n.bottomlayout&&(n.showModal?(0,Hv.jsx)(Jw,{URL:t.videoURL}):(0,Hv.jsxs)("div",{id:"video-bottom-layout",ref:s,style:{left:t&&t.Left,top:t&&t.Top,overflowY:"scroll"},children:[(0,Hv.jsx)("div",{className:"line",onTouchMove:e=>{i.current=e.changedTouches[0].clientY;const t=r.current-i.current;t<0&&(s.current.style.transform="translateY(".concat(Math.abs(t),"px)"))},onTouchStart:e=>{r.current=e.touches[0].clientY},onTouchEnd:e=>{r.current-i.current<=-65?(s.current.style.display="none",n.setbottomlayout(!1),document.body.style.overflow="scroll",document.body.style.opacity="1"):(a(248),s.current.style.transform="translateY(0px)")},children:(0,Hv.jsx)("span",{})}),(0,Hv.jsxs)("div",{className:"watch-later",onClick:()=>{(async()=>{await n.WatchLater(t.user,t.videoURL),setTimeout((()=>{n.setbottomlayout(!1)}),3e3)})()},children:[(0,Hv.jsx)(pw,{}),(0,Hv.jsx)("p",{children:"Watch Later"})]}),(0,Hv.jsxs)("div",{className:"Like-video",onClick:()=>{(async()=>{n.LikeVideo(t.user,t.videoURL,t.video)})()},children:[(0,Hv.jsx)(xy,{}),(0,Hv.jsx)("p",{children:"Like Video"})]}),(0,Hv.jsxs)("div",{className:"DisLike-video",onClick:()=>{(()=>{const e=n.DisLikeVideo(t.user,t.videoURL,t.video);e&&("videoRemoved From dislikes"==e?n.setNotificationMessage("Video Removed DisLikes!"):n.setNotificationMessage("Video DisLiked!"),n.setshowToastNotification(!0),setTimeout((()=>{n.setbottomlayout(!1)}),3e3))})()},children:[(0,Hv.jsx)(_y,{}),(0,Hv.jsx)("p",{children:"DisLike Video"})]}),(0,Hv.jsxs)("div",{className:"share-video",onClick:()=>{n.setshowModal(!0)},children:[(0,Hv.jsx)(zy,{}),(0,Hv.jsx)("p",{children:"Share video"})]})]}))};const Zw=function(){const t=(0,e.useContext)(Wv);return(0,e.useEffect)((()=>{t.showToastNotification||(document.body.style.opacity="1")}),[t.showToastNotification]),(0,e.useEffect)((()=>{t.showToastNotification&&setTimeout((()=>{t.setshowToastNotification(!1)}),3e3)}),[t.showToastNotification]),t.showToastNotification&&(0,Hv.jsx)("div",{id:"toast_notification",className:"transition",children:(0,Hv.jsxs)("div",{id:"toast_text",children:[(0,Hv.jsx)("p",{style:{fontSize:"1rem"},children:t.NotificationMessage}),(0,Hv.jsx)("span",{children:"undo"})]})})};const eb=function(t){const n=(0,e.useContext)(Wv),[r,i]=(0,e.useState)(null),[s,o]=(0,e.useState)(null),[a,l]=(0,e.useState)(!1),[c,u]=(0,e.useState)(null),[d,h]=(0,e.useState)(null);(0,e.useEffect)((()=>{xv.onAuthStateChanged((e=>{h(e)}))}),[]);const[f,p]=(0,e.useState)(null),[m,g]=(0,e.useState)(null);(0,e.useEffect)((()=>{if("/"==window.location.href){window.innerWidth<=600&&(o(window.innerWidth),i(s*(9/16)));const e=()=>{window.innerWidth<=600&&(o(window.innerWidth),i(s*(9/16)))};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}}),[r,s]);const v=(e,t)=>{n.setbottomlayout(!0),u(t),window.innerWidth<=600?(document.body.style.opacity="0.7",g(null),p(null)):(g(e.pageX-246),p(e.clientY)),document.body.style.overflow="hidden"};(0,e.useEffect)((()=>{n.bottomlayout?(window.innerWidth<=600&&(document.body.style.opacity="0.7"),document.body.style.overflow="hidden"):(document.body.style.overflow="scroll",document.body.style.opacity="1")}),[n.bottomlayout]);const y=document.getElementById("dots");return y&&window.addEventListener("resize",(()=>{window.innerWidth>600?g(y.getBoundingClientRect().left-246):(g(null),p(null))})),(0,e.useEffect)((()=>{n.showToastNotification&&l(!1)}),[n.showToastNotification]),(0,Hv.jsxs)(Hv.Fragment,{children:[(0,Hv.jsx)("div",{className:"videos",children:t.FullLengthVideos&&t.FullLengthVideos.slice(0,1).map(((e,i)=>{var o,a,l,u,h,p,g,y,w;return(0,Hv.jsxs)("div",{id:"video",children:[(0,Hv.jsx)(Mt,{to:"/watch?v=".concat(e.id),children:(0,Hv.jsxs)("div",{id:"thumbnail_container",children:[(0,Hv.jsx)("img",{src:e.Videodata.Thumbnail,alt:"",className:"video",style:t.areSearchResult?null:{height:r,width:s}}),(0,Hv.jsx)("p",{className:"videoLength",children:n.returnvideoTime(e.Videodata.videoLength)})]})}),(0,Hv.jsxs)("div",{className:"video_bottom",children:[(0,Hv.jsxs)("div",{className:"video_bttom_left",children:[(0,Hv.jsx)(Mt,{to:"/".concat(e.Videodata.createdBy,"/").concat(null===(o=e.UserData)||void 0===o?void 0:o.name.replace(" ",""),"/videos"),children:null!==(a=e.UserData)&&void 0!==a&&a.channelURL?(0,Hv.jsx)("img",{src:null===(l=e.UserData)||void 0===l?void 0:l.channelURL,alt:null===(u=e.UserData)||void 0===u?void 0:u.name}):(0,Hv.jsx)("img",{src:null===(h=e.UserData)||void 0===h?void 0:h.channelURL,alt:null===(p=e.UserData)||void 0===p?void 0:p.name})}),(0,Hv.jsxs)("div",{className:"video_title_and_channelName",children:[(0,Hv.jsx)("h3",{id:"video_title",className:"title",children:null===(g=e.Videodata)||void 0===g?void 0:g.Title}),(0,Hv.jsxs)("div",{style:{color:"#aaa",display:"flex",flexWrap:"wrap"},children:[(0,Hv.jsxs)("p",{children:[null===(y=e.UserData)||void 0===y?void 0:y.name," \u2022"," "," ",null===(w=e.Videodata)||void 0===w?void 0:w.views," Views \u2022"]}),(0,Hv.jsx)("p",{children:n.getVideoPublishedTime(e)})]})]})]}),(0,Hv.jsx)("div",{onClick:e=>{v(e,i)},children:(0,Hv.jsx)(Iw,{className:"videomenu",id:c===i?"dots":null})})]}),i===c&&(0,Hv.jsxs)(Hv.Fragment,{children:[n.bottomlayout&&!n.showToastNotification&&(0,Hv.jsx)("div",{id:"Layout",children:(0,Hv.jsx)($w,{Left:m,Top:f,videoURL:e.id,video:e.Videodata,user:d})}),n.showToastNotification&&(0,Hv.jsx)(Zw,{})]})]},i)}))}),t.ShortVideos&&t.ShortVideos.length>0&&(0,Hv.jsx)("div",{class:"short-videos",children:(0,Hv.jsxs)("div",{className:"short-video-section",children:[(0,Hv.jsxs)("div",{className:"shelf-header",children:[(0,Hv.jsx)("img",{src:Lw,alt:"shorts-icon"}),(0,Hv.jsx)("h4",{children:"Shorts"})]}),(0,Hv.jsx)("div",{className:"short-video-shelf",children:t.ShortVideos&&t.ShortVideos.map(((e,t)=>(0,Hv.jsx)("div",{className:"short-video",children:(0,Hv.jsxs)("div",{id:"short-video",children:[(0,Hv.jsx)("img",{src:e.Videodata.Thumbnail,alt:""}),(0,Hv.jsxs)("div",{className:"short-video-detail",children:[(0,Hv.jsx)("div",{className:"short-video-title",children:e.Videodata.Title}),(0,Hv.jsxs)("div",{className:"views",children:[e.Videodata.views," Views"]})]})]})},t)))})]})}),(0,Hv.jsx)("div",{className:"videos",children:t.FullLengthVideos&&t.FullLengthVideos.slice(1).map(((e,i)=>{var o,a,l,u,h,p,g,y;return(0,Hv.jsxs)("div",{id:"video",style:i===t.FullLengthVideos.length?{marginBottom:"50px"}:null,children:[(0,Hv.jsx)(Mt,{to:"/watch?v=".concat(e.id),children:(0,Hv.jsxs)("div",{id:"thumbnail_container",children:[(0,Hv.jsx)("img",{src:e.Videodata.Thumbnail,alt:"",className:"video",style:t.areSearchResult?null:{height:r,width:s}}),(0,Hv.jsx)("p",{className:"videoLength",children:n.returnvideoTime(e.Videodata.videoLength)})]})}),(0,Hv.jsxs)("div",{className:"video_bottom",children:[(0,Hv.jsxs)("div",{className:"video_bttom_left",children:[null!==(o=e.UserData)&&void 0!==o&&o.channelURL?(0,Hv.jsx)("img",{src:null===(a=e.UserData)||void 0===a?void 0:a.channelURL,alt:null===(l=e.UserData)||void 0===l?void 0:l.name}):(0,Hv.jsx)("img",{src:null===(u=e.UserData)||void 0===u?void 0:u.channelURL,alt:null===(h=e.UserData)||void 0===h?void 0:h.name}),(0,Hv.jsxs)("div",{className:"video_title_and_channelName",children:[(0,Hv.jsx)("h3",{id:"video_title",className:"title",children:null===(p=e.Videodata)||void 0===p?void 0:p.Title}),(0,Hv.jsxs)("div",{style:{color:"#aaa",display:"flex",flexWrap:"wrap"},children:[(0,Hv.jsxs)("p",{children:[null===(g=e.UserData)||void 0===g?void 0:g.name," \u2022"," "," ",null===(y=e.Videodata)||void 0===y?void 0:y.views," Views \u2022"]}),(0,Hv.jsx)("p",{children:n.getVideoPublishedTime(e)})]})]})]}),(0,Hv.jsx)("div",{onClick:e=>{v(e,i+1)},children:(0,Hv.jsx)(Iw,{className:"videomenu",id:c===i?"dots":null})})]}),i+1===c&&(0,Hv.jsxs)(Hv.Fragment,{children:[n.bottomlayout&&!n.showToastNotification&&(0,Hv.jsx)("div",{id:"Layout",children:(0,Hv.jsx)($w,{Left:m,Top:f,videoURL:e.id,video:e.Videodata,user:d})}),n.showToastNotification&&(0,Hv.jsx)(Zw,{})]})]},i+1)}))})]})};const tb=function(t){const n=(0,e.useContext)(Wv),r=(0,e.useRef)(),i=(0,e.useRef)(),[s,o]=(0,e.useState)(null),[a,l]=(0,e.useState)(0),[c,u]=(0,e.useState)(0),[d,h]=(0,e.useState)(0);(0,e.useEffect)((()=>{xv.onAuthStateChanged((e=>{o(e)}))}),[]),(0,e.useEffect)((()=>{n.bottomlayout?document.body.style.overflow="hidden":document.body.style.overflow="scroll"}),[n.bottomlayout]);const f=document.getElementById("dots");return f&&window.addEventListener("resize",(()=>{u(f.getBoundingClientRect().left-246),h(f.getBoundingClientRect().y+9)})),(0,Hv.jsx)("div",{className:"large-screen-main-videoPage",children:(0,Hv.jsx)("div",{className:"videos",children:t.FullLengthVideos&&t.FullLengthVideos.map(((e,t)=>{var o,f,p,m,g,v,y,w,b;return(0,Hv.jsxs)("div",{id:"video",children:[(0,Hv.jsx)(Mt,{to:"/watch?v=".concat(e.id),children:(0,Hv.jsxs)("div",{id:"thumbnail_container",children:[(0,Hv.jsx)("img",{src:e.Videodata.Thumbnail,alt:"",className:"video"}),(0,Hv.jsx)("p",{className:"videoLength",children:n.returnvideoTime(e.Videodata.videoLength)})]})}),(0,Hv.jsxs)("div",{className:"video_bottom",children:[(0,Hv.jsxs)("div",{className:"video_bttom_left",children:[(0,Hv.jsx)(Mt,{to:"/".concat(e.Videodata.createdBy,"/").concat(null===(o=e.UserData)||void 0===o?void 0:o.name.replace(" ",""),"/videos"),style:{maxWidth:"max-content",width:"71px"},children:null!==(f=e.UserData)&&void 0!==f&&f.channelURL?(0,Hv.jsx)("img",{src:null===(p=e.UserData)||void 0===p?void 0:p.channelURL,alt:null===(m=e.UserData)||void 0===m?void 0:m.name}):(0,Hv.jsx)("img",{src:null===(g=e.UserData)||void 0===g?void 0:g.channelURL,alt:null===(v=e.UserData)||void 0===v?void 0:v.name})}),(0,Hv.jsx)(Mt,{to:"/watch/".concat(e.id),children:(0,Hv.jsxs)("div",{className:"video_title_and_channelName",children:[(0,Hv.jsx)("h3",{id:"video_title",className:"title",children:null===(y=e.Videodata)||void 0===y?void 0:y.Title}),(0,Hv.jsxs)("div",{className:"channelnameandviews",children:[(0,Hv.jsxs)("p",{id:"channelName",children:[null===(w=e.UserData)||void 0===w?void 0:w.name," \u2022"]}),(0,Hv.jsxs)("p",{id:"video-views",children:[null===(b=e.Videodata)||void 0===b?void 0:b.views," Views   \u2022"]}),(0,Hv.jsx)("p",{children:n.getVideoPublishedTime(e)})]})]})})]}),(0,Hv.jsx)(Iw,{className:"videomenu",id:a===t?"dots":null,onClick:e=>{((e,t)=>{n.setbottomlayout(!0),l(t),u(e.pageX-246),h(e.clientY)})(e,t)},ref:a===t?r:null})]}),t===a&&(0,Hv.jsxs)(Hv.Fragment,{children:[n.bottomlayout&&!n.showToastNotification&&(0,Hv.jsx)("div",{ref:i,id:"Layout",children:(0,Hv.jsx)($w,{Left:c,Top:d,videoURL:e.id,video:e.Videodata,user:s})}),n.showToastNotification&&(0,Hv.jsx)(Zw,{})]})]},t)}))})})};const nb=function(t){const[n,r]=(0,e.useState)(window.innerWidth),[i,s]=(0,e.useState)(window.innerWidth*(9/16)),[o,a]=(0,e.useState)(window.innerWidth),[l,c]=(0,e.useState)([]),[u,d]=(0,e.useState)([]),[h,f]=(0,e.useState)(!1),[p,m]=(0,e.useState)(""),g=it();return(0,e.useEffect)((()=>{try{var e,n;c(null===(e=t.video)||void 0===e?void 0:e.filter((e=>g.id?!e.Videodata.shortVideo&&g.id!==e.id:!e.Videodata.shortVideo))),d(null===(n=t.video)||void 0===n?void 0:n.filter((e=>!0===e.Videodata.shortVideo)))}catch(r){f(!0),m(r.message)}}),[t]),(0,e.useEffect)((()=>{r(window.innerWidth),s(n*(9/16));const e=()=>{r(window.innerWidth),s(n*(9/16)),a(window.innerWidth)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[i,n]),(0,Hv.jsx)(Hv.Fragment,{children:!h&&!p&&(o<=600?(0,Hv.jsx)(eb,{FullLengthVideos:l,ShortVideos:u}):(0,Hv.jsx)(tb,{FullLengthVideos:l,ShortVideos:u}))})};function rb(e){return ny({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 48V487.7C0 501.1 10.9 512 24.3 512c5 0 9.9-1.5 14-4.4L192 400 345.7 507.6c4.1 2.9 9 4.4 14 4.4c13.4 0 24.3-10.9 24.3-24.3V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48z"},child:[]}]})(e)}function ib(e){return ny({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M48 24C48 10.7 37.3 0 24 0S0 10.7 0 24V64 350.5 400v88c0 13.3 10.7 24 24 24s24-10.7 24-24V388l80.3-20.1c41.1-10.3 84.6-5.5 122.5 13.4c44.2 22.1 95.5 24.8 141.7 7.4l34.7-13c12.5-4.7 20.8-16.6 20.8-30V66.1c0-23-24.2-38-44.8-27.7l-9.6 4.8c-46.3 23.2-100.8 23.2-147.1 0c-35.1-17.6-75.4-22-113.5-12.5L48 52V24zm0 77.5l96.6-24.2c27-6.7 55.5-3.6 80.4 8.8c54.9 27.4 118.7 29.7 175 6.8V334.7l-24.4 9.1c-33.7 12.6-71.2 10.7-103.4-5.4c-48.2-24.1-103.3-30.1-155.6-17.1L48 338.5v-237z"},child:[]}]})(e)}const sb=function(t){var n,r,i,s,o,a,l,c,u,d,h,f,p,m;const g=(0,e.useContext)(Wv);let[v,y]=(0,e.useState)(!1);const[w,b]=(0,e.useState)(!1);let[_,x]=(0,e.useState)(!1),[S,E]=(0,e.useState)(!1);const[k,C]=(0,e.useState)(!1),[T,I]=(0,e.useState)(null),[N]=Ft(),j=N.get("v"),[R,L]=(0,e.useState)();(0,e.useEffect)((()=>{L(window.innerWidth),window.addEventListener("resize",(()=>{L(window.innerWidth)}))}),[R]),(0,e.useEffect)((()=>{xv.onAuthStateChanged((e=>{I(e)}))}),[]);const A=async()=>{try{if(t.CurrentUser){C(!0);const e=await g.subscribeChannel(T,t.user);x("subscribed"===e),C(!1)}else alert("You are not signedIn")}catch(Error){console.log(Error)}};(0,e.useEffect)((()=>{(async()=>{if(t.CurrentUser&&t.user){var e;const n=Sd(xd(bv,"users/".concat(null===(e=t.CurrentUser)||void 0===e?void 0:e.uid,"/subscribedChannel")),t.user.uid);(await wh(n)).exists()&&x(!0)}})()}),[t.videoId,t.user,t.CurrentUser]);const D=async()=>{if(T){const e=await g.LikeVideo(T,t.videoId,t.Video);y("videoLiked"===e)}};(0,e.useEffect)((()=>{(async()=>{if(t.CurrentUser){var e;const n=Sd(xd(bv,"users/".concat(null===(e=t.CurrentUser)||void 0===e?void 0:e.uid,"/LV")),t.videoId);(await wh(n)).exists()?y(!0):y(!1)}})()}),[t.videoId,t.user,t.CurrentUser]),(0,e.useEffect)((()=>{if(T){const e=async()=>{const e=Sd(xd(bv,"users/".concat(null===T||void 0===T?void 0:T.uid,"/watchedVideos")),t.videoId),n=await wh(e),r=Sd(bv,"videos",t.videoId);if(!n.exists()){var i;const n={videoUrl:t.videoId};await xh(e,n),await Sh(r,{views:(null===(i=t.Video)||void 0===i?void 0:i.views)+1})}};e()}}),[t.videoId,t.Video,T,j]),(0,e.useEffect)((()=>{(async()=>{if(T){const e=Sd(xd(bv,"users/".concat(null===T||void 0===T?void 0:T.uid,"/Watchlater")),j);(await wh(e)).exists()?E(!0):E(!1)}})()}),[T,j]);const P=()=>{g.DisLikeVideo(T,t.videoId,t.Video).then((e=>{"video disliked"==e?(v&&y(!1),b(!0)):b(!1)}))};return(0,e.useEffect)((()=>{(async()=>{try{if(T){const e=Sd(xd(bv,"users/".concat(null===T||void 0===T?void 0:T.uid,"/DV")),t.videoId);(await wh(e)).exists()?b(!0):b(!1)}}catch(e){console.log(e.message)}})()}),[t.videoId,t.user,T]),(0,Hv.jsxs)("div",{className:"video_page",children:[g.shortvideoShowMessages&&(0,Hv.jsx)(Rw,{video:t.Video,user:t.user,videoId:t.videoId}),g.Description&&(0,Hv.jsx)(Cw,{}),(0,Hv.jsx)("div",{onClick:()=>{g.setDescription(!0),window.scrollTo(0,0),document.body.style.overflow="hidden"},style:{margin:"0 0.9em"},children:(0,Hv.jsx)(Tw,{})}),(0,Hv.jsxs)("div",{className:"channel_details",children:[(0,Hv.jsxs)("div",{className:"channel_details_left_part",children:[(0,Hv.jsx)("img",{src:null===(n=t.user)||void 0===n?void 0:n.channelPic,alt:null===(r=t.user)||void 0===r?void 0:r.name}),(0,Hv.jsx)("span",{className:"channeName",children:null===(i=t.user)||void 0===i?void 0:i.name}),(0,Hv.jsx)("span",{children:null===(s=t.user)||void 0===s?void 0:s.subscribers})]}),!0===_?(0,Hv.jsx)("button",{className:"subscribe_btn subscribed_btn",onClick:A,disabled:!!k,children:"Subscribed"}):(0,Hv.jsx)("button",{className:"subscribe_btn",onClick:A,disabled:!!k,children:"Subscribe"})]}),(0,Hv.jsxs)("div",{className:"like_share_save_container",children:[(0,Hv.jsxs)("div",{children:[!1===v?(0,Hv.jsx)(xy,{onClick:D}):(0,Hv.jsx)(Ey,{onClick:D}),(0,Hv.jsx)("span",{className:"likes",children:null===(o=t.Video)||void 0===o?void 0:o.likes}),(0,Hv.jsx)("span",{children:"|"}),w?(0,Hv.jsx)(Sy,{onClick:P}):(0,Hv.jsx)(_y,{onClick:P})]}),(0,Hv.jsxs)("div",{children:[(0,Hv.jsx)(zy,{}),(0,Hv.jsx)("span",{className:"share",children:"Share"})]}),(0,Hv.jsxs)("div",{onClick:async()=>{if(T){const e=await g.WatchLater(T,t.videoId);E("videoAddedFromWatchLater"===e)}},children:[S?(0,Hv.jsx)(rb,{}):(0,Hv.jsx)(Ky,{}),(0,Hv.jsx)("span",{className:"save",children:"Save"})]}),(0,Hv.jsxs)("div",{children:[(0,Hv.jsx)(ib,{}),(0,Hv.jsx)("span",{className:"report",children:"Report"})]})]}),(0,Hv.jsx)("div",{className:"comments",children:"On"===(null===(a=t.Video)||void 0===a?void 0:a.comments)?(0,Hv.jsx)(Hv.Fragment,{children:null!==(l=t.Video)&&void 0!==l&&l.Comments?(0,Hv.jsxs)(Hv.Fragment,{children:[(0,Hv.jsx)("div",{className:"comments_top",children:(0,Hv.jsxs)("p",{children:["Comments ",(0,Hv.jsx)("span",{style:{color:"#aaa"},children:null===(c=t.Video)||void 0===c?void 0:c.NumberOfComments})]})}),(0,Hv.jsxs)("div",{className:"comment",onClick:()=>{g.setshortvideoShowMessages(!0),document.body.style.overflow="hidden",window.scrollTo(0,0)},children:[(0,Hv.jsx)("img",{src:null===(u=t.Video)||void 0===u||null===(d=u.Comments[0])||void 0===d?void 0:d.userPic,alt:null===(h=t.Video)||void 0===h||null===(f=h.Comments[0])||void 0===f?void 0:f.name}),(0,Hv.jsx)("span",{children:null===(p=t.Video)||void 0===p||null===(m=p.Comments[0])||void 0===m?void 0:m.CommentText})]})]}):(0,Hv.jsx)("p",{children:"No Comments Till Now"})}):(0,Hv.jsx)("p",{className:"comments_turnedOff_message",children:"Comments are Turned Off for this video"})})]})};const ob=function(t){var n,r,i,s,o,a,l,c,u,d,h,f;let[p,m]=(0,e.useState)(!1);const[g,v]=(0,e.useState)(!1);let[y,w]=(0,e.useState)(!1);const[b,_]=(0,e.useState)(!1),[x,S]=(0,e.useState)(!1);let[E,k]=(0,e.useState)(!1);const[C,T]=(0,e.useState)(!1),[I,N]=(0,e.useState)(""),[j,R]=(0,e.useState)(null),[L,A]=(0,e.useState)(!1),D=(0,e.useContext)(Wv);(0,e.useEffect)((()=>{xv.onAuthStateChanged((e=>{R(e)}))}),[]),(0,e.useEffect)((()=>{if(j){const e=async()=>{try{const n=Sd(xd(bv,"users/".concat(null===j||void 0===j?void 0:j.uid,"/WV")),t.videoId),r=await wh(n),i=Sd(bv,"videos",t.videoId);if(!r.exists()){var e;const r={videoURL:t.videoId};await xh(n,r),await Sh(i,{views:(null===(e=t.Video)||void 0===e?void 0:e.views)+1})}}catch(n){T(!0),N(n.message)}};e()}}),[t.videoId,j,null===(n=t.Video)||void 0===n?void 0:n.views]);const P=async()=>{if(j){A(!0);const e=await D.subscribeChannel(j,t.user);w("subscribed"===e),A(!1)}else alert("You are not signedIn")};(0,e.useEffect)((()=>{(async()=>{if(j&&t.user){const e=D.CheckSubscribedOrNot(j,t.user);w(!!e)}})()}),[t.user,j]);const O=async()=>{if(t.CurrentUser){const e=D.LikeVideo(j,t.videoId,t.Video);m("videoLiked"===e),_(!1)}};(0,e.useEffect)((()=>{(async()=>{try{if(j){const e=Sd(xd(bv,"users/".concat(null===j||void 0===j?void 0:j.uid,"/LV")),t.videoId);(await wh(e)).exists()?m(!0):m(!1)}}catch(e){console.log(e.message),T(!0),N(e.message)}})()}),[t.videoId,t.user,j]);const M=()=>{D.DisLikeVideo(j,t.videoId,t.Video).then((e=>{"video disliked"==e?(p&&m(!1),_(!0)):_(!1)}))};(0,e.useEffect)((()=>{(async()=>{try{if(j){const e=Sd(xd(bv,"users/".concat(null===j||void 0===j?void 0:j.uid,"/DV")),t.videoId);(await wh(e)).exists()?_(!0):_(!1)}}catch(e){console.log(e.message)}})()}),[t.videoId,t.user,j]);const V=async()=>{if(j){const e=await D.WatchLater(j,t.videoId);v("videoAddedFromWatchLater"===e)}};(0,e.useEffect)((()=>{(async()=>{if(j){const e=Sd(xd(bv,"users/".concat(null===j||void 0===j?void 0:j.uid,"/Watchlater")),t.videoId);(await wh(e)).exists()?v(!0):v(!1)}})()}),[j,t.videoId]);const U=e=>e.replace(/(https?:\/\/[^\s]+)/g,(function(e){return e.includes("youtube")?'<div style="display:flex;align-items:center;background-color: rgba(255, 255, 255, 0.102);width: fit-content;border-radius: 12px;padding: 0px 7px;"><img src="https://www.gstatic.com/youtube/img/watch/yt_favicon.png" style="height:13px">\u2022<a href='.concat(e,">").concat(e,"</a></div>"):e.toLowerCase().includes("facebook")?'<div style="display:flex;align-items:center;background-color: rgba(255, 255, 255, 0.102);width: fit-content;border-radius: 12px;padding: 0px 7px;"><img src="https://www.gstatic.com/youtube/img/watch/social_media/facebook_1x.png" style="height:13px">\u2022<a href='.concat(e,">").concat(e,"</a></div>"):e.toLowerCase().includes("instagram")?'<div style="display:flex;align-items:center;background-color: rgba(255, 255, 255, 0.102);width: fit-content;border-radius: 12px;padding: 0px 7px;"><img src="https://www.gstatic.com/youtube/img/watch/social_media/instagram_1x.png" style="height:13px">\u2022<a href='.concat(e,">").concat(e,"</a></div>"):'<div style="display:flex;align-items:center;background-color: rgba(255, 255, 255, 0.102);width: fit-content;border-radius: 12px;padding: 0px 7px;"><a href='.concat(e,">").concat(e,"</a></div>")}));return C?(0,Hv.jsx)(uw,{ErrorMessage:I}):E?(0,Hv.jsx)("p",{style:{color:"white"},children:"Loading..."}):(0,Hv.jsxs)("div",{className:"largescreen-videoInfoCard",children:[(0,Hv.jsx)("div",{children:(0,Hv.jsx)("h3",{id:"video-title",children:null===(r=t.Video)||void 0===r?void 0:r.Title})}),(0,Hv.jsxs)("div",{className:"large-screen-channel_details",children:[(0,Hv.jsxs)("div",{className:"large-screen-channel_details_left_part",children:[(0,Hv.jsxs)("div",{className:"large-screen-left-part",children:[(0,Hv.jsx)("img",{src:null===(i=t.user)||void 0===i?void 0:i.channelPic,alt:null===(s=t.user)||void 0===s?void 0:s.name}),(0,Hv.jsxs)("div",{style:{margin:"3px 0px 0px 5px",lineHeight:"1.1"},children:[(0,Hv.jsx)("span",{className:"channeName",children:null===(o=t.user)||void 0===o?void 0:o.name}),(0,Hv.jsxs)("p",{style:{fontsize:"13px"},children:[null===(a=t.user)||void 0===a?void 0:a.subscribers," subscribers"]})]})]}),!0===y?(0,Hv.jsx)("button",{className:"subscribe_btn subscribed_btn",onClick:P,disabled:!!L,children:"Subscribed"}):(0,Hv.jsx)("button",{className:"subscribe_btn",onClick:P,disabled:!!L,children:"Subscribe"})]}),(0,Hv.jsxs)("div",{className:"like_share_save_container",children:[(0,Hv.jsxs)("div",{children:[!1===p?(0,Hv.jsx)(xy,{onClick:O}):(0,Hv.jsx)(Ey,{onClick:O}),(0,Hv.jsx)("span",{className:"likes",children:null===(l=t.Video)||void 0===l?void 0:l.likes}),(0,Hv.jsx)("span",{children:"|"}),b?(0,Hv.jsx)(Sy,{onClick:M}):(0,Hv.jsx)(_y,{onClick:M})]}),(0,Hv.jsxs)("div",{onClick:()=>{D.setshowModal(!0),console.log(D.showModal)},children:[(0,Hv.jsx)(zy,{}),(0,Hv.jsx)("span",{className:"share",children:"Share"})]}),(0,Hv.jsxs)("div",{children:[g?(0,Hv.jsx)(Wy,{onClick:V}):(0,Hv.jsx)(Ky,{onClick:V}),(0,Hv.jsx)("span",{className:"share",children:"Save"})]}),D.showModal&&(0,Hv.jsx)(Jw,{})]})]}),(null===(c=t.Video)||void 0===c?void 0:c.description)&&(0,Hv.jsxs)("div",{className:"main-description",children:[(0,Hv.jsxs)("p",{style:{color:"gray"},children:[null===(u=t.Video)||void 0===u?void 0:u.views," views"]}),(0,Hv.jsx)("div",{onClick:()=>S(!x),style:{overflow:"auto"},dangerouslySetInnerHTML:{__html:(null===(d=t.Video)||void 0===d?void 0:d.description.length)>0?(null===(h=t.Video)||void 0===h?void 0:h.description.length)>160?x?U(t.Video.description):U(t.Video.description.substring(0,160))+"...":U(t.Video.description.substring(0,100)):"no text"}})]}),(0,Hv.jsx)("div",{className:"large-screen-commnets-section",children:"On"===(null===(f=t.Video)||void 0===f?void 0:f.comments)?(0,Hv.jsx)(Hv.Fragment,{children:(0,Hv.jsx)(jw,{videoId:t.videoId,video:t.Video})}):(0,Hv.jsx)("p",{className:"comments_turnedOff_message",children:"Comments are Turned Off for this video"})})]})};const ab=function(t){const n=(0,e.useContext)(Wv),[r,i]=(0,e.useState)(null),[s,o]=(0,e.useState)(window.innerWidth);return(0,e.useEffect)((()=>{o(window.innerWidth);const e=()=>{o(window.innerWidth)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[s]),(0,e.useState)((()=>{xv.onAuthStateChanged((e=>{i(e)}))}),[]),(0,Hv.jsxs)("div",{className:"fullVideoPage",style:t.FullLengthVideos.length>0?{width:t.CalculatedscreenWidth,maxWidth:t.CalculatedscreenWidth}:{width:"100%",left:"0",right:"0",margin:"0 auto",maxWidth:"821px"},children:[(0,Hv.jsx)("div",{id:"videoPlayer",children:(0,Hv.jsx)(dw,{areNextVideos:t.FullLengthVideos.length>0,NextVideos:t.FullLengthVideos})}),s<990?(0,Hv.jsx)(Hv.Fragment,{children:(0,Hv.jsx)(sb,{Video:t.Video,user:t.user,videoId:t.videoId,CurrentUser:r,currentState:n,NextVideos:t.nextVideos})}):(0,Hv.jsx)(Hv.Fragment,{children:(0,Hv.jsx)("div",{className:"large-screen-fullVideoPage",children:(0,Hv.jsx)(ob,{Video:t.Video,user:t.user,videoId:t.videoId,CurrentUser:r,currentState:n})})})]})};const lb=function(){const[t]=Ft(),n=t.get("v"),[r,i]=(0,e.useState)([]),[s,o]=(0,e.useState)([]),[a,l]=(0,e.useState)([]);let[c,u]=(0,e.useState)();const[d,h]=(0,e.useState)(),[f,p]=(0,e.useState)(!1),[m,g]=Ft(!1),[v,y]=(0,e.useState)(""),[w,b]=(0,e.useState)(null),[_,x]=(0,e.useState)(null),[S,E]=(0,e.useState)(null),[k,C]=(0,e.useState)(null),[T,I]=(0,e.useState)(!0);return(0,e.useEffect)((()=>{(async()=>{p(!0);try{kh(Sd(bv,"videos",n),(async e=>{e.exists()&&(h(e.data()),kh(Sd(bv,"users",e.data().createdBy),(e=>{e.exists()&&u(e.data())})))}),(e=>{g(!0),y(e.message)})),p(!1)}catch(e){console.log(e),g(!0),y(e.message)}})(),b(null),C(null)}),[n]),(0,e.useEffect)((()=>{I(!0);try{kh(xd(bv,"videos"),(async e=>{const t=await Promise.all(e.docs.map((async e=>{const t=Sd(bv,"users",e.data().createdBy),n=await wh(t);return{id:e.id,Videodata:e.data(),UserData:n.data()}}),(e=>{g(!0),y(e.message)})));l(t)}))}catch(e){console.log(e.message)}finally{I(!1)}}),[n]),(0,e.useEffect)((()=>{i(null===a||void 0===a?void 0:a.filter((e=>n?!e.Videodata.shortVideo&&n!==e.id:!e.Videodata.shortVideo))),o(null===a||void 0===a?void 0:a.filter((e=>!0===e.Videodata.shortVideo)))}),[a,n]),(0,e.useEffect)((()=>{const e=document.createElement("video");e.src=null===d||void 0===d?void 0:d.videoURL,e.addEventListener("loadeddata",(()=>{console.log("Testing videoHeight : "+e.videoHeight),window.innerWidth<990?b("unset"):window.innerWidth>=990&&window.innerWidth<=1115?(e.videoHeight>720&&e.videoHeight<1080?(b(window.innerWidth-474),C(w/2),E(window.innerWidth-581)):(b(640),E(window.innerWidth-664)),x(0)):window.innerWidth>1115&&window.innerWidth<=1754?(b(window.innerWidth-474),e.videoHeight>720&&e.videoHeight<1080&&C(w/2),E(403),x(0)):window.innerWidth>1754&&window.innerWidth<2e3?e.videoHeight>720&&e.videoHeight<1080?(b(1280),E(415)):(b(1225),E(window.innerWidth-1304)):window.innerWidth>=2e3&&(b(1225),E(window.innerWidth-1558));const t=()=>{window.innerWidth<990?b("unset"):window.innerWidth>=990&&window.innerWidth<=1115?(e.videoHeight>720&&e.videoHeight<1080?(b(window.innerWidth-474),C(w/2),E(window.innerWidth-581)):(b(640),E(window.innerWidth-664)),x(0)):window.innerWidth>1115&&window.innerWidth<1754?(b(window.innerWidth-474),e.videoHeight>720&&e.videoHeight<1080&&C(w/2),E(403),x(0)):window.innerWidth>=1754&&window.innerWidth<2e3?e.videoHeight>720&&e.videoHeight<1080?(b(1280),E(415)):(b(1225),E(window.innerWidth-1304)):window.innerWidth>=2e3&&(b(1225),E(window.innerWidth-1558))};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}}))}),[w,S,null===d||void 0===d?void 0:d.videoURL]),v&&m?(0,Hv.jsx)(uw,{ErrorMessage:v}):(0,Hv.jsxs)("div",{className:"greaterthan-2000px-screen-div",children:[(0,Hv.jsx)(ab,{CalculatedscreenWidth:w,NextVideos:r,videoId:n,nextVideos:a,Video:d,user:c,FullLengthVideos:r,videoPlayerHeight:k}),T?(0,Hv.jsx)("p",{children:"Loading"}):(0,Hv.jsx)("div",{className:"Next_videos",style:r.length>0?{width:S}:{display:"none"},children:(0,Hv.jsx)(eb,{FullLengthVideos:r,shortVideos:s})})]})};const cb=function(){let[t,n]=(0,e.useState)(0);const[r,i]=(0,e.useState)(null),[s,o]=(0,e.useState)(!1),[a,l]=(0,e.useState)(!0),[c,u]=(0,e.useState)(!1),[d,h]=(0,e.useState)([]),[f,p]=(0,e.useState)([]),[m,g]=(0,e.useState)(window.innerWidth),[v,y]=(0,e.useState)(),[w,b]=(0,e.useState)(!1),[_,x]=(0,e.useState)(0),S=(0,e.useRef)(),E=(0,e.useRef)(),k=(0,e.useRef)(),C=(0,e.useRef)(0),T=(0,e.useRef)(0),I=rt(),N=it(),[j,R]=(0,e.useState)(),L=(0,e.useContext)(Wv);(0,e.useEffect)((()=>{try{kh(xd(bv,"videos"),(async e=>{const t=await Promise.all(e.docs.map((async e=>{const t=Sd(bv,"users",e.data().createdBy),n=await wh(t);return{id:e.id,Videodata:e.data(),UserData:n.data()}})));h(t)}))}catch(e){console.log(e)}finally{l(!1)}}),[]),(0,e.useEffect)((()=>{p(d.filter((e=>!0===e.Videodata.shortVideo)))}),[d]),(0,e.useEffect)((()=>{xv.onAuthStateChanged((e=>{i(e)}))}),[]),(0,e.useEffect)((()=>{R(window.innerHeight),window.innerWidth<=700?g(window.innerWidth):window.innerWidth>700&&window.innerWidth<=990?(g(565),y(window.innerHeight)):window.innerWidth>990&&(R("unset"),g("unset"),y(window.innerHeight-18));const e=()=>{R(window.innerHeight),window.innerWidth<=700?g(window.innerWidth):window.innerWidth>700&&window.innerWidth<=990?(g(565),y(window.innerHeight)):window.innerWidth>990&&(R("unset"),g("unset"),y(window.innerHeight-18))};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[m,v,j]),(0,e.useEffect)((()=>{(async()=>{if(r){var e;const t=Sd(xd(bv,"users/".concat(null===(e=xv.currentUser)||void 0===e?void 0:e.uid,"/LikedVideos")),N.id);(await wh(t)).exists()?o(!0):o(!1)}})()}),[N.id,r]);const A=(e,n)=>{x(n),u(!c);let r=document.querySelectorAll(".short_video_container")[t].getElementsByTagName("video").shortvideo;c?r.play():r.pause()},D=e=>{const n=document.querySelectorAll(".short_video_container")[t].querySelector("span"),r=Math.round(e.target.currentTime/e.target.duration*100);n&&(n.style.width=r+"%")},P=()=>{if(!T.current||!C.current)return;const e=C.current-T.current;let n=document.querySelectorAll(".short_video_container");e>100?t<f.length-1&&(O(),u(!1)):e<-100&&t>0&&t<f.length&&(M(),u(!1)),n.style&&(T.current=C.current=0)},O=()=>{const e=document.querySelectorAll(".short_video_container");if(t>e.length)return;let r=e[t];var i,s,o;r.nextElementSibling&&(r.getElementsByTagName("video")[0].pause(),null===(i=r.nextElementSibling)||void 0===i||i.scrollIntoView({behavior:"smooth"}),r.nextElementSibling.style.scrollSnapAlign="start",n(t+1),I("/short/".concat(null===(s=r.nextElementSibling)||void 0===s?void 0:s.getElementsByTagName("video")[0].dataset.video)),x(parseInt(null===(o=r.nextElementSibling)||void 0===o?void 0:o.getElementsByTagName("video")[0].dataset.index)),r.style.scrollSnapAlign="unset")},M=()=>{var e,r,i;const s=document.querySelectorAll(".short_video_container");if(t<=0)return;let o=s[t];o.getElementsByTagName("video")[0].pause(),null===(e=o.previousElementSibling)||void 0===e||e.scrollIntoView({behavior:"smooth"}),o.previousElementSibling.style.scrollSnapAlign="end",n(t-1),I("/short/".concat(null===(r=o.previousElementSibling)||void 0===r?void 0:r.getElementsByTagName("video")[0].dataset.video)),x(parseInt(null===(i=o.previousElementSibling)||void 0===i?void 0:i.getElementsByTagName("video")[0].dataset.index)),o.style.scrollSnapAlign="unset"};(0,e.useEffect)((()=>{const e=e=>{"ArrowDown"===e.key||40===e.keyCode?O():"ArrowUp"===e.key&&M()};return window.addEventListener("keyup",e),()=>{window.removeEventListener("keyup",e)}}),[t,f]),(0,e.useEffect)((()=>{let e=document.querySelectorAll(".short_video_container")[t];e&&e.getElementsByTagName("video").shortvideo.play()}),[t,f]);const V=e=>{C.current=e.touches[0].clientY},U=e=>{T.current=e.changedTouches[0].clientY;const t=C.current-T.current;S.current.style.transform="translateY(".concat(Math.abs(t),"px)")},F=()=>{C.current-T.current<=-60?(S.current.style.display="none",b(!1),document.body.style.overflow="Scroll"):S.current.style.transform="translateY(0px)"};return a?(0,Hv.jsx)("p",{className:"text-white",children:"Loading..."}):(0,Hv.jsxs)("div",{className:"shortVideos_container",ref:k,id:"shortVideoscontainer",onTouchStart:L.shortvideoShowMessages?null:e=>{C.current=e.touches[0].clientY},onTouchEnd:L.shortvideoShowMessages?null:e=>{T.current=e.changedTouches[0].clientY,P()},children:[(0,Hv.jsx)(Mt,{to:"/youtube-clone",children:(0,Hv.jsx)(ay,{className:"back_icon"})}),f.map(((e,t)=>(0,Hv.jsxs)("div",{className:"short_video_container",style:L.shortvideoShowMessages?{height:j,position:"unset"}:{height:j,position:"relative"},"data-id":e.id,children:[(0,Hv.jsx)("video",{src:e.Videodata.videoURL,id:"shortvideo","data-video":e.id,onClick:e=>{A(0,t)},onTimeUpdate:D,"data-id":N.id,playsInline:!0,"data-index":t,style:{width:m,height:v}}),c&&_===t?(0,Hv.jsx)("div",{className:"shortVideo_middle_control",onClick:e=>{A(0,t)},children:(0,Hv.jsx)(fy,{})}):null,(0,Hv.jsxs)("div",{className:"short_details ".concat(c&&_===t?"ActivesmalldevicesBottomtransition":"RemovesmalldevicesBottomtransition"),style:L.shortvideoShowMessages||L.Description?{zIndex:"0",visibility:"hidden"}:{zIndex:"10",position:"absolute",visibility:"visible"},children:[(0,Hv.jsxs)("div",{className:"short_channel",children:[(0,Hv.jsx)("img",{src:e.UserData.channelPic||e.UserData.channelURL,alt:""}),(0,Hv.jsx)("p",{children:e.UserData.name}),(0,Hv.jsx)("button",{children:"subscribe"})]}),(0,Hv.jsx)("div",{className:"short_title",children:(0,Hv.jsx)("p",{children:e.Videodata.Title})}),(0,Hv.jsx)("div",{id:"shortvideoprogressBar",className:"shortvideoprogressBar ".concat(c&&_===t?"ActivesmalldevicesProgressWidthtransition":"RemovesmalldevicesProgressWidthtransition"),children:(0,Hv.jsx)("span",{id:"short_progressBar_width",ref:E})})]}),(0,Hv.jsxs)("div",{className:"short_controls ".concat(c&&_===t?"ActivesmalldevicesBottomtransition":"RemovesmalldevicesBottomtransition"),id:"shortcontrols",style:L.shortvideoShowMessages||L.Description?{zIndex:"0",position:"absolute"}:{zIndex:"10",position:"absolute"},children:[(0,Hv.jsxs)("div",{className:"like control",style:L.shortvideoShowMessages||L.Description?{visibility:"hidden"}:{visibility:"visible"},children:[s?(0,Hv.jsx)(Ey,{}):(0,Hv.jsx)(xy,{onClick:()=>(async e=>{const t=f.filter((t=>t.id===e));if(r){const e=Sd(xd(bv,"users/".concat(xv.currentUser.uid,"/LV")),N.id),n=Sd(bv,"videos",N.id);if((await wh(e)).exists())console.log("video Already exists");else{const r={videoURL:N.id};await xh(e,r),await Sh(n,{likes:t[0].Videodata.likes+1}),o(!0)}}})(e.id)}),(0,Hv.jsx)("p",{children:e.Videodata.likes})]}),(0,Hv.jsxs)("div",{className:"dislike control",style:L.shortvideoShowMessages||L.Description?{visibility:"hidden"}:{visibility:"visible"},children:[(0,Hv.jsx)(_y,{}),(0,Hv.jsx)("p",{children:"2"})]}),(0,Hv.jsxs)("div",{className:"message control",onClick:()=>{L.setshortvideoShowMessages(!0),document.body.style.overflowY="hidden"},style:L.shortvideoShowMessages||L.Description?{visibility:"hidden"}:{visibility:"visible"},children:[(0,Hv.jsx)(My,{}),(0,Hv.jsx)("p",{children:"3520"})]}),!0===L.shortvideoShowMessages&&_==t&&(0,Hv.jsxs)("div",{className:"shortVivdeoComment",children:[" ",(0,Hv.jsx)(Rw,{video:e.Videodata,user:e.UserData,videoId:N.id})]}),(0,Hv.jsx)("div",{className:"menu control",onClick:()=>{b(!0),document.body.style.overflow="hidden"},style:L.shortvideoShowMessages||L.Description?{visibility:"hidden"}:{visibility:"visible"},children:(0,Hv.jsx)(Nw,{})}),(0,Hv.jsx)("div",{className:"channel control",style:L.shortvideoShowMessages||L.Description?{visibility:"hidden"}:{visibility:"visible"},children:(0,Hv.jsx)("img",{src:e.UserData.channelPic||e.UserData.channelURL,alt:"",style:{width:"45px",borderRadius:"10px"}})})]}),w&&_===t&&(0,Hv.jsxs)("div",{className:"shortvideolayout",ref:S,children:[(0,Hv.jsx)("div",{className:"line",onTouchMove:U,onTouchStart:V,onTouchEnd:F,children:(0,Hv.jsx)("span",{})}),(0,Hv.jsxs)("div",{className:"menuitems",children:[(0,Hv.jsxs)("div",{onClick:()=>{L.setDescription(!0),x(t),b(!1)},children:[(0,Hv.jsx)(Fy,{}),(0,Hv.jsx)("p",{children:"Description"})]}),(0,Hv.jsxs)("div",{children:[(0,Hv.jsx)(Ky,{}),(0,Hv.jsx)("p",{children:"Save To Watch later"})]})]})]}),!0===L.Description&&_==t&&(0,Hv.jsx)(Cw,{isshortVideo:!0})]},t)))]})};const ub=function(){const t=(0,e.useRef)(),n=(0,e.useRef)(),r=(0,e.useRef)(),[i,s]=(0,e.useState)(null),[o,a]=(0,e.useState)(null),[l,c]=(0,e.useState)(),[u,d]=(0,e.useState)(),[h,f]=(0,e.useState)(),[p,m]=(0,e.useState)(),[g,v]=(0,e.useState)(),y=(0,e.useContext)(nw),[w,b]=(0,e.useState)(""),[_,x]=(0,e.useState)(""),[S,E]=(0,e.useState)("");(0,e.useEffect)((()=>{xv.onAuthStateChanged((e=>{a(e)}));(async()=>{o&&s((await wh(Sd(bv,"users",o.uid))).data())})()}),[o]);const k=rt();(0,e.useEffect)((()=>{window.innerWidth<990&&k("/")}),[]),(0,e.useEffect)((()=>{console.log(p)}),[p]);const C=e=>{console.log(e.target.value),E(e.target.value)};return(0,Hv.jsx)("div",{className:"large-screen-upload-video",children:(0,Hv.jsxs)("div",{className:"uploadvideo-inner",children:[(0,Hv.jsxs)("div",{className:"uploadvideo-inner-top",children:[(0,Hv.jsx)("h3",{children:"Upload Video"}),(0,Hv.jsx)(Mt,{to:"/youtube-clone",children:(0,Hv.jsx)(cy,{})})]}),l?(0,Hv.jsx)(Hv.Fragment,{children:(0,Hv.jsxs)("div",{className:"set-video",children:[(0,Hv.jsxs)("div",{className:"inner-set-video",children:[(0,Hv.jsxs)("div",{className:"set-video-left",children:[(0,Hv.jsx)("h2",{children:"Details"}),(0,Hv.jsx)("input",{type:"text",name:"title",id:"title",placeholder:"Enter your Title",onChange:e=>{b(e.target.value)}}),(0,Hv.jsx)("input",{type:"text",name:"description",id:"description",placeholder:"Enter your description",onChange:e=>{x(e.target.value)}}),(0,Hv.jsxs)("div",{onClick:()=>{n.current.click()},style:void 0!==g?{padding:"2px",width:"123px"}:null,children:[void 0!==h?(0,Hv.jsx)("img",{src:h,alt:"thumbnail"}):(0,Hv.jsxs)(Hv.Fragment,{children:[(0,Hv.jsx)(qy,{}),(0,Hv.jsx)("span",{children:"Upload File"})]}),(0,Hv.jsx)("input",{type:"file",name:"thumbnail",id:"thumbnail",hidden:!0,ref:n,onChange:e=>{f(URL.createObjectURL(e.target.files[0])),m(e.target.files[0])}})]}),(0,Hv.jsxs)("div",{className:"large-screen-commnet-type",style:{border:"unset"},children:[(0,Hv.jsx)("h3",{children:"Comment Mode"}),(0,Hv.jsxs)("div",{children:[(0,Hv.jsx)("input",{type:"radio",name:"commentType",value:"On",id:"on",onChange:C}),(0,Hv.jsx)("label",{htmlFor:"On",children:"On"}),(0,Hv.jsx)("input",{type:"radio",name:"commentType",id:"off",value:"Off",onChange:C}),(0,Hv.jsx)("label",{htmlFor:"Off",children:"Off"})]})]})]}),(0,Hv.jsx)("div",{className:"set-video-right",children:(0,Hv.jsx)("div",{ref:r,children:(0,Hv.jsx)(dw,{src:l})})})]}),(0,Hv.jsxs)("div",{className:"set-video-bottom",children:[y.Videoprogress>0?(0,Hv.jsxs)("p",{children:["uploading video... ",y.Videoprogress," %"]}):(0,Hv.jsx)("p",{children:y.ThumbnailProgress?(0,Hv.jsxs)("p",{children:["uploading thumbnail... ",y.ThumbnailProgress,"%"]}):null}),(0,Hv.jsx)("button",{onClick:()=>{if(!o)return void alert("You are not signedIn");let e=r.current.firstChild.firstChild.nextElementSibling.childNodes[0].duration;const t=r.current.firstChild.firstChild.nextElementSibling.childNodes[0];let n=null;const s=Math.floor(e%60),a=Math.floor(e/60)%60;a>=1?n=!1:(1===a||s<=60)&&(n=!0),y.uploadVideoFunc(p,u,w,_,n,i,S,t)},children:"upload video"})]})]})}):(0,Hv.jsx)("div",{className:"uploadvideo-inner-center",children:(0,Hv.jsxs)(Hv.Fragment,{children:[(0,Hv.jsx)("input",{type:"file",hidden:!0,ref:t,onChange:e=>{c(URL.createObjectURL(e.target.files[0])),d(e.target.files[0]),console.log(e.target.files[0])}}),(0,Hv.jsx)("div",{onClick:()=>{t.current.click()},children:(0,Hv.jsx)(Ry,{})}),(0,Hv.jsx)("p",{children:"Drag and drop video files to upload"}),(0,Hv.jsx)("button",{onClick:()=>t.current.click(),children:"Select files"})]})})]})})};const db=function(){return(0,Hv.jsxs)(Hv.Fragment,{children:[(0,Hv.jsxs)("div",{className:"navbar",children:[(0,Hv.jsx)("div",{className:"navbar-logo"}),(0,Hv.jsxs)("div",{className:"large-screennavbar-center",children:[(0,Hv.jsx)("input",{type:"text",name:"",id:"search-term",placeholder:"search here",disabled:!0}),(0,Hv.jsx)("button",{})," "]}),(0,Hv.jsxs)("div",{className:"navbar-icons",children:[(0,Hv.jsx)("div",{className:"navbar-icon"}),(0,Hv.jsx)("div",{className:"navbar-icon"}),(0,Hv.jsx)("div",{className:"navbar-icon"})]})]}),(0,Hv.jsxs)("div",{className:"skeleton-container",children:[(0,Hv.jsxs)("div",{className:"skeleton-card",children:[(0,Hv.jsx)("div",{className:"skeleton-thumbnail"}),(0,Hv.jsxs)("div",{className:"skeleton-details",children:[(0,Hv.jsx)("div",{className:"skeleton-avatar"}),(0,Hv.jsxs)("div",{className:"skeleton-info",children:[(0,Hv.jsx)("div",{className:"skeleton-title"}),(0,Hv.jsx)("div",{className:"skeleton-text"})]})]})]}),(0,Hv.jsxs)("div",{className:"skeleton-card",children:[(0,Hv.jsx)("div",{className:"skeleton-thumbnail"}),(0,Hv.jsxs)("div",{className:"skeleton-details",children:[(0,Hv.jsx)("div",{className:"skeleton-avatar"}),(0,Hv.jsxs)("div",{className:"skeleton-info",children:[(0,Hv.jsx)("div",{className:"skeleton-title"}),(0,Hv.jsx)("div",{className:"skeleton-text"})]})]})]}),(0,Hv.jsxs)("div",{className:"skeleton-card",children:[(0,Hv.jsx)("div",{className:"skeleton-thumbnail"}),(0,Hv.jsxs)("div",{className:"skeleton-details",children:[(0,Hv.jsx)("div",{className:"skeleton-avatar"}),(0,Hv.jsxs)("div",{className:"skeleton-info",children:[(0,Hv.jsx)("div",{className:"skeleton-title"}),(0,Hv.jsx)("div",{className:"skeleton-text"})]})]})]}),(0,Hv.jsxs)("div",{className:"skeleton-card",children:[(0,Hv.jsx)("div",{className:"skeleton-thumbnail"}),(0,Hv.jsxs)("div",{className:"skeleton-details",children:[(0,Hv.jsx)("div",{className:"skeleton-avatar"}),(0,Hv.jsxs)("div",{className:"skeleton-info",children:[(0,Hv.jsx)("div",{className:"skeleton-title"}),(0,Hv.jsx)("div",{className:"skeleton-text"})]})]})]}),(0,Hv.jsxs)("div",{className:"skeleton-card",children:[(0,Hv.jsx)("div",{className:"skeleton-thumbnail"}),(0,Hv.jsxs)("div",{className:"skeleton-details",children:[(0,Hv.jsx)("div",{className:"skeleton-avatar"}),(0,Hv.jsxs)("div",{className:"skeleton-info",children:[(0,Hv.jsx)("div",{className:"skeleton-title"}),(0,Hv.jsx)("div",{className:"skeleton-text"})]})]})]}),(0,Hv.jsxs)("div",{className:"skeleton-card",children:[(0,Hv.jsx)("div",{className:"skeleton-thumbnail"}),(0,Hv.jsxs)("div",{className:"skeleton-details",children:[(0,Hv.jsx)("div",{className:"skeleton-avatar"}),(0,Hv.jsxs)("div",{className:"skeleton-info",children:[(0,Hv.jsx)("div",{className:"skeleton-title"}),(0,Hv.jsx)("div",{className:"skeleton-text"})]})]})]})]})]})};const hb=function(t){var n;const[r,i]=(0,e.useState)([]);return(0,e.useEffect)((()=>{if(t){console.log(t.NonFilteredVideos);try{i(t.NonFilteredVideos&&t.NonFilteredVideos.filter((e=>void 0!==e&&e.Videodata.shortVideo)))}catch(e){console.log(e.message)}}}),[t]),(0,Hv.jsxs)("div",{className:"mini-sidebar",children:[(0,Hv.jsxs)("div",{className:"home",children:[(0,Hv.jsx)(ky,{}),(0,Hv.jsx)("p",{children:"Home"})]}),(0,Hv.jsx)("div",{className:"shorts",children:(0,Hv.jsxs)(Mt,{to:r&&"/short/".concat(null===(n=r[0])||void 0===n?void 0:n.id),children:[(0,Hv.jsx)(yw,{}),(0,Hv.jsx)("p",{children:"Shorts"})]})}),(0,Hv.jsx)("div",{className:"library",children:(0,Hv.jsxs)(Mt,{to:"/Library",children:[(0,Hv.jsx)(Ay,{}),(0,Hv.jsx)("p",{children:"You"})]})})]})};const fb=function(){const t=(0,e.useContext)(lw);let[n,r]=(0,e.useState)([]);const[i,s]=(0,e.useState)(!0),[o,a]=(0,e.useState)(!1),[l,c]=(0,e.useState)("");return(0,e.useEffect)((()=>{(async()=>{s(!0);try{await _h(xd(bv,"videos")).then((e=>{if(e.empty)a(!0),c("Something went wrong");else{const t=e.docs.map((async e=>{const t=Sd(bv,"users",e.data().createdBy),n=await wh(t).then((t=>({id:e.id,Videodata:e.data(),UserData:t.data()}))).catch((e=>{a(!0),c(e.message)}));return n}));Promise.all(t).then((e=>{r(e)}))}})).catch((e=>{a(!0),c(e.message)}));n||(a(!0),c("There is a problem")),s(!1)}catch(o){a(!0),c(o.message)}})()}),[]),(0,Hv.jsxs)(Hv.Fragment,{children:[" ",i?(0,Hv.jsx)(db,{}):(0,Hv.jsxs)(Hv.Fragment,{children:[(0,Hv.jsx)(kw,{}),o||l||t.Error||t.ErrorMessage?(0,Hv.jsx)(cw,{children:(0,Hv.jsx)(uw,{ErrorMessage:l})}):(0,Hv.jsxs)(Hv.Fragment,{children:[(0,Hv.jsx)(nb,{video:n}),(0,Hv.jsx)(ww,{}),(0,Hv.jsx)(hb,{NonFilteredVideos:n})]})]})]})};const pb=function(){const t=(0,e.useContext)(lw),[n,r]=(0,e.useState)([]),[i,s]=(0,e.useState)([]),[o,a]=(0,e.useState)([]),[l,c]=(0,e.useState)([]),[u,d]=(0,e.useState)(!0),[h]=Ft(),f=h.get("v");return(0,e.useEffect)((()=>{const e=JSON.parse(sessionStorage.getItem("inputData"));r(e.searchedVideos),console.log(n)}),[f]),(0,e.useEffect)((()=>{d(!0);(async()=>{try{let e=[];for(let t in n){const r=Sd(bv,"users/".concat(n[t].data.createdBy)),i=await wh(r);e.push({id:n[t].id,UserData:i.data(),Videodata:n[t].data})}s(e),d(!1)}catch(e){console.log(e)}})()}),[n]),(0,e.useEffect)((()=>{const e=t.FilteredVideos(i,null);a(e.FullLengthVideo),c(e.shortVideo)}),[i]),(0,Hv.jsx)(Hv.Fragment,{children:(0,Hv.jsx)("div",{className:"SearchedVideos",children:u?(0,Hv.jsx)(db,{}):(0,Hv.jsx)(eb,{FullLengthVideos:o,ShortVideos:l,areSearchResult:!0})})})},mb=(0,e.createContext)(),gb=t=>{let{children:n}=t;const[r,i]=(0,e.useState)(null),[s,o]=(0,e.useState)([]),[a,l]=(0,e.useState)(!0),[c,u]=(0,e.useState)("");return(0,Hv.jsx)(mb.Provider,{value:{Loading:a,Error:c,Allvideos:s,user:r,GetchannelData:async e=>{l(!0);try{const t=Sd(bv,"users/".concat(e)),n=await wh(t);i(n.data());const r=xd(bv,"users/".concat(e,"/createdVideos")),a=(await _h(r)).docs.map((async e=>{const t=Sd(bv,"videos/".concat(e.data().videoUrl));return{Videodata:(await wh(t)).data(),videoUrl:e.data().videoUrl}}));return Promise.all(a).then((e=>{o(e)})),s}catch(t){console.log(t),u(t.message)}}},children:n})};const vb=function(t){var n,r;const i=it(),[s,o]=(0,e.useState)(null),[a,l]=(0,e.useState)(!1),[c,u]=(0,e.useState)(!0),d=(0,e.useContext)(mb);return(0,e.useEffect)((()=>{console.log(d.user);(async()=>{try{xv.onAuthStateChanged((e=>{o(e)}))}catch(Error){console.log(Error)}})()}),[]),(0,e.useEffect)((()=>{(async()=>{u(!0);try{if(s){const e=Sd(xd(bv,"users/".concat(s.uid,"/subscribedChannel")),i.id);(await wh(e)).exists()&&l(!0)}}catch(e){console.log(e)}finally{u(!1)}})()}),[s,i.id]),(0,Hv.jsx)(Hv.Fragment,{children:(0,Hv.jsxs)("div",{id:"header",children:[(0,Hv.jsx)("img",{src:null===(n=d.user)||void 0===n?void 0:n.channelPic,alt:""}),(0,Hv.jsxs)("div",{id:"header-top",children:[(0,Hv.jsx)("h1",{children:null===(r=d.user)||void 0===r?void 0:r.name}),c?(0,Hv.jsx)("button",{disabled:!0,children:"Loading..."}):(0,Hv.jsx)("button",{style:a?{color:"white",background:"#272727"}:{color:"black",background:"white"},children:a?"subscribed":"subscribe"})]})]})})};const yb=function(){const t=(0,e.useContext)(Wv),n=(0,e.useContext)(mb),r=it(),[i,s]=(0,e.useState)([]),[o,a]=(0,e.useState)(),[l,c]=(0,e.useState)(null),[u,d]=(0,e.useState)(!1),[h,f]=(0,e.useState)(""),[p,m]=(0,e.useState)(!0),[g,v]=(0,e.useState)(!1),[y,w]=(0,e.useState)(0),[b,_]=(0,e.useState)(null),[x,S]=(0,e.useState)(null),[E,k]=(0,e.useState)(!1);(0,e.useEffect)((()=>{xv.onAuthStateChanged((e=>{c(e)}))}),[]),(0,e.useEffect)((()=>{(async()=>{const e=await n.GetchannelData(r.id);s(e)})()}),[r.id,n]),(0,e.useEffect)((()=>{(async()=>{m(!0);try{if(l){const e=Sd(xd(bv,"users/".concat(l.uid,"/subscribedChannel")),r.id);(await wh(e)).exists()&&d(!0)}}catch(e){console.log(e)}finally{m(!1)}})()}),[l,r.id]),(0,e.useEffect)((()=>{a(n.user)}),[n.user]),(0,e.useEffect)((()=>{document.body.style.overflow=E?"hidden":"scroll"}),[E]);const C=document.getElementById("dots");return C&&window.addEventListener("resize",(()=>{window.innerWidth>600?(_(C.getBoundingClientRect().left-246),S(C.getBoundingClientRect().y+9)):(_(null),S(null))})),g?(0,Hv.jsx)("p",{children:"Loading..."}):h?(0,Hv.jsx)("p",{style:{color:"white",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:h}):(0,Hv.jsxs)("div",{className:"userhomepage",children:[(0,Hv.jsx)(vb,{}),(0,Hv.jsxs)("div",{id:"tabsContainer",children:[(0,Hv.jsx)("div",{id:"videos",children:(0,Hv.jsx)(Mt,{to:"#",children:"Videos"})}),(0,Hv.jsx)("div",{id:"Shortvideos",children:(0,Hv.jsx)(Mt,{to:"/".concat(r.id,"/").concat(null===o||void 0===o?void 0:o.name.replace(" ",""),"}/Shorts"),children:"Shorts"})})]}),(0,Hv.jsx)("div",{id:"homepage-body",children:i&&i.filter((e=>!e.Videodata.shortVideo)).map(((e,n)=>(0,Hv.jsxs)("div",{id:"video",children:[(0,Hv.jsx)(Mt,{to:"/watch?v=".concat(null===e||void 0===e?void 0:e.videoUrl),children:(0,Hv.jsxs)("div",{id:"thumbnail_container",children:[(0,Hv.jsx)("img",{src:null===e||void 0===e?void 0:e.Videodata.Thumbnail,alt:"",className:"video"}),(0,Hv.jsx)("p",{className:"videoLength",children:t.returnvideoTime(null===e||void 0===e?void 0:e.Videodata.videoLength)})]})}),(0,Hv.jsxs)("div",{className:"video_bottom",children:[(0,Hv.jsx)("div",{className:"video_bttom_left",children:(0,Hv.jsxs)("div",{className:"video_title_and_channelName",children:[(0,Hv.jsx)("h3",{id:"video_title",className:"title",children:null===e||void 0===e?void 0:e.Videodata.Title}),(0,Hv.jsx)("div",{children:(0,Hv.jsxs)("p",{children:[null===o||void 0===o?void 0:o.name," \u2022 ",null===e||void 0===e?void 0:e.Videodata.views," Views \u2022 ",t.getVideoPublishedTime(e)]})})]})}),(0,Hv.jsx)("div",{onClick:e=>{((e,t)=>{k(!E),w(t),window.innerWidth<=600?(document.body.style.opacity="0.7",_(null),S(null)):(_(e.pageX-246),S(e.clientY)),document.body.style.overflow="hidden"})(e,n)},children:(0,Hv.jsx)(Iw,{className:"videomenu",id:y===n?"dots":null})}),E&&n===y&&(0,Hv.jsx)(Hv.Fragment,{children:(0,Hv.jsx)($w,{Left:b,Top:x,video:e.video,user:l})})]})]},n)))})]})};const wb=function(){var t;const n=(0,e.useContext)(mb),[r,i]=(0,e.useState)([]),s=it();return(0,e.useEffect)((()=>{(async()=>{try{const e=await n.GetchannelData(s.id);i(e.filter((e=>e.Videodata.shortVideo)))}catch(e){console.log(e)}})()}),[s.id,n]),(0,Hv.jsxs)("div",{className:"shorts-home-page",children:[(0,Hv.jsx)(vb,{}),(0,Hv.jsxs)("div",{id:"tabsContainer",children:[(0,Hv.jsx)("div",{id:"videos",children:(0,Hv.jsx)(Mt,{to:"#",children:"Videos"})}),(0,Hv.jsx)("div",{id:"Shortvideos",children:(0,Hv.jsx)(Mt,{to:"/".concat(s.id,"/").concat(null===(t=n.user)||void 0===t?void 0:t.name.replace(" ",""),"}/Shorts"),children:"Shorts"})})]}),(0,Hv.jsx)("div",{className:"user-allshortsvideos",children:r.length>0&&(0,Hv.jsx)("div",{class:"short-videos",children:(0,Hv.jsx)("div",{className:"short-video-section",children:(0,Hv.jsx)("div",{className:"short-video-shelf",children:r&&r.map(((e,t)=>(0,Hv.jsx)("div",{className:"short-video",children:(0,Hv.jsxs)("div",{id:"short-video",children:[(0,Hv.jsx)("video",{src:e.Videodata.videoURL}),(0,Hv.jsxs)("div",{className:"short-video-detail",children:[(0,Hv.jsx)("div",{className:"short-video-title",children:e.Videodata.Title}),(0,Hv.jsxs)("div",{className:"views",children:[e.Videodata.views," Views"]})]})]})},t)))})})})})]})};const bb=function(){const[t,n]=(0,e.useState)([]),[r,i]=(0,e.useState)(null),[s,o]=(0,e.useState)(!1),[a,l]=(0,e.useState)(null),[c,u]=(0,e.useState)(null),[d,h]=(0,e.useState)(null);(0,e.useEffect)((()=>{xv.onAuthStateChanged((e=>{i(e)}))}),[]),(0,e.useEffect)((()=>{r&&kh(xd(bv,"users/".concat(null===r||void 0===r?void 0:r.uid,"/watchedVideos")),(async e=>{const t=await Promise.all(e.docs.map((async e=>{var t;const n=Sd(bv,"videos",e.data().videoUrl),r=await wh(n),i=Sd(bv,"users",null===(t=r.data())||void 0===t?void 0:t.createdBy),s=await wh(i);return{videoId:n.id,Videodata:r.data(),UserData:s.data()}})));n(t),console.log(t)}))}),[]),(0,e.useEffect)((()=>{console.log(t)}),[t]);const f=document.getElementById("dots");return f&&window.addEventListener("resize",(()=>{window.innerWidth>600?(u(f.getBoundingClientRect().left-246),h(f.getBoundingClientRect().y+9)):(u(null),h(null))})),(0,Hv.jsxs)(Hv.Fragment,{children:[(0,Hv.jsx)(kw,{}),t.length>0?(0,Hv.jsxs)("div",{id:"historypage",children:[(0,Hv.jsx)("h1",{children:"History Page"}),(0,Hv.jsxs)("div",{className:"Watchedvideos",children:[(0,Hv.jsxs)("div",{className:"shortsShelf",children:[(0,Hv.jsxs)("div",{className:"shelf-header",children:[(0,Hv.jsx)("img",{src:Lw,alt:"shorts-icon"}),(0,Hv.jsx)("h4",{children:"Shorts"})]}),t&&t.filter((e=>e.Videodata.shortVideo)).map(((e,t)=>(0,Hv.jsx)("div",{className:"short-video",children:(0,Hv.jsxs)("div",{id:"short-video",children:[(0,Hv.jsx)("video",{src:e.Videodata.videoURL}),(0,Hv.jsxs)("div",{className:"short-video-detail",children:[(0,Hv.jsx)("div",{className:"short-video-title",children:e.Videodata.Title}),(0,Hv.jsxs)("div",{className:"views",children:[e.Videodata.views," Views"]})]})]})},t)))]}),(0,Hv.jsx)("div",{className:"FullLengthVideos",children:t&&t.filter((e=>!e.Videodata.shortVideo)).map(((e,t)=>{var n,i,f,p,m,g;return(0,Hv.jsxs)("div",{id:"video",children:[(0,Hv.jsx)(Mt,{to:"/watch?v=".concat(e.videoId),children:(0,Hv.jsx)("div",{id:"thumbnail_container",children:(0,Hv.jsx)("img",{src:e.Videodata.Thumbnail,alt:"",className:"video"})})}),(0,Hv.jsxs)("div",{className:"video_bottom",children:[(0,Hv.jsxs)("div",{className:"video_bttom_left",children:[(0,Hv.jsx)(Mt,{to:"/".concat(e.Videodata.createdBy,"/").concat(null===(n=e.UserData)||void 0===n?void 0:n.name.replace(" ",""),"/videos"),children:(0,Hv.jsx)("img",{src:null===(i=e.UserData)||void 0===i?void 0:i.channelPic,alt:null===(f=e.UserData)||void 0===f?void 0:f.name})}),(0,Hv.jsxs)("div",{className:"video_title_and_channelName",children:[(0,Hv.jsx)("h3",{id:"video_title",className:"title",children:null===(p=e.Videodata)||void 0===p?void 0:p.Title}),(0,Hv.jsx)("div",{children:(0,Hv.jsxs)("p",{children:[null===(m=e.UserData)||void 0===m?void 0:m.name," \u2022"," "," ",null===(g=e.Videodata)||void 0===g?void 0:g.views," Views"]})})]})]}),(0,Hv.jsx)("div",{onClick:e=>{((e,t)=>{o(!s),l(t),window.innerWidth>600?(u(e.pageX-246),h(e.clientY)):(u(null),h(null)),document.body.style.overflow="hidden"})(e,t)},children:(0,Hv.jsx)(Iw,{className:"videomenu",id:a===t?"dots":null})})]}),s&&a===t&&(0,Hv.jsx)($w,{Left:c,Top:d,videoURL:e.videoId,user:r})]},t)}))})]})]}):(0,Hv.jsx)("p",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh",color:"white"},children:"No videos"})]})};const _b=function(){var t;const n=(0,e.useContext)(Wv),[r]=Ft(),[i,s]=(0,e.useState)(null),[o,a]=(0,e.useState)([]),[l,c]=(0,e.useState)(null),[u,d]=(0,e.useState)(null),[h,f]=(0,e.useState)(null);(0,e.useEffect)((()=>{xv.onAuthStateChanged((e=>{s(e)}))}),[]);const p=r.get("list");(0,e.useEffect)((()=>{(async()=>{try{if(i){const e=Sd(bv,"users",null===i||void 0===i?void 0:i.uid),t=await wh(e),n=(await _h(xd(bv,"users/".concat(null===i||void 0===i?void 0:i.uid,"/").concat(p)))).docs.map((async e=>{const t=Sd(bv,"videos",e.data().videoURL),n=await wh(t);return{videoId:e.id,Videodata:n.data()}}));Promise.all(n).then((e=>{a({listvideos:e,user:t.data()})}))}}catch(e){console.log(e)}})()}),[i,p]),(0,e.useEffect)((()=>{n.bottomlayout?document.body.style.overflow="hidden":document.body.style.overflow="scroll"}),[n.bottomlayout]);const m=document.getElementById("dots");return m&&window.addEventListener("resize",(()=>{window.innerWidth>600?d(m.getBoundingClientRect().left-246):(d(null),f(null))})),(0,Hv.jsx)(Hv.Fragment,{children:o.listvideos&&(0,Hv.jsxs)(Hv.Fragment,{children:[(0,Hv.jsx)(hb,{NonFilteredVideos:o.listvideo&&o.listvideos}),(0,Hv.jsxs)("div",{id:"list",children:[(0,Hv.jsxs)("div",{id:"left",children:[(0,Hv.jsx)("div",{className:"video",children:(0,Hv.jsx)("img",{src:o.listvideos[0].Videodata.Thumbnail,alt:""})}),(0,Hv.jsx)("div",{children:(0,Hv.jsx)("h3",{children:"WL"==p?"Watch later":"LV"==p?"Liked Videos":"Watched Videos"})}),(0,Hv.jsx)("p",{id:"username",children:null===(t=o.user)||void 0===t?void 0:t.name}),(0,Hv.jsxs)("p",{className:"videoslength",children:[o.listvideos.length," videos"]})]}),(0,Hv.jsx)("div",{id:"right",children:o.listvideos&&o.listvideos.map(((e,t)=>{var r;return(0,Hv.jsxs)("div",{id:"video",children:[(0,Hv.jsx)(Mt,{to:"/watch/".concat(null===e||void 0===e?void 0:e.videoId),children:(0,Hv.jsxs)("div",{id:"thumbnail_container",style:null!==e&&void 0!==e&&e.Videodata.shortVideo?{background:"black"}:{background:"unset"},children:[(0,Hv.jsx)("img",{src:null===e||void 0===e?void 0:e.Videodata.Thumbnail,alt:"",className:"video",style:null!==e&&void 0!==e&&e.Videodata.shortVideo?{objectFit:"contain"}:{objectFit:"cover"}}),(0,Hv.jsx)("p",{className:"videoLength",children:n.returnvideoTime(null===e||void 0===e?void 0:e.Videodata.videoLength)})]})}),(0,Hv.jsxs)("div",{className:"video_bottom",children:[(0,Hv.jsx)("div",{className:"video_bttom_left",children:(0,Hv.jsxs)("div",{className:"video_title_and_channelName",children:[(0,Hv.jsx)("h3",{id:"video_title",className:"title",children:null===e||void 0===e?void 0:e.Videodata.Title}),(0,Hv.jsx)("div",{children:(0,Hv.jsxs)("p",{children:[null===(r=o.user)||void 0===r?void 0:r.name," \u2022 ",null===e||void 0===e?void 0:e.Videodata.views," Views \u2022 ",n.getVideoPublishedTime(e)]})})]})}),(0,Hv.jsx)("div",{onClick:e=>{((e,t)=>{n.setbottomlayout(!0),c(t),window.innerWidth<=600?(d(null),f(null)):(d(e.pageX-246),f(e.clientY)),document.body.style.overflow="hidden"})(e,t)},children:(0,Hv.jsx)(Iw,{className:"videomenu",id:l===t?"dots":null})}),t===l&&(0,Hv.jsxs)(Hv.Fragment,{children:[n.bottomlayout&&(0,Hv.jsx)($w,{Left:u,Top:h,video:null===e||void 0===e?void 0:e.Videodata,videoURL:null===e||void 0===e?void 0:e.videoId,user:i}),n.showToastNotification&&(0,Hv.jsx)(Zw,{})]})]})]},t)}))})]})]})})},xb=r.createRoot(document.getElementById("root"));let Sb=function(e,t){return ie({basename:null==t?void 0:t.basename,future:bt({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:(n={window:null==t?void 0:t.window},void 0===n&&(n={}),g((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return f("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:p(t)}),null,n)),hydrationData:(null==t?void 0:t.hydrationData)||Et(),routes:e,mapRouteProperties:wt,unstable_dataStrategy:null==t?void 0:t.unstable_dataStrategy,unstable_patchRoutesOnNavigation:null==t?void 0:t.unstable_patchRoutesOnNavigation,window:null==t?void 0:t.window}).initialize();var n}([{path:"/youtube-clone",element:(0,Hv.jsx)(Hv.Fragment,{children:(0,Hv.jsx)(cw,{children:(0,Hv.jsx)(qv,{children:(0,Hv.jsx)(fb,{})})})})},{path:"/Library",element:(0,Hv.jsxs)(Hv.Fragment,{children:[(0,Hv.jsx)(kw,{}),(0,Hv.jsx)(qv,{children:(0,Hv.jsx)(vw,{})}),(0,Hv.jsx)(ww,{})]})},{path:"/watch?",element:(0,Hv.jsxs)(Hv.Fragment,{children:[(0,Hv.jsx)(kw,{}),(0,Hv.jsx)(qv,{children:(0,Hv.jsx)(lb,{})})]})},{path:"/short/:id",element:(0,Hv.jsx)(Hv.Fragment,{children:(0,Hv.jsx)(qv,{children:(0,Hv.jsx)(cb,{})})})},{path:"/uploadVideo",element:(0,Hv.jsx)(Hv.Fragment,{children:(0,Hv.jsx)(rw,{children:(0,Hv.jsx)(ub,{})})})},{path:"/results/?",element:(0,Hv.jsxs)(Hv.Fragment,{children:[(0,Hv.jsx)(kw,{}),(0,Hv.jsx)(cw,{children:(0,Hv.jsx)(qv,{children:(0,Hv.jsx)(pb,{})})})]})},{path:"/:id/:name/videos",element:(0,Hv.jsxs)(Hv.Fragment,{children:[(0,Hv.jsx)(kw,{}),(0,Hv.jsx)(gb,{children:(0,Hv.jsx)(qv,{children:(0,Hv.jsx)(yb,{})})})]})},{path:"/:id/:name/Shorts",element:(0,Hv.jsxs)(Hv.Fragment,{children:[(0,Hv.jsx)(kw,{}),(0,Hv.jsx)(gb,{children:(0,Hv.jsx)(wb,{})})]})},{path:"/playlist?",element:(0,Hv.jsxs)(Hv.Fragment,{children:[(0,Hv.jsx)(kw,{}),(0,Hv.jsx)(qv,{children:(0,Hv.jsx)(_b,{})})]})},{path:"/history/?",element:(0,Hv.jsx)(Hv.Fragment,{children:(0,Hv.jsx)(qv,{children:(0,Hv.jsx)(bb,{})})})}]);xb.render((0,Hv.jsx)(Lt,{router:Sb,children:(0,Hv.jsx)(yt,{basename:"/youtube-clone"})})),i()})()})();
//# sourceMappingURL=main.352785b5.js.map